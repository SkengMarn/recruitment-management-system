function XM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function YM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Xk={exports:{}},Mh={},Yk={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),JM=Symbol.for("react.portal"),QM=Symbol.for("react.fragment"),ZM=Symbol.for("react.strict_mode"),eI=Symbol.for("react.profiler"),tI=Symbol.for("react.provider"),rI=Symbol.for("react.context"),nI=Symbol.for("react.forward_ref"),aI=Symbol.for("react.suspense"),iI=Symbol.for("react.memo"),sI=Symbol.for("react.lazy"),kw=Symbol.iterator;function oI(e){return e===null||typeof e!="object"?null:(e=kw&&e[kw]||e["@@iterator"],typeof e=="function"?e:null)}var Jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qk=Object.assign,Zk={};function Ko(e,t,r){this.props=e,this.context=t,this.refs=Zk,this.updater=r||Jk}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eC(){}eC.prototype=Ko.prototype;function Rx(e,t,r){this.props=e,this.context=t,this.refs=Zk,this.updater=r||Jk}var Mx=Rx.prototype=new eC;Mx.constructor=Rx;Qk(Mx,Ko.prototype);Mx.isPureReactComponent=!0;var Cw=Array.isArray,tC=Object.prototype.hasOwnProperty,Ix={current:null},rC={key:!0,ref:!0,__self:!0,__source:!0};function nC(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)tC.call(t,n)&&!rC.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ku,type:e,key:s,ref:o,props:a,_owner:Ix.current}}function lI(e,t){return{$$typeof:ku,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dx(e){return typeof e=="object"&&e!==null&&e.$$typeof===ku}function cI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ew=/\/+/g;function hm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cI(""+e.key):t.toString(36)}function Rd(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ku:case JM:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+hm(o,0):n,Cw(a)?(r="",e!=null&&(r=e.replace(Ew,"$&/")+"/"),Rd(a,t,r,"",function(u){return u})):a!=null&&(Dx(a)&&(a=lI(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ew,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Cw(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+hm(s,l);o+=Rd(s,t,r,c,a)}else if(c=oI(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+hm(s,l++),o+=Rd(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gu(e,t,r){if(e==null)return e;var n=[],a=0;return Rd(e,n,"","",function(s){return t.call(r,s,a++)}),n}function uI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},Md={transition:null},dI={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Md,ReactCurrentOwner:Ix};function aC(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Gu,forEach:function(e,t,r){Gu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gu(e,function(){t++}),t},toArray:function(e){return Gu(e,function(t){return t})||[]},only:function(e){if(!Dx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Ko;De.Fragment=QM;De.Profiler=eI;De.PureComponent=Rx;De.StrictMode=ZM;De.Suspense=aI;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;De.act=aC;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Qk({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ix.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tC.call(t,c)&&!rC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ku,type:e.type,key:a,ref:s,props:n,_owner:o}};De.createContext=function(e){return e={$$typeof:rI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tI,_context:e},e.Consumer=e};De.createElement=nC;De.createFactory=function(e){var t=nC.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:nI,render:e}};De.isValidElement=Dx;De.lazy=function(e){return{$$typeof:sI,_payload:{_status:-1,_result:e},_init:uI}};De.memo=function(e,t){return{$$typeof:iI,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Md.transition;Md.transition={};try{e()}finally{Md.transition=t}};De.unstable_act=aC;De.useCallback=function(e,t){return ur.current.useCallback(e,t)};De.useContext=function(e){return ur.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};De.useEffect=function(e,t){return ur.current.useEffect(e,t)};De.useId=function(){return ur.current.useId()};De.useImperativeHandle=function(e,t,r){return ur.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return ur.current.useMemo(e,t)};De.useReducer=function(e,t,r){return ur.current.useReducer(e,t,r)};De.useRef=function(e){return ur.current.useRef(e)};De.useState=function(e){return ur.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return ur.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return ur.current.useTransition()};De.version="18.3.1";Yk.exports=De;var w=Yk.exports;const L=Ve(w),Lx=XM({__proto__:null,default:L},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=w,hI=Symbol.for("react.element"),pI=Symbol.for("react.fragment"),mI=Object.prototype.hasOwnProperty,gI=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vI={key:!0,ref:!0,__self:!0,__source:!0};function iC(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mI.call(t,n)&&!vI.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:hI,type:e,key:s,ref:o,props:a,_owner:gI.current}}Mh.Fragment=pI;Mh.jsx=iC;Mh.jsxs=iC;Xk.exports=Mh;var i=Xk.exports,sC={exports:{}},Mr={},oC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var q=C.length;C.push(M);e:for(;0<q;){var Z=q-1>>>1,te=C[Z];if(0<a(te,M))C[Z]=M,C[q]=te,q=Z;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var M=C[0],q=C.pop();if(q!==M){C[0]=q;e:for(var Z=0,te=C.length,ce=te>>>1;Z<ce;){var pe=2*(Z+1)-1,J=C[pe],ne=pe+1,H=C[ne];if(0>a(J,q))ne<te&&0>a(H,J)?(C[Z]=H,C[ne]=q,Z=ne):(C[Z]=J,C[pe]=q,Z=pe);else if(ne<te&&0>a(H,q))C[Z]=H,C[ne]=q,Z=ne;else break e}}return M}function a(C,M){var q=C.sortIndex-M.sortIndex;return q!==0?q:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=C)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(C){if(y=!1,x(C),!v)if(r(c)!==null)v=!0,D(j);else{var M=r(u);M!==null&&$(_,M.startTime-C)}}function j(C,M){v=!1,y&&(y=!1,b(k),k=-1),m=!0;var q=h;try{for(x(M),f=r(c);f!==null&&(!(f.expirationTime>M)||C&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var te=Z(f.expirationTime<=M);M=e.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),x(M)}else n(c);f=r(c)}if(f!==null)var ce=!0;else{var pe=r(u);pe!==null&&$(_,pe.startTime-M),ce=!1}return ce}finally{f=null,h=q,m=!1}}var S=!1,N=null,k=-1,A=5,O=-1;function P(){return!(e.unstable_now()-O<A)}function T(){if(N!==null){var C=e.unstable_now();O=C;var M=!0;try{M=N(!0,C)}finally{M?z():(S=!1,N=null)}}else S=!1}var z;if(typeof g=="function")z=function(){g(T)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,R=E.port2;E.port1.onmessage=T,z=function(){R.postMessage(null)}}else z=function(){p(T,0)};function D(C){N=C,S||(S=!0,z())}function $(C,M){k=p(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,D(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var q=h;h=M;try{return C()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var q=h;h=C;try{return M()}finally{h=q}},e.unstable_scheduleCallback=function(C,M,q){var Z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,C){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,C={id:d++,callback:M,priorityLevel:C,startTime:q,expirationTime:te,sortIndex:-1},q>Z?(C.sortIndex=q,t(u,C),r(c)===null&&C===r(u)&&(y?(b(k),k=-1):y=!0,$(_,q-Z))):(C.sortIndex=te,t(c,C),v||m||(v=!0,D(j))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var M=h;return function(){var q=h;h=M;try{return C.apply(this,arguments)}finally{h=q}}}})(lC);oC.exports=lC;var yI=oC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI=w,Rr=yI;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cC=new Set,vc={};function us(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(vc[e]=t,e=0;e<t.length;e++)cC.add(t[e])}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rg=Object.prototype.hasOwnProperty,bI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aw={},Pw={};function wI(e){return Rg.call(Pw,e)?!0:Rg.call(Aw,e)?!1:bI.test(e)?Pw[e]=!0:(Aw[e]=!0,!1)}function _I(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jI(e,t,r,n){if(t===null||typeof t>"u"||_I(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Ux(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fx,Ux);Gt[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fx,Ux);Gt[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fx,Ux);Gt[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bx(e,t,r,n){var a=Gt.hasOwnProperty(t)?Gt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jI(t,r,a,n)&&(r=null),n||a===null?wI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ya=xI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),uC=Symbol.for("react.provider"),dC=Symbol.for("react.context"),Wx=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),fC=Symbol.for("react.offscreen"),Ow=Symbol.iterator;function jl(e){return e===null||typeof e!="object"?null:(e=Ow&&e[Ow]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,pm;function Vl(e){if(pm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pm=t&&t[1]||""}return`
`+pm+e}var mm=!1;function gm(e,t){if(!e||mm)return"";mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vl(e):""}function SI(e){switch(e.tag){case 5:return Vl(e.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return e=gm(e.type,!1),e;case 11:return e=gm(e.type.render,!1),e;case 1:return e=gm(e.type,!0),e;default:return""}}function Lg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Is:return"Fragment";case Ms:return"Portal";case Mg:return"Profiler";case zx:return"StrictMode";case Ig:return"Suspense";case Dg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dC:return(e.displayName||"Context")+".Consumer";case uC:return(e._context.displayName||"Context")+".Provider";case Wx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vx:return t=e.displayName||null,t!==null?t:Lg(e.type)||"Memo";case Pa:t=e._payload,e=e._init;try{return Lg(e(t))}catch{}}return null}function NI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lg(t);case 8:return t===zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kI(e){var t=hC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xu(e){e._valueTracker||(e._valueTracker=kI(e))}function pC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fg(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ni(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mC(e,t){t=t.checked,t!=null&&Bx(e,"checked",t,!1)}function Ug(e,t){mC(e,t);var r=ni(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bg(e,t.type,ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $w(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bg(e,t,r){(t!=="number"||tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ql=Array.isArray;function Zs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ni(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(ql(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ni(r)}}function gC(e,t){var r=ni(t.value),n=ni(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yu,yC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CI=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(e){CI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ql[t]=Ql[e]})});function xC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ql.hasOwnProperty(e)&&Ql[e]?(""+t).trim():t+"px"}function bC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=xC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var EI=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vg(e,t){if(t){if(EI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function qg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function qx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gg=null,eo=null,to=null;function Iw(e){if(e=Au(e)){if(typeof Gg!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Uh(t),Gg(e.stateNode,e.type,t))}}function wC(e){eo?to?to.push(e):to=[e]:eo=e}function _C(){if(eo){var e=eo,t=to;if(to=eo=null,Iw(e),t)for(e=0;e<t.length;e++)Iw(t[e])}}function jC(e,t){return e(t)}function SC(){}var vm=!1;function NC(e,t,r){if(vm)return e(t,r);vm=!0;try{return jC(e,t,r)}finally{vm=!1,(eo!==null||to!==null)&&(SC(),_C())}}function xc(e,t){var r=e.stateNode;if(r===null)return null;var n=Uh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Kg=!1;if(oa)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Kg=!1}function AI(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zl=!1,rf=null,nf=!1,Xg=null,PI={onError:function(e){Zl=!0,rf=e}};function OI(e,t,r,n,a,s,o,l,c){Zl=!1,rf=null,AI.apply(PI,arguments)}function TI(e,t,r,n,a,s,o,l,c){if(OI.apply(this,arguments),Zl){if(Zl){var u=rf;Zl=!1,rf=null}else throw Error(le(198));nf||(nf=!0,Xg=u)}}function ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dw(e){if(ds(e)!==e)throw Error(le(188))}function $I(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Dw(a),e;if(s===n)return Dw(a),t;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function CC(e){return e=$I(e),e!==null?EC(e):null}function EC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EC(e);if(t!==null)return t;e=e.sibling}return null}var AC=Rr.unstable_scheduleCallback,Lw=Rr.unstable_cancelCallback,RI=Rr.unstable_shouldYield,MI=Rr.unstable_requestPaint,yt=Rr.unstable_now,II=Rr.unstable_getCurrentPriorityLevel,Hx=Rr.unstable_ImmediatePriority,PC=Rr.unstable_UserBlockingPriority,af=Rr.unstable_NormalPriority,DI=Rr.unstable_LowPriority,OC=Rr.unstable_IdlePriority,Ih=null,Tn=null;function LI(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ih,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:BI,FI=Math.log,UI=Math.LN2;function BI(e){return e>>>=0,e===0?32:31-(FI(e)/UI|0)|0}var Ju=64,Qu=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Hl(l):(s&=o,s!==0&&(n=Hl(s)))}else o=r&~a,o!==0?n=Hl(o):s!==0&&(n=Hl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fn(t),a=1<<r,n|=e[r],t&=~a;return n}function zI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-fn(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=zI(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Yg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TC(){var e=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),e}function ym(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=r}function VI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fn(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Gx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var He=0;function $C(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RC,Kx,MC,IC,DC,Jg=!1,Zu=[],za=null,Wa=null,Va=null,bc=new Map,wc=new Map,Ra=[],qI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fw(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(t.pointerId)}}function Nl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Au(t),t!==null&&Kx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function HI(e,t,r,n,a){switch(t){case"focusin":return za=Nl(za,e,t,r,n,a),!0;case"dragenter":return Wa=Nl(Wa,e,t,r,n,a),!0;case"mouseover":return Va=Nl(Va,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return bc.set(s,Nl(bc.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,wc.set(s,Nl(wc.get(s)||null,e,t,r,n,a)),!0}return!1}function LC(e){var t=Mi(e.target);if(t!==null){var r=ds(t);if(r!==null){if(t=r.tag,t===13){if(t=kC(r),t!==null){e.blockedOn=t,DC(e.priority,function(){MC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return t=Au(r),t!==null&&Kx(t),e.blockedOn=r,!1;t.shift()}return!0}function Uw(e,t,r){Id(e)&&r.delete(t)}function GI(){Jg=!1,za!==null&&Id(za)&&(za=null),Wa!==null&&Id(Wa)&&(Wa=null),Va!==null&&Id(Va)&&(Va=null),bc.forEach(Uw),wc.forEach(Uw)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Jg||(Jg=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,GI)))}function _c(e){function t(a){return kl(a,e)}if(0<Zu.length){kl(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(za!==null&&kl(za,e),Wa!==null&&kl(Wa,e),Va!==null&&kl(Va,e),bc.forEach(t),wc.forEach(t),r=0;r<Ra.length;r++)n=Ra[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ra.length&&(r=Ra[0],r.blockedOn===null);)LC(r),r.blockedOn===null&&Ra.shift()}var ro=ya.ReactCurrentBatchConfig,of=!0;function KI(e,t,r,n){var a=He,s=ro.transition;ro.transition=null;try{He=1,Xx(e,t,r,n)}finally{He=a,ro.transition=s}}function XI(e,t,r,n){var a=He,s=ro.transition;ro.transition=null;try{He=4,Xx(e,t,r,n)}finally{He=a,ro.transition=s}}function Xx(e,t,r,n){if(of){var a=Qg(e,t,r,n);if(a===null)Em(e,t,n,lf,r),Fw(e,n);else if(HI(a,e,t,r,n))n.stopPropagation();else if(Fw(e,n),t&4&&-1<qI.indexOf(e)){for(;a!==null;){var s=Au(a);if(s!==null&&RC(s),s=Qg(e,t,r,n),s===null&&Em(e,t,n,lf,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Em(e,t,n,null,r)}}var lf=null;function Qg(e,t,r,n){if(lf=null,e=qx(n),e=Mi(e),e!==null)if(t=ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lf=e,null}function FC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(II()){case Hx:return 1;case PC:return 4;case af:case DI:return 16;case OC:return 536870912;default:return 16}default:return 16}}var La=null,Yx=null,Dd=null;function UC(){if(Dd)return Dd;var e,t=Yx,r=t.length,n,a="value"in La?La.value:La.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Dd=a.slice(e,1<n?1-n:void 0)}function Ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ed(){return!0}function Bw(){return!1}function Ir(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ed:Bw,this.isPropagationStopped=Bw,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),t}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=Ir(Xo),Eu=mt({},Xo,{view:0,detail:0}),YI=Ir(Eu),xm,bm,Cl,Dh=mt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(xm=e.screenX-Cl.screenX,bm=e.screenY-Cl.screenY):bm=xm=0,Cl=e),xm)},movementY:function(e){return"movementY"in e?e.movementY:bm}}),zw=Ir(Dh),JI=mt({},Dh,{dataTransfer:0}),QI=Ir(JI),ZI=mt({},Eu,{relatedTarget:0}),wm=Ir(ZI),eD=mt({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=Ir(eD),rD=mt({},Xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nD=Ir(rD),aD=mt({},Xo,{data:0}),Ww=Ir(aD),iD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oD[e])?!!t[e]:!1}function Qx(){return lD}var cD=mt({},Eu,{key:function(e){if(e.key){var t=iD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qx,charCode:function(e){return e.type==="keypress"?Ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uD=Ir(cD),dD=mt({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=Ir(dD),fD=mt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qx}),hD=Ir(fD),pD=mt({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=Ir(pD),gD=mt({},Dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vD=Ir(gD),yD=[9,13,27,32],Zx=oa&&"CompositionEvent"in window,ec=null;oa&&"documentMode"in document&&(ec=document.documentMode);var xD=oa&&"TextEvent"in window&&!ec,BC=oa&&(!Zx||ec&&8<ec&&11>=ec),qw=" ",Hw=!1;function zC(e,t){switch(e){case"keyup":return yD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function bD(e,t){switch(e){case"compositionend":return WC(t);case"keypress":return t.which!==32?null:(Hw=!0,qw);case"textInput":return e=t.data,e===qw&&Hw?null:e;default:return null}}function wD(e,t){if(Ds)return e==="compositionend"||!Zx&&zC(e,t)?(e=UC(),Dd=Yx=La=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BC&&t.locale!=="ko"?null:t.data;default:return null}}var _D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_D[e.type]:t==="textarea"}function VC(e,t,r,n){wC(n),t=cf(t,"onChange"),0<t.length&&(r=new Jx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tc=null,jc=null;function jD(e){t2(e,0)}function Lh(e){var t=Us(e);if(pC(t))return e}function SD(e,t){if(e==="change")return t}var qC=!1;if(oa){var _m;if(oa){var jm="oninput"in document;if(!jm){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),jm=typeof Kw.oninput=="function"}_m=jm}else _m=!1;qC=_m&&(!document.documentMode||9<document.documentMode)}function Xw(){tc&&(tc.detachEvent("onpropertychange",HC),jc=tc=null)}function HC(e){if(e.propertyName==="value"&&Lh(jc)){var t=[];VC(t,jc,e,qx(e)),NC(jD,t)}}function ND(e,t,r){e==="focusin"?(Xw(),tc=t,jc=r,tc.attachEvent("onpropertychange",HC)):e==="focusout"&&Xw()}function kD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lh(jc)}function CD(e,t){if(e==="click")return Lh(t)}function ED(e,t){if(e==="input"||e==="change")return Lh(t)}function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:AD;function Sc(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Rg.call(t,a)||!mn(e[a],t[a]))return!1}return!0}function Yw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jw(e,t){var r=Yw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yw(r)}}function GC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KC(){for(var e=window,t=tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tf(e.document)}return t}function e0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PD(e){var t=KC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&GC(r.ownerDocument.documentElement,r)){if(n!==null&&e0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Jw(r,s);var o=Jw(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OD=oa&&"documentMode"in document&&11>=document.documentMode,Ls=null,Zg=null,rc=null,ev=!1;function Qw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ev||Ls==null||Ls!==tf(n)||(n=Ls,"selectionStart"in n&&e0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rc&&Sc(rc,n)||(rc=n,n=cf(Zg,"onSelect"),0<n.length&&(t=new Jx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ls)))}function td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fs={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Sm={},XC={};oa&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Fh(e){if(Sm[e])return Sm[e];if(!Fs[e])return e;var t=Fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XC)return Sm[e]=t[r];return e}var YC=Fh("animationend"),JC=Fh("animationiteration"),QC=Fh("animationstart"),ZC=Fh("transitionend"),e2=new Map,Zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){e2.set(e,t),us(t,[e])}for(var Nm=0;Nm<Zw.length;Nm++){var km=Zw[Nm],TD=km.toLowerCase(),$D=km[0].toUpperCase()+km.slice(1);li(TD,"on"+$D)}li(YC,"onAnimationEnd");li(JC,"onAnimationIteration");li(QC,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(ZC,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function e_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TI(n,t,void 0,e),e.currentTarget=null}function t2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;e_(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;e_(a,l,u),s=c}}}if(nf)throw e=Xg,nf=!1,Xg=null,e}function nt(e,t){var r=t[iv];r===void 0&&(r=t[iv]=new Set);var n=e+"__bubble";r.has(n)||(r2(t,e,2,!1),r.add(n))}function Cm(e,t,r){var n=0;t&&(n|=4),r2(r,e,n,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[rd]){e[rd]=!0,cC.forEach(function(r){r!=="selectionchange"&&(RD.has(r)||Cm(r,!1,e),Cm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,Cm("selectionchange",!1,t))}}function r2(e,t,r,n){switch(FC(t)){case 1:var a=KI;break;case 4:a=XI;break;default:a=Xx}r=a.bind(null,t,r,e),a=void 0,!Kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Em(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Mi(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}NC(function(){var u=s,d=qx(r),f=[];e:{var h=e2.get(e);if(h!==void 0){var m=Jx,v=e;switch(e){case"keypress":if(Ld(r)===0)break e;case"keydown":case"keyup":m=uD;break;case"focusin":v="focus",m=wm;break;case"focusout":v="blur",m=wm;break;case"beforeblur":case"afterblur":m=wm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hD;break;case YC:case JC:case QC:m=tD;break;case ZC:m=mD;break;case"scroll":m=YI;break;case"wheel":m=vD;break;case"copy":case"cut":case"paste":m=nD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vw}var y=(t&4)!==0,p=!y&&e==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,b!==null&&(_=xc(g,b),_!=null&&y.push(kc(g,_,x)))),p)break;g=g.return}0<y.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Hg&&(v=r.relatedTarget||r.fromElement)&&(Mi(v)||v[la]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Mi(v):null,v!==null&&(p=ds(v),v!==p||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=zw,_="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vw,_="onPointerLeave",b="onPointerEnter",g="pointer"),p=m==null?h:Us(m),x=v==null?h:Us(v),h=new y(_,g+"leave",m,r,d),h.target=p,h.relatedTarget=x,_=null,Mi(d)===u&&(y=new y(b,g+"enter",v,r,d),y.target=x,y.relatedTarget=p,_=y),p=_,m&&v)t:{for(y=m,b=v,g=0,x=y;x;x=ws(x))g++;for(x=0,_=b;_;_=ws(_))x++;for(;0<g-x;)y=ws(y),g--;for(;0<x-g;)b=ws(b),x--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=ws(y),b=ws(b)}y=null}else y=null;m!==null&&t_(f,h,m,y,!1),v!==null&&p!==null&&t_(f,p,v,y,!0)}}e:{if(h=u?Us(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=SD;else if(Gw(h))if(qC)j=ED;else{j=kD;var S=ND}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=CD);if(j&&(j=j(e,u))){VC(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Bg(h,"number",h.value)}switch(S=u?Us(u):window,e){case"focusin":(Gw(S)||S.contentEditable==="true")&&(Ls=S,Zg=u,rc=null);break;case"focusout":rc=Zg=Ls=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,Qw(f,r,d);break;case"selectionchange":if(OD)break;case"keydown":case"keyup":Qw(f,r,d)}var N;if(Zx)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ds?zC(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(BC&&r.locale!=="ko"&&(Ds||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ds&&(N=UC()):(La=d,Yx="value"in La?La.value:La.textContent,Ds=!0)),S=cf(u,k),0<S.length&&(k=new Ww(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=WC(r),N!==null&&(k.data=N)))),(N=xD?bD(e,r):wD(e,r))&&(u=cf(u,"onBeforeInput"),0<u.length&&(d=new Ww("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}t2(f,t)})}function kc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=xc(e,r),s!=null&&n.unshift(kc(e,s,a)),s=xc(e,t),s!=null&&n.push(kc(e,s,a))),e=e.return}return n}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t_(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=xc(r,s),c!=null&&o.unshift(kc(r,c,l))):a||(c=xc(r,s),c!=null&&o.push(kc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var MD=/\r\n?/g,ID=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(MD,`
`).replace(ID,"")}function nd(e,t,r){if(t=r_(t),r_(e)!==t&&r)throw Error(le(425))}function uf(){}var tv=null,rv=null;function nv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,DD=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(FD)}:av;function FD(e){setTimeout(function(){throw e})}function Am(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),_c(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);_c(t)}function qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),kn="__reactFiber$"+Yo,Cc="__reactProps$"+Yo,la="__reactContainer$"+Yo,iv="__reactEvents$"+Yo,UD="__reactListeners$"+Yo,BD="__reactHandles$"+Yo;function Mi(e){var t=e[kn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[la]||r[kn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a_(e);e!==null;){if(r=e[kn])return r;e=a_(e)}return t}e=r,r=e.parentNode}return null}function Au(e){return e=e[kn]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Uh(e){return e[Cc]||null}var sv=[],Bs=-1;function ci(e){return{current:e}}function st(e){0>Bs||(e.current=sv[Bs],sv[Bs]=null,Bs--)}function et(e,t){Bs++,sv[Bs]=e.current,e.current=t}var ai={},rr=ci(ai),xr=ci(!1),Gi=ai;function po(e,t){var r=e.type.contextTypes;if(!r)return ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function br(e){return e=e.childContextTypes,e!=null}function df(){st(xr),st(rr)}function i_(e,t,r){if(rr.current!==ai)throw Error(le(168));et(rr,t),et(xr,r)}function n2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,NI(e)||"Unknown",a));return mt({},r,n)}function ff(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Gi=rr.current,et(rr,e),et(xr,xr.current),!0}function s_(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=n2(e,t,Gi),n.__reactInternalMemoizedMergedChildContext=e,st(xr),st(rr),et(rr,e)):st(xr),et(xr,r)}var Yn=null,Bh=!1,Pm=!1;function a2(e){Yn===null?Yn=[e]:Yn.push(e)}function zD(e){Bh=!0,a2(e)}function ui(){if(!Pm&&Yn!==null){Pm=!0;var e=0,t=He;try{var r=Yn;for(He=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yn=null,Bh=!1}catch(a){throw Yn!==null&&(Yn=Yn.slice(e+1)),AC(Hx,ui),a}finally{He=t,Pm=!1}}return null}var zs=[],Ws=0,hf=null,pf=0,Br=[],zr=0,Ki=null,Jn=1,Qn="";function Ni(e,t){zs[Ws++]=pf,zs[Ws++]=hf,hf=e,pf=t}function i2(e,t,r){Br[zr++]=Jn,Br[zr++]=Qn,Br[zr++]=Ki,Ki=e;var n=Jn;e=Qn;var a=32-fn(n)-1;n&=~(1<<a),r+=1;var s=32-fn(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Jn=1<<32-fn(t)+a|r<<a|n,Qn=s+e}else Jn=1<<s|r<<a|n,Qn=e}function t0(e){e.return!==null&&(Ni(e,1),i2(e,1,0))}function r0(e){for(;e===hf;)hf=zs[--Ws],zs[Ws]=null,pf=zs[--Ws],zs[Ws]=null;for(;e===Ki;)Ki=Br[--zr],Br[zr]=null,Qn=Br[--zr],Br[zr]=null,Jn=Br[--zr],Br[zr]=null}var Pr=null,Er=null,ot=!1,un=null;function s2(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function o_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Er=qa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ki!==null?{id:Jn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pr=e,Er=null,!0):!1;default:return!1}}function ov(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lv(e){if(ot){var t=Er;if(t){var r=t;if(!o_(e,t)){if(ov(e))throw Error(le(418));t=qa(r.nextSibling);var n=Pr;t&&o_(e,t)?s2(n,r):(e.flags=e.flags&-4097|2,ot=!1,Pr=e)}}else{if(ov(e))throw Error(le(418));e.flags=e.flags&-4097|2,ot=!1,Pr=e}}}function l_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function ad(e){if(e!==Pr)return!1;if(!ot)return l_(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nv(e.type,e.memoizedProps)),t&&(t=Er)){if(ov(e))throw o2(),Error(le(418));for(;t;)s2(e,t),t=qa(t.nextSibling)}if(l_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=qa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=Pr?qa(e.stateNode.nextSibling):null;return!0}function o2(){for(var e=Er;e;)e=qa(e.nextSibling)}function mo(){Er=Pr=null,ot=!1}function n0(e){un===null?un=[e]:un.push(e)}var WD=ya.ReactCurrentBatchConfig;function El(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function c_(e){var t=e._init;return t(e._payload)}function l2(e){function t(b,g){if(e){var x=b.deletions;x===null?(b.deletions=[g],b.flags|=16):x.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function a(b,g){return b=Xa(b,g),b.index=0,b.sibling=null,b}function s(b,g,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<g?(b.flags|=2,g):x):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,x,_){return g===null||g.tag!==6?(g=Dm(x,b.mode,_),g.return=b,g):(g=a(g,x),g.return=b,g)}function c(b,g,x,_){var j=x.type;return j===Is?d(b,g,x.props.children,_,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&c_(j)===g.type)?(_=a(g,x.props),_.ref=El(b,g,x),_.return=b,_):(_=qd(x.type,x.key,x.props,null,b.mode,_),_.ref=El(b,g,x),_.return=b,_)}function u(b,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Lm(x,b.mode,_),g.return=b,g):(g=a(g,x.children||[]),g.return=b,g)}function d(b,g,x,_,j){return g===null||g.tag!==7?(g=Wi(x,b.mode,_,j),g.return=b,g):(g=a(g,x),g.return=b,g)}function f(b,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dm(""+g,b.mode,x),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ku:return x=qd(g.type,g.key,g.props,null,b.mode,x),x.ref=El(b,null,g),x.return=b,x;case Ms:return g=Lm(g,b.mode,x),g.return=b,g;case Pa:var _=g._init;return f(b,_(g._payload),x)}if(ql(g)||jl(g))return g=Wi(g,b.mode,x,null),g.return=b,g;id(b,g)}return null}function h(b,g,x,_){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(b,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:return x.key===j?c(b,g,x,_):null;case Ms:return x.key===j?u(b,g,x,_):null;case Pa:return j=x._init,h(b,g,j(x._payload),_)}if(ql(x)||jl(x))return j!==null?null:d(b,g,x,_,null);id(b,x)}return null}function m(b,g,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(x)||null,l(g,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return b=b.get(_.key===null?x:_.key)||null,c(g,b,_,j);case Ms:return b=b.get(_.key===null?x:_.key)||null,u(g,b,_,j);case Pa:var S=_._init;return m(b,g,x,S(_._payload),j)}if(ql(_)||jl(_))return b=b.get(x)||null,d(g,b,_,j,null);id(g,_)}return null}function v(b,g,x,_){for(var j=null,S=null,N=g,k=g=0,A=null;N!==null&&k<x.length;k++){N.index>k?(A=N,N=null):A=N.sibling;var O=h(b,N,x[k],_);if(O===null){N===null&&(N=A);break}e&&N&&O.alternate===null&&t(b,N),g=s(O,g,k),S===null?j=O:S.sibling=O,S=O,N=A}if(k===x.length)return r(b,N),ot&&Ni(b,k),j;if(N===null){for(;k<x.length;k++)N=f(b,x[k],_),N!==null&&(g=s(N,g,k),S===null?j=N:S.sibling=N,S=N);return ot&&Ni(b,k),j}for(N=n(b,N);k<x.length;k++)A=m(N,b,k,x[k],_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?k:A.key),g=s(A,g,k),S===null?j=A:S.sibling=A,S=A);return e&&N.forEach(function(P){return t(b,P)}),ot&&Ni(b,k),j}function y(b,g,x,_){var j=jl(x);if(typeof j!="function")throw Error(le(150));if(x=j.call(x),x==null)throw Error(le(151));for(var S=j=null,N=g,k=g=0,A=null,O=x.next();N!==null&&!O.done;k++,O=x.next()){N.index>k?(A=N,N=null):A=N.sibling;var P=h(b,N,O.value,_);if(P===null){N===null&&(N=A);break}e&&N&&P.alternate===null&&t(b,N),g=s(P,g,k),S===null?j=P:S.sibling=P,S=P,N=A}if(O.done)return r(b,N),ot&&Ni(b,k),j;if(N===null){for(;!O.done;k++,O=x.next())O=f(b,O.value,_),O!==null&&(g=s(O,g,k),S===null?j=O:S.sibling=O,S=O);return ot&&Ni(b,k),j}for(N=n(b,N);!O.done;k++,O=x.next())O=m(N,b,k,O.value,_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?k:O.key),g=s(O,g,k),S===null?j=O:S.sibling=O,S=O);return e&&N.forEach(function(T){return t(b,T)}),ot&&Ni(b,k),j}function p(b,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Is&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:e:{for(var j=x.key,S=g;S!==null;){if(S.key===j){if(j=x.type,j===Is){if(S.tag===7){r(b,S.sibling),g=a(S,x.props.children),g.return=b,b=g;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&c_(j)===S.type){r(b,S.sibling),g=a(S,x.props),g.ref=El(b,S,x),g.return=b,b=g;break e}r(b,S);break}else t(b,S);S=S.sibling}x.type===Is?(g=Wi(x.props.children,b.mode,_,x.key),g.return=b,b=g):(_=qd(x.type,x.key,x.props,null,b.mode,_),_.ref=El(b,g,x),_.return=b,b=_)}return o(b);case Ms:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(b,g.sibling),g=a(g,x.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else t(b,g);g=g.sibling}g=Lm(x,b.mode,_),g.return=b,b=g}return o(b);case Pa:return S=x._init,p(b,g,S(x._payload),_)}if(ql(x))return v(b,g,x,_);if(jl(x))return y(b,g,x,_);id(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(b,g.sibling),g=a(g,x),g.return=b,b=g):(r(b,g),g=Dm(x,b.mode,_),g.return=b,b=g),o(b)):r(b,g)}return p}var go=l2(!0),c2=l2(!1),mf=ci(null),gf=null,Vs=null,a0=null;function i0(){a0=Vs=gf=null}function s0(e){var t=mf.current;st(mf),e._currentValue=t}function cv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function no(e,t){gf=e,a0=Vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(a0!==e)if(e={context:e,memoizedValue:t,next:null},Vs===null){if(gf===null)throw Error(le(308));Vs=e,gf.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var Ii=null;function o0(e){Ii===null?Ii=[e]:Ii.push(e)}function u2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,o0(t)):(r.next=a.next,a.next=r),t.interleaved=r,ca(e,n)}function ca(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Oa=!1;function l0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ca(e,r)}return a=n.interleaved,a===null?(t.next=t,o0(n)):(t.next=a.next,a.next=t),n.interleaved=t,ca(e,r)}function Fd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gx(e,r)}}function u_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vf(e,t,r,n){var a=e.updateQueue;Oa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(h=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=mt({},f,h);break e;case 2:Oa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Yi|=o,e.lanes=o,e.memoizedState=f}}function d_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Pu={},$n=ci(Pu),Ec=ci(Pu),Ac=ci(Pu);function Di(e){if(e===Pu)throw Error(le(174));return e}function c0(e,t){switch(et(Ac,t),et(Ec,e),et($n,Pu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wg(t,e)}st($n),et($n,t)}function vo(){st($n),st(Ec),st(Ac)}function f2(e){Di(Ac.current);var t=Di($n.current),r=Wg(t,e.type);t!==r&&(et(Ec,e),et($n,r))}function u0(e){Ec.current===e&&(st($n),st(Ec))}var ht=ci(0);function yf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Om=[];function d0(){for(var e=0;e<Om.length;e++)Om[e]._workInProgressVersionPrimary=null;Om.length=0}var Ud=ya.ReactCurrentDispatcher,Tm=ya.ReactCurrentBatchConfig,Xi=0,pt=null,At=null,It=null,xf=!1,nc=!1,Pc=0,VD=0;function Xt(){throw Error(le(321))}function f0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mn(e[r],t[r]))return!1;return!0}function h0(e,t,r,n,a,s){if(Xi=s,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?KD:XD,e=r(n,a),nc){s=0;do{if(nc=!1,Pc=0,25<=s)throw Error(le(301));s+=1,It=At=null,t.updateQueue=null,Ud.current=YD,e=r(n,a)}while(nc)}if(Ud.current=bf,t=At!==null&&At.next!==null,Xi=0,It=At=pt=null,xf=!1,t)throw Error(le(300));return e}function p0(){var e=Pc!==0;return Pc=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?pt.memoizedState=It=e:It=It.next=e,It}function Xr(){if(At===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=It===null?pt.memoizedState:It.next;if(t!==null)It=t,At=e;else{if(e===null)throw Error(le(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},It===null?pt.memoizedState=It=e:It=It.next=e}return It}function Oc(e,t){return typeof t=="function"?t(e):t}function $m(e){var t=Xr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=At,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Xi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,pt.lanes|=d,Yi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,mn(n,t.memoizedState)||(vr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,pt.lanes|=s,Yi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rm(e){var t=Xr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);mn(s,t.memoizedState)||(vr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function h2(){}function p2(e,t){var r=pt,n=Xr(),a=t(),s=!mn(n.memoizedState,a);if(s&&(n.memoizedState=a,vr=!0),n=n.queue,m0(v2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||It!==null&&It.memoizedState.tag&1){if(r.flags|=2048,Tc(9,g2.bind(null,r,n,a,t),void 0,null),Lt===null)throw Error(le(349));Xi&30||m2(r,t,a)}return a}function m2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function g2(e,t,r,n){t.value=r,t.getSnapshot=n,y2(t)&&x2(e)}function v2(e,t,r){return r(function(){y2(t)&&x2(e)})}function y2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mn(e,r)}catch{return!0}}function x2(e){var t=ca(e,1);t!==null&&hn(t,e,1,-1)}function f_(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:e},t.queue=e,e=e.dispatch=GD.bind(null,pt,e),[t.memoizedState,e]}function Tc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function b2(){return Xr().memoizedState}function Bd(e,t,r,n){var a=Sn();pt.flags|=e,a.memoizedState=Tc(1|t,r,void 0,n===void 0?null:n)}function zh(e,t,r,n){var a=Xr();n=n===void 0?null:n;var s=void 0;if(At!==null){var o=At.memoizedState;if(s=o.destroy,n!==null&&f0(n,o.deps)){a.memoizedState=Tc(t,r,s,n);return}}pt.flags|=e,a.memoizedState=Tc(1|t,r,s,n)}function h_(e,t){return Bd(8390656,8,e,t)}function m0(e,t){return zh(2048,8,e,t)}function w2(e,t){return zh(4,2,e,t)}function _2(e,t){return zh(4,4,e,t)}function j2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S2(e,t,r){return r=r!=null?r.concat([e]):null,zh(4,4,j2.bind(null,t,e),r)}function g0(){}function N2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function k2(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function C2(e,t,r){return Xi&21?(mn(r,t)||(r=TC(),pt.lanes|=r,Yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=r)}function qD(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var n=Tm.transition;Tm.transition={};try{e(!1),t()}finally{He=r,Tm.transition=n}}function E2(){return Xr().memoizedState}function HD(e,t,r){var n=Ka(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A2(e))P2(t,r);else if(r=u2(e,t,r,n),r!==null){var a=lr();hn(r,e,n,a),O2(r,t,n)}}function GD(e,t,r){var n=Ka(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A2(e))P2(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,mn(l,o)){var c=t.interleaved;c===null?(a.next=a,o0(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=u2(e,t,a,n),r!==null&&(a=lr(),hn(r,e,n,a),O2(r,t,n))}}function A2(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function P2(e,t){nc=xf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function O2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gx(e,r)}}var bf={readContext:Kr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},KD={readContext:Kr,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:h_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4194308,4,j2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var r=Sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HD.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:f_,useDebugValue:g0,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=f_(!1),t=e[0];return e=qD.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,a=Sn();if(ot){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Lt===null)throw Error(le(349));Xi&30||m2(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,h_(v2.bind(null,n,s,e),[e]),n.flags|=2048,Tc(9,g2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Sn(),t=Lt.identifierPrefix;if(ot){var r=Qn,n=Jn;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=VD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XD={readContext:Kr,useCallback:N2,useContext:Kr,useEffect:m0,useImperativeHandle:S2,useInsertionEffect:w2,useLayoutEffect:_2,useMemo:k2,useReducer:$m,useRef:b2,useState:function(){return $m(Oc)},useDebugValue:g0,useDeferredValue:function(e){var t=Xr();return C2(t,At.memoizedState,e)},useTransition:function(){var e=$m(Oc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:p2,useId:E2,unstable_isNewReconciler:!1},YD={readContext:Kr,useCallback:N2,useContext:Kr,useEffect:m0,useImperativeHandle:S2,useInsertionEffect:w2,useLayoutEffect:_2,useMemo:k2,useReducer:Rm,useRef:b2,useState:function(){return Rm(Oc)},useDebugValue:g0,useDeferredValue:function(e){var t=Xr();return At===null?t.memoizedState=e:C2(t,At.memoizedState,e)},useTransition:function(){var e=Rm(Oc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:h2,useSyncExternalStore:p2,useId:E2,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wh={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lr(),a=Ka(e),s=ra(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ha(e,s,a),t!==null&&(hn(t,e,a,n),Fd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lr(),a=Ka(e),s=ra(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ha(e,s,a),t!==null&&(hn(t,e,a,n),Fd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lr(),n=Ka(e),a=ra(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ha(e,a,n),t!==null&&(hn(t,e,n,r),Fd(t,e,n))}};function p_(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Sc(r,n)||!Sc(a,s):!0}function T2(e,t,r){var n=!1,a=ai,s=t.contextType;return typeof s=="object"&&s!==null?s=Kr(s):(a=br(t)?Gi:rr.current,n=t.contextTypes,s=(n=n!=null)?po(e,a):ai),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function m_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wh.enqueueReplaceState(t,t.state,null)}function dv(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},l0(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Kr(s):(s=br(t)?Gi:rr.current,a.context=po(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(uv(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wh.enqueueReplaceState(a,a.state,null),vf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var r="",n=t;do r+=SI(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Mm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JD=typeof WeakMap=="function"?WeakMap:Map;function $2(e,t,r){r=ra(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_f||(_f=!0,_v=n),fv(e,t)},r}function R2(e,t,r){r=ra(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){fv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){fv(e,t),typeof n!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function g_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=d4.bind(null,e,t,r),t.then(e,e))}function v_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y_(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ra(-1,1),t.tag=2,Ha(r,t,1))),r.lanes|=1),e)}var QD=ya.ReactCurrentOwner,vr=!1;function ar(e,t,r,n){t.child=e===null?c2(t,null,r,n):go(t,e.child,r,n)}function x_(e,t,r,n,a){r=r.render;var s=t.ref;return no(t,a),n=h0(e,t,r,n,s,a),r=p0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ua(e,t,a)):(ot&&r&&t0(t),t.flags|=1,ar(e,t,n,a),t.child)}function b_(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!S0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,M2(e,t,s,n,a)):(e=qd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Sc,r(o,n)&&e.ref===t.ref)return ua(e,t,a)}return t.flags|=1,e=Xa(s,n),e.ref=t.ref,e.return=t,t.child=e}function M2(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Sc(s,n)&&e.ref===t.ref)if(vr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,ua(e,t,a)}return hv(e,t,r,n,a)}function I2(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Hs,Sr),Sr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Hs,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,et(Hs,Sr),Sr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,et(Hs,Sr),Sr|=n;return ar(e,t,a,r),t.child}function D2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hv(e,t,r,n,a){var s=br(r)?Gi:rr.current;return s=po(t,s),no(t,a),r=h0(e,t,r,n,s,a),n=p0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ua(e,t,a)):(ot&&n&&t0(t),t.flags|=1,ar(e,t,r,a),t.child)}function w_(e,t,r,n,a){if(br(r)){var s=!0;ff(t)}else s=!1;if(no(t,a),t.stateNode===null)zd(e,t),T2(t,r,n),dv(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=br(r)?Gi:rr.current,u=po(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&m_(t,o,n,u),Oa=!1;var h=t.memoizedState;o.state=h,vf(t,n,o,a),c=t.memoizedState,l!==n||h!==c||xr.current||Oa?(typeof d=="function"&&(uv(t,r,d,n),c=t.memoizedState),(l=Oa||p_(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,d2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:an(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=br(r)?Gi:rr.current,c=po(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&m_(t,o,n,c),Oa=!1,h=t.memoizedState,o.state=h,vf(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||xr.current||Oa?(typeof m=="function"&&(uv(t,r,m,n),v=t.memoizedState),(u=Oa||p_(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return pv(e,t,r,n,s,a)}function pv(e,t,r,n,a,s){D2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&s_(t,r,!1),ua(e,t,s);n=t.stateNode,QD.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=go(t,e.child,null,s),t.child=go(t,null,l,s)):ar(e,t,l,s),t.memoizedState=n.state,a&&s_(t,r,!0),t.child}function L2(e){var t=e.stateNode;t.pendingContext?i_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i_(e,t.context,!1),c0(e,t.containerInfo)}function __(e,t,r,n,a){return mo(),n0(a),t.flags|=256,ar(e,t,r,n),t.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function gv(e){return{baseLanes:e,cachePool:null,transitions:null}}function F2(e,t,r){var n=t.pendingProps,a=ht.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(ht,a&1),e===null)return lv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hh(o,n,0,null),e=Wi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=gv(r),t.memoizedState=mv,e):v0(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ZD(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Xa(l,s):(s=Wi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?gv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=mv,n}return s=e.child,e=s.sibling,n=Xa(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function v0(e,t){return t=Hh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sd(e,t,r,n){return n!==null&&n0(n),go(t,e.child,null,r),e=v0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZD(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Mm(Error(le(422))),sd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Hh({mode:"visible",children:n.children},a,0,null),s=Wi(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&go(t,e.child,null,o),t.child.memoizedState=gv(o),t.memoizedState=mv,s);if(!(t.mode&1))return sd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(le(419)),n=Mm(s,n,void 0),sd(e,t,o,n)}if(l=(o&e.childLanes)!==0,vr||l){if(n=Lt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ca(e,a),hn(n,e,a,-1))}return j0(),n=Mm(Error(le(421))),sd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=f4.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Er=qa(a.nextSibling),Pr=t,ot=!0,un=null,e!==null&&(Br[zr++]=Jn,Br[zr++]=Qn,Br[zr++]=Ki,Jn=e.id,Qn=e.overflow,Ki=t),t=v0(t,n.children),t.flags|=4096,t)}function j_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cv(e.return,t,r)}function Im(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function U2(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ar(e,t,n.children,r),n=ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j_(e,r,t);else if(e.tag===19)j_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(ht,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Im(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Im(t,!0,r,null,s);break;case"together":Im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ua(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=Xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e4(e,t,r){switch(t.tag){case 3:L2(t),mo();break;case 5:f2(t);break;case 1:br(t.type)&&ff(t);break;case 4:c0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(mf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(ht,ht.current&1),t.flags|=128,null):r&t.child.childLanes?F2(e,t,r):(et(ht,ht.current&1),e=ua(e,t,r),e!==null?e.sibling:null);et(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,I2(e,t,r)}return ua(e,t,r)}var B2,vv,z2,W2;B2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vv=function(){};z2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Di($n.current);var s=null;switch(r){case"input":a=Fg(e,a),n=Fg(e,n),s=[];break;case"select":a=mt({},a,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":a=zg(e,a),n=zg(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uf)}Vg(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a?.[u],n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};W2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Al(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t4(e,t,r){var n=t.pendingProps;switch(r0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return br(t.type)&&df(),Yt(t),null;case 3:return n=t.stateNode,vo(),st(xr),st(rr),d0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ad(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Nv(un),un=null))),vv(e,t),Yt(t),null;case 5:u0(t);var a=Di(Ac.current);if(r=t.type,e!==null&&t.stateNode!=null)z2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return Yt(t),null}if(e=Di($n.current),ad(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[kn]=t,n[Cc]=s,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<Gl.length;a++)nt(Gl[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Tw(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":Rw(n,s),nt("invalid",n)}Vg(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&nd(n.textContent,l,e),a=["children",""+l]):vc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":Xu(n),$w(n,s,!0);break;case"textarea":Xu(n),Mw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=uf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[kn]=t,e[Cc]=n,B2(e,t,!1,!1),t.stateNode=e;e:{switch(o=qg(r,n),r){case"dialog":nt("cancel",e),nt("close",e),a=n;break;case"iframe":case"object":case"embed":nt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Gl.length;a++)nt(Gl[a],e);a=n;break;case"source":nt("error",e),a=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),a=n;break;case"details":nt("toggle",e),a=n;break;case"input":Tw(e,n),a=Fg(e,n),nt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mt({},n,{value:void 0}),nt("invalid",e);break;case"textarea":Rw(e,n),a=zg(e,n),nt("invalid",e);break;default:a=n}Vg(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?bC(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yC(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yc(e,c):typeof c=="number"&&yc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&nt("scroll",e):c!=null&&Bx(e,s,c,o))}switch(r){case"input":Xu(e),$w(e,n,!1);break;case"textarea":Xu(e),Mw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ni(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Zs(e,!!n.multiple,s,!1):n.defaultValue!=null&&Zs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)W2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=Di(Ac.current),Di($n.current),ad(t)){if(n=t.stateNode,r=t.memoizedProps,n[kn]=t,(s=n.nodeValue!==r)&&(e=Pr,e!==null))switch(e.tag){case 3:nd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kn]=t,t.stateNode=n}return Yt(t),null;case 13:if(st(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Er!==null&&t.mode&1&&!(t.flags&128))o2(),mo(),t.flags|=98560,s=!1;else if(s=ad(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[kn]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),s=!1}else un!==null&&(Nv(un),un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Pt===0&&(Pt=3):j0())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return vo(),vv(e,t),e===null&&Nc(t.stateNode.containerInfo),Yt(t),null;case 10:return s0(t.type._context),Yt(t),null;case 17:return br(t.type)&&df(),Yt(t),null;case 19:if(st(ht),s=t.memoizedState,s===null)return Yt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Al(s,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yf(e),o!==null){for(t.flags|=128,Al(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(ht,ht.current&1|2),t.child}e=e.sibling}s.tail!==null&&yt()>xo&&(t.flags|=128,n=!0,Al(s,!1),t.lanes=4194304)}else{if(!n)if(e=yf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ot)return Yt(t),null}else 2*yt()-s.renderingStartTime>xo&&r!==1073741824&&(t.flags|=128,n=!0,Al(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=yt(),t.sibling=null,r=ht.current,et(ht,n?r&1|2:r&1),t):(Yt(t),null);case 22:case 23:return _0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sr&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function r4(e,t){switch(r0(t),t.tag){case 1:return br(t.type)&&df(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),st(xr),st(rr),d0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u0(t),null;case 13:if(st(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(ht),null;case 4:return vo(),null;case 10:return s0(t.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var od=!1,Qt=!1,n4=typeof WeakSet=="function"?WeakSet:Set,ge=null;function qs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(e,t,n)}else r.current=null}function yv(e,t,r){try{r()}catch(n){gt(e,t,n)}}var S_=!1;function a4(e,t){if(tv=of,e=KC(),e0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rv={focusedElem:e,selectionRange:r},of=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,p=v.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:an(t.type,y),p);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){gt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return v=S_,S_=!1,v}function ac(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&yv(t,r,s)}a=a.next}while(a!==n)}}function Vh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function V2(e){var t=e.alternate;t!==null&&(e.alternate=null,V2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kn],delete t[Cc],delete t[iv],delete t[UD],delete t[BD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q2(e){return e.tag===5||e.tag===3||e.tag===4}function N_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uf));else if(n!==4&&(e=e.child,e!==null))for(bv(e,t,r),e=e.sibling;e!==null;)bv(e,t,r),e=e.sibling}function wv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wv(e,t,r),e=e.sibling;e!==null;)wv(e,t,r),e=e.sibling}var Vt=null,sn=!1;function Sa(e,t,r){for(r=r.child;r!==null;)H2(e,t,r),r=r.sibling}function H2(e,t,r){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ih,r)}catch{}switch(r.tag){case 5:Qt||qs(r,t);case 6:var n=Vt,a=sn;Vt=null,Sa(e,t,r),Vt=n,sn=a,Vt!==null&&(sn?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(sn?(e=Vt,r=r.stateNode,e.nodeType===8?Am(e.parentNode,r):e.nodeType===1&&Am(e,r),_c(e)):Am(Vt,r.stateNode));break;case 4:n=Vt,a=sn,Vt=r.stateNode.containerInfo,sn=!0,Sa(e,t,r),Vt=n,sn=a;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yv(r,t,o),a=a.next}while(a!==n)}Sa(e,t,r);break;case 1:if(!Qt&&(qs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gt(r,t,l)}Sa(e,t,r);break;case 21:Sa(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,Sa(e,t,r),Qt=n):Sa(e,t,r);break;default:Sa(e,t,r)}}function k_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n4),t.forEach(function(n){var a=h4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function en(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,sn=!1;break e;case 3:Vt=l.stateNode.containerInfo,sn=!0;break e;case 4:Vt=l.stateNode.containerInfo,sn=!0;break e}l=l.return}if(Vt===null)throw Error(le(160));H2(s,o,a),Vt=null,sn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){gt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G2(t,e),t=t.sibling}function G2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),_n(e),n&4){try{ac(3,e,e.return),Vh(3,e)}catch(y){gt(e,e.return,y)}try{ac(5,e,e.return)}catch(y){gt(e,e.return,y)}}break;case 1:en(t,e),_n(e),n&512&&r!==null&&qs(r,r.return);break;case 5:if(en(t,e),_n(e),n&512&&r!==null&&qs(r,r.return),e.flags&32){var a=e.stateNode;try{yc(a,"")}catch(y){gt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&mC(a,s),qg(l,o);var u=qg(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?bC(a,f):d==="dangerouslySetInnerHTML"?yC(a,f):d==="children"?yc(a,f):Bx(a,d,f,u)}switch(l){case"input":Ug(a,s);break;case"textarea":gC(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Zs(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Zs(a,!!s.multiple,s.defaultValue,!0):Zs(a,!!s.multiple,s.multiple?[]:"",!1))}a[Cc]=s}catch(y){gt(e,e.return,y)}}break;case 6:if(en(t,e),_n(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(y){gt(e,e.return,y)}}break;case 3:if(en(t,e),_n(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_c(t.containerInfo)}catch(y){gt(e,e.return,y)}break;case 4:en(t,e),_n(e);break;case 13:en(t,e),_n(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(b0=yt())),n&4&&k_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,en(t,e),Qt=u):en(t,e),_n(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ge=e,d=e.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,m=h.child,h.tag){case 0:case 11:case 14:case 15:ac(4,h,h.return);break;case 1:qs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){gt(n,r,y)}}break;case 5:qs(h,h.return);break;case 22:if(h.memoizedState!==null){E_(f);continue}}m!==null?(m.return=h,ge=m):E_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xC("display",o))}catch(y){gt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){gt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(t,e),_n(e),n&4&&k_(e);break;case 21:break;default:en(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(q2(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(yc(a,""),n.flags&=-33);var s=N_(e);wv(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=N_(e);bv(e,l,o);break;default:throw Error(le(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i4(e,t,r){ge=e,K2(e)}function K2(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var a=ge,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||od;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=od;var u=Qt;if(od=o,(Qt=c)&&!u)for(ge=a;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?A_(a):c!==null?(c.return=o,ge=c):A_(a);for(;s!==null;)ge=s,K2(s),s=s.sibling;ge=a,od=l,Qt=u}C_(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ge=s):C_(e)}}function C_(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Vh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:an(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&d_(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}d_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_c(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Qt||t.flags&512&&xv(t)}catch(h){gt(t,t.return,h)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function E_(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function A_(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vh(4,t)}catch(c){gt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){gt(t,a,c)}}var s=t.return;try{xv(t)}catch(c){gt(t,s,c)}break;case 5:var o=t.return;try{xv(t)}catch(c){gt(t,o,c)}}}catch(c){gt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var s4=Math.ceil,wf=ya.ReactCurrentDispatcher,y0=ya.ReactCurrentOwner,Hr=ya.ReactCurrentBatchConfig,Ue=0,Lt=null,jt=null,Ht=0,Sr=0,Hs=ci(0),Pt=0,$c=null,Yi=0,qh=0,x0=0,ic=null,pr=null,b0=0,xo=1/0,Gn=null,_f=!1,_v=null,Ga=null,ld=!1,Fa=null,jf=0,sc=0,jv=null,Wd=-1,Vd=0;function lr(){return Ue&6?yt():Wd!==-1?Wd:Wd=yt()}function Ka(e){return e.mode&1?Ue&2&&Ht!==0?Ht&-Ht:WD.transition!==null?(Vd===0&&(Vd=TC()),Vd):(e=He,e!==0||(e=window.event,e=e===void 0?16:FC(e.type)),e):1}function hn(e,t,r,n){if(50<sc)throw sc=0,jv=null,Error(le(185));Cu(e,r,n),(!(Ue&2)||e!==Lt)&&(e===Lt&&(!(Ue&2)&&(qh|=r),Pt===4&&Ma(e,Ht)),wr(e,n),r===1&&Ue===0&&!(t.mode&1)&&(xo=yt()+500,Bh&&ui()))}function wr(e,t){var r=e.callbackNode;WI(e,t);var n=sf(e,e===Lt?Ht:0);if(n===0)r!==null&&Lw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lw(r),t===1)e.tag===0?zD(P_.bind(null,e)):a2(P_.bind(null,e)),LD(function(){!(Ue&6)&&ui()}),r=null;else{switch($C(n)){case 1:r=Hx;break;case 4:r=PC;break;case 16:r=af;break;case 536870912:r=OC;break;default:r=af}r=rE(r,X2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function X2(e,t){if(Wd=-1,Vd=0,Ue&6)throw Error(le(327));var r=e.callbackNode;if(ao()&&e.callbackNode!==r)return null;var n=sf(e,e===Lt?Ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sf(e,n);else{t=n;var a=Ue;Ue|=2;var s=J2();(Lt!==e||Ht!==t)&&(Gn=null,xo=yt()+500,zi(e,t));do try{c4();break}catch(l){Y2(e,l)}while(!0);i0(),wf.current=s,Ue=a,jt!==null?t=0:(Lt=null,Ht=0,t=Pt)}if(t!==0){if(t===2&&(a=Yg(e),a!==0&&(n=a,t=Sv(e,a))),t===1)throw r=$c,zi(e,0),Ma(e,n),wr(e,yt()),r;if(t===6)Ma(e,n);else{if(a=e.current.alternate,!(n&30)&&!o4(a)&&(t=Sf(e,n),t===2&&(s=Yg(e),s!==0&&(n=s,t=Sv(e,s))),t===1))throw r=$c,zi(e,0),Ma(e,n),wr(e,yt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ki(e,pr,Gn);break;case 3:if(Ma(e,n),(n&130023424)===n&&(t=b0+500-yt(),10<t)){if(sf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=av(ki.bind(null,e,pr,Gn),t);break}ki(e,pr,Gn);break;case 4:if(Ma(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-fn(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s4(n/1960))-n,10<n){e.timeoutHandle=av(ki.bind(null,e,pr,Gn),n);break}ki(e,pr,Gn);break;case 5:ki(e,pr,Gn);break;default:throw Error(le(329))}}}return wr(e,yt()),e.callbackNode===r?X2.bind(null,e):null}function Sv(e,t){var r=ic;return e.current.memoizedState.isDehydrated&&(zi(e,t).flags|=256),e=Sf(e,t),e!==2&&(t=pr,pr=r,t!==null&&Nv(t)),e}function Nv(e){pr===null?pr=e:pr.push.apply(pr,e)}function o4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!mn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t){for(t&=~x0,t&=~qh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fn(t),n=1<<r;e[r]=-1,t&=~n}}function P_(e){if(Ue&6)throw Error(le(327));ao();var t=sf(e,0);if(!(t&1))return wr(e,yt()),null;var r=Sf(e,t);if(e.tag!==0&&r===2){var n=Yg(e);n!==0&&(t=n,r=Sv(e,n))}if(r===1)throw r=$c,zi(e,0),Ma(e,t),wr(e,yt()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ki(e,pr,Gn),wr(e,yt()),null}function w0(e,t){var r=Ue;Ue|=1;try{return e(t)}finally{Ue=r,Ue===0&&(xo=yt()+500,Bh&&ui())}}function Ji(e){Fa!==null&&Fa.tag===0&&!(Ue&6)&&ao();var t=Ue;Ue|=1;var r=Hr.transition,n=He;try{if(Hr.transition=null,He=1,e)return e()}finally{He=n,Hr.transition=r,Ue=t,!(Ue&6)&&ui()}}function _0(){Sr=Hs.current,st(Hs)}function zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DD(r)),jt!==null)for(r=jt.return;r!==null;){var n=r;switch(r0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:vo(),st(xr),st(rr),d0();break;case 5:u0(n);break;case 4:vo();break;case 13:st(ht);break;case 19:st(ht);break;case 10:s0(n.type._context);break;case 22:case 23:_0()}r=r.return}if(Lt=e,jt=e=Xa(e.current,null),Ht=Sr=t,Pt=0,$c=null,x0=qh=Yi=0,pr=ic=null,Ii!==null){for(t=0;t<Ii.length;t++)if(r=Ii[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Ii=null}return e}function Y2(e,t){do{var r=jt;try{if(i0(),Ud.current=bf,xf){for(var n=pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xf=!1}if(Xi=0,It=At=pt=null,nc=!1,Pc=0,y0.current=null,r===null||r.return===null){Pt=1,$c=t,jt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=v_(o);if(m!==null){m.flags&=-257,y_(m,o,l,s,t),m.mode&1&&g_(s,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){g_(s,u,t),j0();break e}c=Error(le(426))}}else if(ot&&l.mode&1){var p=v_(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),y_(p,o,l,s,t),n0(yo(c,l));break e}}s=c=yo(c,l),Pt!==4&&(Pt=2),ic===null?ic=[s]:ic.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=$2(s,c,t);u_(s,b);break e;case 1:l=c;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ga===null||!Ga.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=R2(s,l,t);u_(s,_);break e}}s=s.return}while(s!==null)}Z2(r)}catch(j){t=j,jt===r&&r!==null&&(jt=r=r.return);continue}break}while(!0)}function J2(){var e=wf.current;return wf.current=bf,e===null?bf:e}function j0(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(Yi&268435455)&&!(qh&268435455)||Ma(Lt,Ht)}function Sf(e,t){var r=Ue;Ue|=2;var n=J2();(Lt!==e||Ht!==t)&&(Gn=null,zi(e,t));do try{l4();break}catch(a){Y2(e,a)}while(!0);if(i0(),Ue=r,wf.current=n,jt!==null)throw Error(le(261));return Lt=null,Ht=0,Pt}function l4(){for(;jt!==null;)Q2(jt)}function c4(){for(;jt!==null&&!RI();)Q2(jt)}function Q2(e){var t=tE(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?Z2(e):jt=t,y0.current=null}function Z2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r4(r,t),r!==null){r.flags&=32767,jt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,jt=null;return}}else if(r=t4(r,t,Sr),r!==null){jt=r;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Pt===0&&(Pt=5)}function ki(e,t,r){var n=He,a=Hr.transition;try{Hr.transition=null,He=1,u4(e,t,r,n)}finally{Hr.transition=a,He=n}return null}function u4(e,t,r,n){do ao();while(Fa!==null);if(Ue&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(VI(e,s),e===Lt&&(jt=Lt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,rE(af,function(){return ao(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hr.transition,Hr.transition=null;var o=He;He=1;var l=Ue;Ue|=4,y0.current=null,a4(e,r),G2(r,e),PD(rv),of=!!tv,rv=tv=null,e.current=r,i4(r),MI(),Ue=l,He=o,Hr.transition=s}else e.current=r;if(ld&&(ld=!1,Fa=e,jf=a),s=e.pendingLanes,s===0&&(Ga=null),LI(r.stateNode),wr(e,yt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_f)throw _f=!1,e=_v,_v=null,e;return jf&1&&e.tag!==0&&ao(),s=e.pendingLanes,s&1?e===jv?sc++:(sc=0,jv=e):sc=0,ui(),null}function ao(){if(Fa!==null){var e=$C(jf),t=Hr.transition,r=He;try{if(Hr.transition=null,He=16>e?16:e,Fa===null)var n=!1;else{if(e=Fa,Fa=null,jf=0,Ue&6)throw Error(le(331));var a=Ue;for(Ue|=4,ge=e.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:ac(8,d,s)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,m=d.return;if(V2(d),d===u){ge=null;break}if(h!==null){h.return=m,ge=h;break}ge=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ge=b;break e}ge=s.return}}var g=e.current;for(ge=g;ge!==null;){o=ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ge=x;else e:for(o=g;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vh(9,l)}}catch(j){gt(l,l.return,j)}if(l===o){ge=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ge=_;break e}ge=l.return}}if(Ue=a,ui(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ih,e)}catch{}n=!0}return n}finally{He=r,Hr.transition=t}}return!1}function O_(e,t,r){t=yo(r,t),t=$2(e,t,1),e=Ha(e,t,1),t=lr(),e!==null&&(Cu(e,1,t),wr(e,t))}function gt(e,t,r){if(e.tag===3)O_(e,e,r);else for(;t!==null;){if(t.tag===3){O_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))){e=yo(r,e),e=R2(t,e,1),t=Ha(t,e,1),e=lr(),t!==null&&(Cu(t,1,e),wr(t,e));break}}t=t.return}}function d4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&r,Lt===e&&(Ht&r)===r&&(Pt===4||Pt===3&&(Ht&130023424)===Ht&&500>yt()-b0?zi(e,0):x0|=r),wr(e,t)}function eE(e,t){t===0&&(e.mode&1?(t=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):t=1);var r=lr();e=ca(e,t),e!==null&&(Cu(e,t,r),wr(e,r))}function f4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),eE(e,r)}function h4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),eE(e,r)}var tE;tE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)vr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vr=!1,e4(e,t,r);vr=!!(e.flags&131072)}else vr=!1,ot&&t.flags&1048576&&i2(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zd(e,t),e=t.pendingProps;var a=po(t,rr.current);no(t,r),a=h0(null,t,n,e,a,r);var s=p0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(n)?(s=!0,ff(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,l0(t),a.updater=Wh,t.stateNode=a,a._reactInternals=t,dv(t,n,e,r),t=pv(null,t,n,!0,s,r)):(t.tag=0,ot&&s&&t0(t),ar(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=m4(n),e=an(n,e),a){case 0:t=hv(null,t,n,e,r);break e;case 1:t=w_(null,t,n,e,r);break e;case 11:t=x_(null,t,n,e,r);break e;case 14:t=b_(null,t,n,an(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),hv(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),w_(e,t,n,a,r);case 3:e:{if(L2(t),e===null)throw Error(le(387));n=t.pendingProps,s=t.memoizedState,a=s.element,d2(e,t),vf(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=yo(Error(le(423)),t),t=__(e,t,n,r,a);break e}else if(n!==a){a=yo(Error(le(424)),t),t=__(e,t,n,r,a);break e}else for(Er=qa(t.stateNode.containerInfo.firstChild),Pr=t,ot=!0,un=null,r=c2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),n===a){t=ua(e,t,r);break e}ar(e,t,n,r)}t=t.child}return t;case 5:return f2(t),e===null&&lv(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,nv(n,a)?o=null:s!==null&&nv(n,s)&&(t.flags|=32),D2(e,t),ar(e,t,o,r),t.child;case 6:return e===null&&lv(t),null;case 13:return F2(e,t,r);case 4:return c0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=go(t,null,n,r):ar(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),x_(e,t,n,a,r);case 7:return ar(e,t,t.pendingProps,r),t.child;case 8:return ar(e,t,t.pendingProps.children,r),t.child;case 12:return ar(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,et(mf,n._currentValue),n._currentValue=o,s!==null)if(mn(s.value,o)){if(s.children===a.children&&!xr.current){t=ua(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ra(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),cv(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),cv(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ar(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,no(t,r),a=Kr(a),n=n(a),t.flags|=1,ar(e,t,n,r),t.child;case 14:return n=t.type,a=an(n,t.pendingProps),a=an(n.type,a),b_(e,t,n,a,r);case 15:return M2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),zd(e,t),t.tag=1,br(n)?(e=!0,ff(t)):e=!1,no(t,r),T2(t,n,a),dv(t,n,a,r),pv(null,t,n,!0,e,r);case 19:return U2(e,t,r);case 22:return I2(e,t,r)}throw Error(le(156,t.tag))};function rE(e,t){return AC(e,t)}function p4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new p4(e,t,r,n)}function S0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m4(e){if(typeof e=="function")return S0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wx)return 11;if(e===Vx)return 14}return 2}function Xa(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qd(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")S0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Is:return Wi(r.children,a,s,t);case zx:o=8,a|=8;break;case Mg:return e=Vr(12,r,t,a|2),e.elementType=Mg,e.lanes=s,e;case Ig:return e=Vr(13,r,t,a),e.elementType=Ig,e.lanes=s,e;case Dg:return e=Vr(19,r,t,a),e.elementType=Dg,e.lanes=s,e;case fC:return Hh(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uC:o=10;break e;case dC:o=9;break e;case Wx:o=11;break e;case Vx:o=14;break e;case Pa:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Vr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Wi(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function Hh(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=fC,e.lanes=r,e.stateNode={isHidden:!1},e}function Dm(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function Lm(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ym(0),this.expirationTimes=ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ym(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function N0(e,t,r,n,a,s,o,l,c){return e=new g4(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Vr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},l0(s),e}function v4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nE(e){if(!e)return ai;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(br(r))return n2(e,r,t)}return t}function aE(e,t,r,n,a,s,o,l,c){return e=N0(r,n,!0,e,a,s,o,l,c),e.context=nE(null),r=e.current,n=lr(),a=Ka(r),s=ra(n,a),s.callback=t??null,Ha(r,s,a),e.current.lanes=a,Cu(e,a,n),wr(e,n),e}function Gh(e,t,r,n){var a=t.current,s=lr(),o=Ka(a);return r=nE(r),t.context===null?t.context=r:t.pendingContext=r,t=ra(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ha(a,t,o),e!==null&&(hn(e,a,o,s),Fd(e,a,o)),o}function Nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function k0(e,t){T_(e,t),(e=e.alternate)&&T_(e,t)}function y4(){return null}var iE=typeof reportError=="function"?reportError:function(e){console.error(e)};function C0(e){this._internalRoot=e}Kh.prototype.render=C0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Gh(e,t,null,null)};Kh.prototype.unmount=C0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ji(function(){Gh(null,e,null,null)}),t[la]=null}};function Kh(e){this._internalRoot=e}Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=IC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ra.length&&t!==0&&t<Ra[r].priority;r++);Ra.splice(r,0,e),r===0&&LC(e)}};function E0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $_(){}function x4(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Nf(o);s.call(u)}}var o=aE(t,n,e,0,null,!1,!1,"",$_);return e._reactRootContainer=o,e[la]=o.current,Nc(e.nodeType===8?e.parentNode:e),Ji(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Nf(c);l.call(u)}}var c=N0(e,0,!1,null,null,!1,!1,"",$_);return e._reactRootContainer=c,e[la]=c.current,Nc(e.nodeType===8?e.parentNode:e),Ji(function(){Gh(t,c,r,n)}),c}function Yh(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Nf(o);l.call(c)}}Gh(t,o,e,a)}else o=x4(r,t,e,a,n);return Nf(o)}RC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hl(t.pendingLanes);r!==0&&(Gx(t,r|1),wr(t,yt()),!(Ue&6)&&(xo=yt()+500,ui()))}break;case 13:Ji(function(){var n=ca(e,1);if(n!==null){var a=lr();hn(n,e,1,a)}}),k0(e,1)}};Kx=function(e){if(e.tag===13){var t=ca(e,134217728);if(t!==null){var r=lr();hn(t,e,134217728,r)}k0(e,134217728)}};MC=function(e){if(e.tag===13){var t=Ka(e),r=ca(e,t);if(r!==null){var n=lr();hn(r,e,t,n)}k0(e,t)}};IC=function(){return He};DC=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};Gg=function(e,t,r){switch(t){case"input":if(Ug(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Uh(n);if(!a)throw Error(le(90));pC(n),Ug(n,a)}}}break;case"textarea":gC(e,r);break;case"select":t=r.value,t!=null&&Zs(e,!!r.multiple,t,!1)}};jC=w0;SC=Ji;var b4={usingClientEntryPoint:!1,Events:[Au,Us,Uh,wC,_C,w0]},Pl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w4={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CC(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Ih=cd.inject(w4),Tn=cd}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;Mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(t))throw Error(le(200));return v4(e,t,null,r)};Mr.createRoot=function(e,t){if(!E0(e))throw Error(le(299));var r=!1,n="",a=iE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=N0(e,1,!1,null,null,r,!1,n,a),e[la]=t.current,Nc(e.nodeType===8?e.parentNode:e),new C0(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=CC(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return Ji(e)};Mr.hydrate=function(e,t,r){if(!Xh(t))throw Error(le(200));return Yh(null,e,t,!0,r)};Mr.hydrateRoot=function(e,t,r){if(!E0(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=iE;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=aE(t,null,e,1,r??null,a,!1,s,o),e[la]=t.current,Nc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Kh(t)};Mr.render=function(e,t,r){if(!Xh(t))throw Error(le(200));return Yh(null,e,t,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Xh(e))throw Error(le(40));return e._reactRootContainer?(Ji(function(){Yh(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1};Mr.unstable_batchedUpdates=w0;Mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xh(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Yh(e,t,r,!1,n)};Mr.version="18.3.1-next-f1338f8080-20240426";function sE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sE)}catch(e){console.error(e)}}sE(),sC.exports=Mr;var Jo=sC.exports;const _4=Ve(Jo);var oE,R_=Jo;oE=R_.createRoot,R_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const M_="popstate";function j4(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return kv("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kf(a)}return N4(t,r,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S4(){return Math.random().toString(36).substr(2,8)}function I_(e,t){return{usr:e.state,key:e.key,idx:t}}function kv(e,t,r,n){return r===void 0&&(r=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qo(t):t,{state:r,key:t&&t.key||n||S4()})}function kf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function N4(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=Ua.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ua.Pop;let p=d(),b=p==null?null:p-u;u=p,c&&c({action:l,location:y.location,delta:b})}function h(p,b){l=Ua.Push;let g=kv(y.location,p,b);u=d()+1;let x=I_(g,u),_=y.createHref(g);try{o.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}s&&c&&c({action:l,location:y.location,delta:1})}function m(p,b){l=Ua.Replace;let g=kv(y.location,p,b);u=d();let x=I_(g,u),_=y.createHref(g);o.replaceState(x,"",_),s&&c&&c({action:l,location:y.location,delta:0})}function v(p){let b=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof p=="string"?p:kf(p);return g=g.replace(/ $/,"%20"),wt(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return l},get location(){return e(a,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(M_,f),c=p,()=>{a.removeEventListener(M_,f),c=null}},createHref(p){return t(a,p)},createURL:v,encodeLocation(p){let b=v(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(p){return o.go(p)}};return y}var D_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(D_||(D_={}));function k4(e,t,r){return r===void 0&&(r="/"),C4(e,t,r)}function C4(e,t,r,n){let a=typeof t=="string"?Qo(t):t,s=A0(a.pathname||"/",r);if(s==null)return null;let o=cE(e);E4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=U4(s);l=D4(o[c],u)}return l}function cE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ya([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cE(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:M4(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of uE(s.path))a(s,o,c)}),t}function uE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=uE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:I4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const A4=/^:[\w-]+$/,P4=3,O4=2,T4=1,$4=10,R4=-2,L_=e=>e==="*";function M4(e,t){let r=e.split("/"),n=r.length;return r.some(L_)&&(n+=R4),t&&(n+=O4),r.filter(a=>!L_(a)).reduce((a,s)=>a+(A4.test(s)?P4:s===""?T4:$4),n)}function I4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function D4(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=L4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ya([s,f.pathname]),pathnameBase:V4(Ya([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ya([s,f.pathnameBase]))}return o}function L4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=F4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=l[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function F4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function U4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function A0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function B4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Qo(e):e;return{pathname:r?r.startsWith("/")?r:z4(r,t):t,search:q4(n),hash:H4(a)}}function z4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function P0(e,t){let r=W4(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function O0(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Qo(e):(a=Rc({},e),wt(!a.pathname||!a.pathname.includes("?"),Fm("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),Fm("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),Fm("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=B4(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ya=e=>e.join("/").replace(/\/\/+/g,"/"),V4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dE=["post","put","patch","delete"];new Set(dE);const K4=["get",...dE];new Set(K4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}const T0=w.createContext(null),X4=w.createContext(null),di=w.createContext(null),Jh=w.createContext(null),fi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),fE=w.createContext(null);function Y4(e,t){let{relative:r}=t===void 0?{}:t;Zo()||wt(!1);let{basename:n,navigator:a}=w.useContext(di),{hash:s,pathname:o,search:l}=pE(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ya([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Zo(){return w.useContext(Jh)!=null}function el(){return Zo()||wt(!1),w.useContext(Jh).location}function hE(e){w.useContext(di).static||w.useLayoutEffect(e)}function Qh(){let{isDataRoute:e}=w.useContext(fi);return e?cL():J4()}function J4(){Zo()||wt(!1);let e=w.useContext(T0),{basename:t,future:r,navigator:n}=w.useContext(di),{matches:a}=w.useContext(fi),{pathname:s}=el(),o=JSON.stringify(P0(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return hE(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=O0(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ya([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function pE(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(di),{matches:a}=w.useContext(fi),{pathname:s}=el(),o=JSON.stringify(P0(a,n.v7_relativeSplatPath));return w.useMemo(()=>O0(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Q4(e,t){return Z4(e,t)}function Z4(e,t,r,n){Zo()||wt(!1);let{navigator:a}=w.useContext(di),{matches:s}=w.useContext(fi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=el(),d;if(t){var f;let p=typeof t=="string"?Qo(t):t;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||wt(!1),d=p}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=k4(e,{pathname:m}),y=aL(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Ya([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Ya([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n);return t&&y?w.createElement(Jh.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ua.Pop}},y):y}function eL(){let e=lL(),t=G4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const tL=w.createElement(eL,null);class rL extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(fi.Provider,{value:this.props.routeContext},w.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nL(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(T0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(fi.Provider,{value:t},n)}function aL(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||wt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,y=null,p=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||tL,c&&(u<0&&h===0?(uL("route-fallback"),v=!0,p=null):u===h&&(v=!0,p=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),g=()=>{let x;return m?x=y:v?x=p:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,w.createElement(nL,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(rL,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var mE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mE||{}),gE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gE||{});function iL(e){let t=w.useContext(T0);return t||wt(!1),t}function sL(e){let t=w.useContext(X4);return t||wt(!1),t}function oL(e){let t=w.useContext(fi);return t||wt(!1),t}function vE(e){let t=oL(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function lL(){var e;let t=w.useContext(fE),r=sL(),n=vE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cL(){let{router:e}=iL(mE.UseNavigateStable),t=vE(gE.UseNavigateStable),r=w.useRef(!1);return hE(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Mc({fromRouteId:t},s)))},[e,t])}const F_={};function uL(e,t,r){F_[e]||(F_[e]=!0)}function dL(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function yE(e){let{to:t,replace:r,state:n,relative:a}=e;Zo()||wt(!1);let{future:s,static:o}=w.useContext(di),{matches:l}=w.useContext(fi),{pathname:c}=el(),u=Qh(),d=O0(t,P0(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function zt(e){wt(!1)}function fL(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ua.Pop,navigator:s,static:o=!1,future:l}=e;Zo()&&wt(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:o,future:Mc({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Qo(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,y=w.useMemo(()=>{let p=A0(d,c);return p==null?null:{location:{pathname:p,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return y==null?null:w.createElement(di.Provider,{value:u},w.createElement(Jh.Provider,{children:r,value:y}))}function xE(e){let{children:t,location:r}=e;return Q4(Cv(t),r)}new Promise(()=>{});function Cv(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let s=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Cv(n.props.children,s));return}n.type!==zt&&wt(!1),!n.props.index||!n.props.children||wt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Cv(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(this,arguments)}function hL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mL(e,t){return e.button===0&&(!t||t==="_self")&&!pL(e)}const gL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vL="6";try{window.__reactRouterVersion=vL}catch{}const yL="startTransition",U_=Lx[yL];function xL(e){let{basename:t,children:r,future:n,window:a}=e,s=w.useRef();s.current==null&&(s.current=j4({window:a,v5Compat:!0}));let o=s.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&U_?U_(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>dL(n),[n]),w.createElement(fL,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const bL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_L=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=hL(t,gL),{basename:m}=w.useContext(di),v,y=!1;if(typeof u=="string"&&wL.test(u)&&(v=u,bL))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=A0(_.pathname,m);_.origin===x.origin&&j!=null?u=j+_.search+_.hash:y=!0}catch{}let p=Y4(u,{relative:a}),b=jL(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function g(x){n&&n(x),x.defaultPrevented||b(x)}return w.createElement("a",Ev({},h,{href:v||p,onClick:y||s?n:g,ref:r,target:c}))});var B_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B_||(B_={}));var z_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z_||(z_={}));function jL(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qh(),u=el(),d=pE(e,{relative:o});return w.useCallback(f=>{if(mL(f,r)){f.preventDefault();let h=n!==void 0?n:kf(u)===kf(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function W_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bE(...e){return t=>{let r=!1;const n=e.map(a=>{const s=W_(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():W_(e[a],null)}}}}function Xe(...e){return w.useCallback(bE(...e),e)}function bo(e){const t=SL(e),r=w.forwardRef((n,a)=>{const{children:s,...o}=n,l=w.Children.toArray(s),c=l.find(kL);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var wE=bo("Slot");function SL(e){const t=w.forwardRef((r,n)=>{const{children:a,...s}=r;if(w.isValidElement(a)){const o=EL(a),l=CL(s,a.props);return a.type!==w.Fragment&&(l.ref=n?bE(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _E=Symbol("radix.slottable");function NL(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=_E,t}function kL(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_E}function CL(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function EL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Oe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jE(e))&&(n&&(n+=" "),n+=t);return n}const V_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q_=Oe,$0=(e,t)=>r=>{var n;if(t?.variants==null)return q_(e,r?.class,r?.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=s?.[u];if(d===null)return null;const h=V_(d)||V_(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[y,p]=v;return Array.isArray(p)?p.includes({...s,...l}[y]):{...s,...l}[y]===p})?[...u,f,h]:u},[]);return q_(e,o,c,r?.class,r?.className)},R0="-",AL=e=>{const t=OL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(R0);return l[0]===""&&l.length!==1&&l.shift(),SE(l,t)||PL(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},SE=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?SE(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(R0);return t.validators.find(({validator:o})=>o(s))?.classGroupId},H_=/^\[(.+)\]$/,PL=e=>{if(H_.test(e)){const t=H_.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},OL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $L(Object.entries(e.classGroups),r).forEach(([s,o])=>{Av(o,n,s,t)}),n},Av=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:G_(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(TL(a)){Av(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{Av(o,G_(t,s),r,n)})})},G_=(e,t)=>{let r=e;return t.split(R0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},TL=e=>e.isThemeGetter,$L=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,RL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},NE="!",ML=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let p=0;p<l.length;p++){let b=l[p];if(u===0){if(b===a&&(n||l.slice(p,p+s)===t)){c.push(l.slice(d,p)),d=p+s;continue}if(b==="/"){f=p;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(NE),v=m?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},IL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},DL=e=>({cache:RL(e.cacheSize),parseClassName:ML(e),...AL(e)}),LL=/\s+/,FL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(LL);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,y=n(v?h.substring(0,m):h);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const p=IL(d).join(":"),b=f?p+NE:p,g=b+y;if(s.includes(g))continue;s.push(g);const x=a(y,v);for(let _=0;_<x.length;++_){const j=x[_];s.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function UL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=kE(t))&&(n&&(n+=" "),n+=r);return n}const kE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=kE(e[n]))&&(r&&(r+=" "),r+=t);return r};function BL(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=DL(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=FL(c,r);return a(c,d),d}return function(){return s(UL.apply(null,arguments))}}const rt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},CE=/^\[(?:([a-z-]+):)?(.+)\]$/i,zL=/^\d+\/\d+$/,WL=new Set(["px","full","screen"]),VL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vn=e=>io(e)||WL.has(e)||zL.test(e),Na=e=>tl(e,"length",r3),io=e=>!!e&&!Number.isNaN(Number(e)),Um=e=>tl(e,"number",io),Ol=e=>!!e&&Number.isInteger(Number(e)),XL=e=>e.endsWith("%")&&io(e.slice(0,-1)),Pe=e=>CE.test(e),ka=e=>VL.test(e),YL=new Set(["length","size","percentage"]),JL=e=>tl(e,YL,EE),QL=e=>tl(e,"position",EE),ZL=new Set(["image","url"]),e3=e=>tl(e,ZL,a3),t3=e=>tl(e,"",n3),Tl=()=>!0,tl=(e,t,r)=>{const n=CE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},r3=e=>qL.test(e)&&!HL.test(e),EE=()=>!1,n3=e=>GL.test(e),a3=e=>KL.test(e),i3=()=>{const e=rt("colors"),t=rt("spacing"),r=rt("blur"),n=rt("brightness"),a=rt("borderColor"),s=rt("borderRadius"),o=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),u=rt("grayscale"),d=rt("hueRotate"),f=rt("invert"),h=rt("gap"),m=rt("gradientColorStops"),v=rt("gradientColorStopPositions"),y=rt("inset"),p=rt("margin"),b=rt("opacity"),g=rt("padding"),x=rt("saturate"),_=rt("scale"),j=rt("sepia"),S=rt("skew"),N=rt("space"),k=rt("translate"),A=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Pe,t],T=()=>[Pe,t],z=()=>["",Vn,Na],E=()=>["auto",io,Pe],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Pe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[io,Pe];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[Vn,Na],blur:["none","",ka,Pe],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ka,Pe],borderSpacing:T(),borderWidth:z(),contrast:Z(),grayscale:M(),hueRotate:Z(),invert:M(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[XL,Na],inset:P(),margin:P(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:M(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ka]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),Pe]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ol,Pe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ol,Pe]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",Ol,Pe]},Pe]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[Ol,Pe]},Pe]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[ka]},ka]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ka,Na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Um]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",io,Um]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vn,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vn,Na]}],"underline-offset":[{"underline-offset":["auto",Vn,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),QL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Vn,Pe]}],"outline-w":[{outline:[Vn,Na]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Vn,Na]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ka,t3]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ka,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ol,Pe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vn,Na,Um]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},s3=BL(i3);function je(...e){return s3(Oe(e))}const M0=$0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function K({className:e,variant:t,size:r,asChild:n=!1,...a}){const s=n?wE:"button";return i.jsx(s,{"data-slot":"button",className:je(M0({variant:t,size:r,className:e})),...a})}function o3(e,t){const r=w.createContext(t),n=s=>{const{children:o,...l}=s,c=w.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function xn(e,t=[]){let r=[];function n(s,o){const l=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:h,children:m,...v}=f,y=h?.[e]?.[c]||l,p=w.useMemo(()=>v,Object.values(v));return i.jsx(y.Provider,{value:p,children:m})};u.displayName=s+"Provider";function d(f,h){const m=h?.[e]?.[c]||l,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>w.createContext(o));return function(l){const c=l?.[e]||s;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,l3(a,...t)]}function l3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function da(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}var Tt=globalThis?.document?w.useLayoutEffect:()=>{},c3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=c3.reduce((e,t)=>{const r=bo(`Primitive.${t}`),n=w.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function u3(e,t){e&&Jo.flushSync(()=>e.dispatchEvent(t))}var AE={exports:{}},PE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=w;function d3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f3=typeof Object.is=="function"?Object.is:d3,h3=wo.useState,p3=wo.useEffect,m3=wo.useLayoutEffect,g3=wo.useDebugValue;function v3(e,t){var r=t(),n=h3({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return m3(function(){a.value=r,a.getSnapshot=t,Bm(a)&&s({inst:a})},[e,r,t]),p3(function(){return Bm(a)&&s({inst:a}),e(function(){Bm(a)&&s({inst:a})})},[e]),g3(r),r}function Bm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!f3(e,r)}catch{return!0}}function y3(e,t){return t()}var x3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y3:v3;PE.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:x3;AE.exports=PE;var b3=AE.exports;function w3(){return b3.useSyncExternalStore(_3,()=>!0,()=>!1)}function _3(){return()=>{}}var I0="Avatar",[j3,zve]=xn(I0),[S3,OE]=j3(I0),TE=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=w.useState("idle");return i.jsx(S3,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(Ee.span,{...n,ref:t})})});TE.displayName=I0;var $E="AvatarImage",RE=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=OE($E,r),l=N3(n,s),c=da(u=>{a(u),o.onImageLoadingStatusChange(u)});return Tt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ee.img,{...s,ref:t,src:n}):null});RE.displayName=$E;var ME="AvatarFallback",IE=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=OE(ME,r),[o,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(Ee.span,{...a,ref:t}):null});IE.displayName=ME;function K_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function N3(e,{referrerPolicy:t,crossOrigin:r}){const n=w3(),a=w.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=w.useState(()=>K_(s,e));return Tt(()=>{l(K_(s,e))},[s,e]),Tt(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var k3=TE,C3=RE,E3=IE;function A3({className:e,...t}){return i.jsx(k3,{"data-slot":"avatar",className:je("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function P3({className:e,...t}){return i.jsx(C3,{"data-slot":"avatar-image",className:je("aspect-square size-full",e),...t})}function O3({className:e,...t}){return i.jsx(E3,{"data-slot":"avatar-fallback",className:je("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),X_=e=>{const t=$3(e);return t.charAt(0).toUpperCase()+t.slice(1)},DE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...R3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DE("lucide",a),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(M3,{ref:s,iconNode:t,className:DE(`lucide-${T3(X_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=X_(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D3=he("activity",I3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],F3=he("archive",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],B3=he("arrow-down",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kl=he("arrow-right",z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],V3=he("arrow-up-down",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],H3=he("arrow-up",q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],K3=he("banknote",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gs=he("bell",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LE=he("briefcase",Y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],An=he("building-2",J3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Hd=he("building",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ic=he("calendar",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],t5=he("camera",e5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dc=he("chart-column",r5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FE=he("check",n5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],D0=he("chevron-down",a5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UE=he("chevron-up",i5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],o5=he("chevrons-up-down",s5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Or=he("circle-alert",l5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gr=he("circle-check-big",c5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],d5=he("clipboard-list",u5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qi=he("clock",f5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],p5=he("code",h5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pv=he("credit-card",m5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ja=he("database",g5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cr=he("dollar-sign",v5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Dn=he("download",y5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],b5=he("eye-off",x5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ln=he("eye",w5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],BE=he("file-check",_5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qt=he("file-text",j5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Gd=he("file",S5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L0=he("funnel",N5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],C5=he("globe",k5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],A5=he("graduation-cap",E5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zE=he("image",P5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y_=he("info",O5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$5=he("key",T5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],J_=he("layout-dashboard",R5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WE=he("loader-circle",M5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],D5=he("lock",I5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],VE=he("log-out",L5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Lc=he("mail",F5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zh=he("map-pin",U5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],qE=he("maximize-2",B5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],W5=he("menu",z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],HE=he("minimize-2",V5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],F0=he("pen-line",q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],GE=he("phone",H5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]],Q_=he("piggy-bank",G5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],X5=he("plane",K5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],U0=he("play",Y5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ii=he("plus",J5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ov=he("printer",Q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Z_=he("receipt",Z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$e=he("refresh-cw",eF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cn=he("save",tF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qa=he("search",rF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tv=he("settings",nF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ej=he("shield",aF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KE=he("square-check-big",iF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ep=he("square-pen",sF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],XE=he("square",oF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cF=he("star",lF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],dF=he("stethoscope",uF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YE=he("target",fF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fs=he("trash-2",hF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],tj=he("trending-down",pF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ar=he("trending-up",mF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kd=he("triangle-alert",gF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],JE=he("upload",vF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],B0=he("user-check",yF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fc=he("user",xF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ft=he("users",bF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gn=he("x",wF),_F="modulepreload",jF=function(e){return"/"+e},rj={},Ou=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(r.map(c=>{if(c=jF(c),c in rj)return;rj[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_F,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},SF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class z0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NF extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nj extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aj extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $v;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($v||($v={}));var kF=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class CF{constructor(t,{headers:r={},customFetch:n,region:a=$v.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=SF(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return kF(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(y=>{throw new NF(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new nj(f);if(!f.ok)throw new aj(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield f.json():m==="application/octet-stream"?v=yield f.blob():m==="text/event-stream"?v=f:m==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof aj||a instanceof nj?a.context:void 0}}})}}var mr={},W0={},tp={},Tu={},rp={},np={},EF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_o=EF();const AF=_o.fetch,QE=_o.fetch.bind(_o),ZE=_o.Headers,PF=_o.Request,OF=_o.Response,rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZE,Request:PF,Response:OF,default:QE,fetch:AF},Symbol.toStringTag,{value:"Module"})),TF=YM(rl);var ap={};Object.defineProperty(ap,"__esModule",{value:!0});let $F=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ap.default=$F;var eA=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(np,"__esModule",{value:!0});const RF=eA(TF),MF=eA(ap);let IF=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c,u;let d=null,f=null,h=null,m=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const p=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");p&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await s.text();try{d=JSON.parse(p),Array.isArray(d)&&s.status===404&&(f=[],d=null,m=200,v="OK")}catch{s.status===404&&p===""?(m=204,v="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((u=d?.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,v="OK"),d&&this.shouldThrowOnError)throw new MF.default(d)}return{error:d,data:f,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(l=s?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};np.default=IF;var DF=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rp,"__esModule",{value:!0});const LF=DF(np);let FF=class extends LF.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};rp.default=FF;var UF=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const BF=UF(rp);let zF=class extends BF.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Tu.default=zF;var WF=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tp,"__esModule",{value:!0});const $l=WF(Tu);let VF=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new $l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $l.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new $l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new $l.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};tp.default=VF;var tA=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W0,"__esModule",{value:!0});const qF=tA(tp),HF=tA(Tu);let GF=class rA{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new qF.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rA(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new HF.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};W0.default=GF;var nl=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const nA=nl(W0);mr.PostgrestClient=nA.default;const aA=nl(tp);mr.PostgrestQueryBuilder=aA.default;const iA=nl(Tu);mr.PostgrestFilterBuilder=iA.default;const sA=nl(rp);mr.PostgrestTransformBuilder=sA.default;const oA=nl(np);mr.PostgrestBuilder=oA.default;const lA=nl(ap);mr.PostgrestError=lA.default;var KF=mr.default={PostgrestClient:nA.default,PostgrestQueryBuilder:aA.default,PostgrestFilterBuilder:iA.default,PostgrestTransformBuilder:sA.default,PostgrestBuilder:oA.default,PostgrestError:lA.default};const{PostgrestClient:XF,PostgrestQueryBuilder:Kve,PostgrestFilterBuilder:Xve,PostgrestTransformBuilder:Yve,PostgrestBuilder:Jve,PostgrestError:Qve}=KF;class YF{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JF="2.15.5",QF=`realtime-js/${JF}`,ZF="1.0.0",Rv=1e4,e6=1e3,t6=100;var oc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oc||(oc={}));var Ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ct||(Ct={}));var on;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(on||(on={}));var Mv;(function(e){e.websocket="websocket"})(Mv||(Mv={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class r6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class cA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const ij=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=n6(o,e,t,a),s),{})},n6=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a?.type,o=r[e];return s&&!n.includes(s)?uA(s,o):Iv(o)},uA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return o6(t,r)}switch(e){case Je.bool:return a6(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return i6(t);case Je.json:case Je.jsonb:return s6(t);case Je.timestamp:return l6(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Iv(t);default:return Iv(t)}},Iv=e=>e,a6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},o6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>uA(t,l))}return e},l6=e=>typeof e=="string"?e.replace(" ","T"):e,dA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class zm{constructor(t,r,n={},a=Rv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sj||(sj={}));class lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=lc.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lc.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(p=>p.presence_ref),m=f.map(p=>p.presence_ref),v=d.filter(p=>m.indexOf(p.presence_ref)<0),y=f.filter(p=>h.indexOf(p.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oj||(oj={}));var cc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cc||(cc={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class V0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,on.join,this.params,this.timeout),this.rejoinTimer=new cA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new lc(this),this.broadcastEndpointURL=dA(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[cc.PRESENCE]&&this.bindings[cc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t?.(Kn.CHANNEL_ERROR,m)),this._onClose(()=>t?.(Kn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t?.(Kn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,p=(v=y?.length)!==null&&v!==void 0?v:0,b=[];for(let g=0;g<p;g++){const x=y[g],{filter:{event:_,schema:j,table:S,filter:N}}=x,k=m&&m[g];if(k&&k.event===_&&k.schema===j&&k.table===S&&k.filter===N)b.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Ct.errored,t?.(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Kn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ct.errored,t?.(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ct.joined&&t===cc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new zm(this,on.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>t6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=on;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,y,p;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((p=(y=m.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,y,p,b,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||j?.toLocaleLowerCase()===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const _=(g=(b=m?.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:p,commit_timestamp:b,type:g,errors:x}=v;h=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:b,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&V0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(on.close,{},t)}_onError(t){this._on(on.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ij(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ij(t.columns,t.old_record)),r}}const Wm=()=>{},ud={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c6=[1e3,2e3,5e3,1e4],u6=1e4,d6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rv,this.transport=null,this.heartbeatIntervalMs=ud.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.reconnectTimer=null,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new r6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Ou(async()=>{const{default:l}=await Promise.resolve().then(()=>rl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mv.websocket}`,this.httpEndpoint=dA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZF}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oc.connecting:return Ti.Connecting;case oc.open:return Ti.Open;case oc.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new V0(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(e6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ud.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(on.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([d6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:QF};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(on.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ud.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Rv,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:ud.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Wm,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:f=>c6[f-1]||u6,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class q0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class h6 extends q0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dv extends q0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var p6=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const fA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},m6=()=>p6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ou(()=>Promise.resolve().then(()=>rl),void 0)).Response:Response}),Lv=e=>{if(Array.isArray(e))return e.map(r=>Lv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Lv(n)}),t},g6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var hs=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Vm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v6=(e,t,r)=>hs(void 0,void 0,void 0,function*(){const n=yield m6();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,o=a?.statusCode||s+"";t(new h6(Vm(a),s,o))}).catch(a=>{t(new Dv(Vm(a),a))}):t(new Dv(Vm(e),e))}),y6=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(g6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function $u(e,t,r,n,a,s){return hs(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,y6(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>v6(c,l,n))})})}function Cf(e,t,r,n){return hs(this,void 0,void 0,function*(){return $u(e,"GET",t,r,n)})}function Nn(e,t,r,n,a){return hs(this,void 0,void 0,function*(){return $u(e,"POST",t,n,a,r)})}function Fv(e,t,r,n,a){return hs(this,void 0,void 0,function*(){return $u(e,"PUT",t,n,a,r)})}function x6(e,t,r,n){return hs(this,void 0,void 0,function*(){return $u(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hA(e,t,r,n,a){return hs(this,void 0,void 0,function*(){return $u(e,"DELETE",t,n,a,r)})}var nr=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const b6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w6{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=fA(a)}uploadOrUpdate(t,r,n,a){return nr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},lj),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Fv:Nn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Et(s))return{data:null,error:s};throw s}})}upload(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return nr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:lj.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Fv(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(Et(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return nr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new q0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}update(t,r,n){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}copy(t,r,n){return nr(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return nr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Nn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return nr(this,void 0,void 0,function*(){try{const a=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}download(t,r){return nr(this,void 0,void 0,function*(){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Cf(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}info(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Cf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lv(n),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}exists(t){return nr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield x6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Et(n)&&n instanceof Dv){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return nr(this,void 0,void 0,function*(){try{return{data:yield hA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}list(t,r,n){return nr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},b6),r),{prefix:t||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}listV2(t,r){return nr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _6="2.11.1",j6={"X-Client-Info":`storage-js/${_6}`};var _s=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class S6{constructor(t,r={},n,a){const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},j6),r),this.fetch=fA(n)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}getBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _s(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _s(this,void 0,void 0,function*(){try{return{data:yield hA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}}class N6 extends S6{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new w6(this.url,this.headers,t,this.fetch)}}const k6="2.57.2";let Xl="";typeof Deno<"u"?Xl="deno":typeof document<"u"?Xl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xl="react-native":Xl="node";const C6={"X-Client-Info":`supabase-js-${Xl}/${k6}`},E6={headers:C6},A6={schema:"public"},P6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O6={};var T6=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $6=e=>{let t;return e?t=e:typeof fetch>"u"?t=QE:t=fetch,(...r)=>t(...r)},R6=()=>typeof Headers>"u"?ZE:Headers,M6=(e,t,r)=>{const n=$6(r),a=R6();return(s,o)=>T6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var I6=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function D6(e){return e.endsWith("/")?e:e+"/"}function L6(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>I6(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const pA="2.71.1",$s=30*1e3,Uv=3,qm=Uv*$s,F6="http://localhost:9999",U6="supabase.auth.token",B6={"X-Client-Info":`gotrue-js/${pA}`},Bv="X-Supabase-Api-Version",mA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W6=10*60*1e3;class H0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class V6 extends H0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function q6(e){return Ae(e)&&e.name==="AuthApiError"}class gA extends H0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hi extends H0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ea extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H6(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class dd extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fd extends hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hd extends hi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G6(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class cj extends hi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zv extends hi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hm(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class uj extends hi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wv extends hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dj=` 	
\r=`.split(""),K6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dj.length;t+=1)e[dj[t].charCodeAt(0)]=-2;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=t;return e})();function fj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ef[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ef[n]),t.queuedBits-=6}}function vA(e,t,r){const n=K6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{J6(o,n,r)};for(let o=0;o<e.length;o+=1)vA(e.charCodeAt(o),a,s);return t.join("")}function X6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}X6(n,t)}}function J6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Q6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Z6(e){const t=[];return Y6(e,r=>t.push(r)),new Uint8Array(t)}function eU(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>fj(a,r,n)),fj(null,r,n),t.join("")}function tU(e){return Math.round(Date.now()/1e3)+e}function rU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},yA=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function nU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const xA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>rl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ca=async(e,t)=>{await e.removeItem(t)};class ip{constructor(){this.promise=new ip.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ip.promiseConstructor=Promise;function Gm(e){const t=e.split(".");if(t.length!==3)throw new Wv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!z6.test(t[n]))throw new Wv("JWT not in base64url format");return{header:JSON.parse(hj(t[0])),payload:JSON.parse(hj(t[1])),signature:Q6(t[2]),raw:{header:t[0],payload:t[1]}}}async function iU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sU(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function oU(e){return("0"+e.toString(16)).substr(-2)}function lU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,oU).join("")}async function cU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function uU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function js(e,t,r=!1){const n=lU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Rs(e,`${t}-code-verifier`,a);const s=await uU(n);return[s,n===s?"plain":"s256"]}const dU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fU(e){const t=e.headers.get(Bv);if(!t||!t.match(dU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ss(e){if(!mU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Km(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pj(e){return JSON.parse(JSON.stringify(e))}var gU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ci=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vU=[502,503,504];async function mj(e){var t;if(!aU(e))throw new zv(Ci(e),0);if(vU.includes(e.status))throw new zv(Ci(e),e.status);let r;try{r=await e.json()}catch(s){throw new gA(Ci(s),s)}let n;const a=fU(e);if(a&&a.getTime()>=mA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uj(Ci(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ea}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new uj(Ci(r),e.status,r.weak_password.reasons);throw new V6(Ci(r),e.status||500,n)}const yU=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[Bv]||(s[Bv]=mA["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await xU(e,t,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function xU(e,t,r,n,a,s){const o=yU(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new zv(Ci(c),0)}if(l.ok||await mj(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await mj(c)}}function Hn(e){var t;let r=null;jU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gj(e){const t=Hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ia(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bU(e){return{data:e,error:null}}function wU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=gU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function _U(e){return e}function jU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xm=["global","local","others"];var SU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class NU{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Xm[0]){if(Xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xm.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ia})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=SU(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:wU,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ia})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_U});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(v.split(";")[1].split("=")[1]);u[`${p}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ss(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ia})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ss(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ia})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ss(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ia})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ss(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ss(t.userId),Ss(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function vj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function kU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ns={debug:!!(globalThis&&yA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class CU extends bA{}async function EU(e,t,r){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ns.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kU();const AU={url:F6,storageKey:U6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yj(e,t,r){return await r()}const ks={};class Uc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uc.nextInstanceID,Uc.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},AU),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new NU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xA(a.fetch),this.lock=a.lock||yj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:rn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=EU:this.lock=yj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:yA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=vj(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=nU(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),rn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),G6(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new gA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Hn}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await js(this.storage,this.storageKey)),s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},xform:Hn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(a=h?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Hn})}else throw new fd("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:gj})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:gj})}else throw new fd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,m;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:p,wallet:b,statement:g,options:x}=t;let _;if(rn())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=x?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:p,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:eU(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Hn});if(b)throw b;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new dd}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:b})}catch(p){if(Ae(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(t){const r=await wi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Hn});if(await Ca(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new dd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(Ae(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new dd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await js(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new fd("You must provide either an email or phone number.")}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Hn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await js(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:bU})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ea;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new fd("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await wi(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Km()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ia}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ea}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ia})})}catch(r){if(Ae(r))return H6(r)&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Ea;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await js(this.storage,this.storageKey));const{data:u,error:d}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ia});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ea;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=Gm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ea;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!rn())throw new hd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cj("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new hd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:p}=await this._getUser(s);if(p)throw p;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(q6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=rU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await js(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return rn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Ae(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sU(async a=>(a>0&&await iU(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(a,s)=>{const o=200*Math.pow(2,a);return s&&Hm(s)&&Date.now()+o-n<$s})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),rn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await wi(this.storage,this.storageKey);if(a&&this.userStorage){let o=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Rs(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:Km()}else if(a&&!a.user&&!a.user){const o=await wi(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Ca(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,a)):a.user=Km()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${qm}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Hm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ip;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ea;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Ae(s)){const o={session:null,error:s};return Hm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=pj(a);await Rs(this.storage,this.storageKey,s)}else{const a=pj(r);await Rs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ca(this.storage,this.storageKey),await Ca(this.storage,this.storageKey+"-code-verifier"),await Ca(this.storage,this.storageKey+"-user"),this.userStorage&&await Ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$s}ms, refresh threshold is ${Uv} ticks`),a<=Uv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await js(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Gm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+W6>a)return n;const{data:s,error:o}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=Gm(n);r?.allowExpired||hU(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const d=pU(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Z6(`${l}.${c}`)))throw new Wv("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}Uc.nextInstanceID=0;const PU=Uc;class OU extends PU{constructor(t){super(t)}}var TU=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class $U{constructor(t,r,n){var a,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=D6(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:A6,realtime:O6,auth:Object.assign(Object.assign({},P6),{storageKey:u}),global:E6},f=L6(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=M6(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new XF(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new N6(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new CF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return TU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OU({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new f6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RU=(e,t,r)=>new $U(e,t,r);function MU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IU="xwezqcgstuxsninpxfkt",DU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3ZXpxY2dzdHV4c25pbnB4Zmt0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTkwODksImV4cCI6MjA3MDY3NTA4OX0.bbz3Dm5J3w8NjTQQwsIKtZpQ0i6JJ-buUZ2u_zbiO6c";let Vv=null;if(!Vv){const e=`https://${IU}.supabase.co`;Vv=RU(e,DU,{auth:{persistSession:!0,storageKey:"recruitment-system-auth"}})}const ee=Vv;class Bc{constructor(){}async getDashboard(){try{const[t,r,n,a]=await Promise.all([ee.from("candidates").select("*"),ee.from("agents").select("*"),ee.from("receiving_companies").select("*"),ee.from("payments").select("*")]),s=t.data||[],o=r.data||[],l=n.data||[],c=a.data||[],u=s.length,d=s.filter(b=>!["deployed","rejected","cancelled"].includes(b.stage)).length,f=s.filter(b=>b.stage==="deployed").length,h=o.filter(b=>b.is_active).length,m=l.filter(b=>b.is_active).length,v=c.reduce((b,g)=>b+(g.amount||0),0),y=[{name:"Passport Stage",count:s.filter(b=>b.stage==="passport").length,percentage:15},{name:"Medical Examination",count:s.filter(b=>b.stage==="medical").length,percentage:25},{name:"Training",count:s.filter(b=>b.stage==="training").length,percentage:35},{name:"Visa Processing",count:s.filter(b=>b.stage==="visa").length,percentage:20},{name:"Deployment Ready",count:s.filter(b=>b.stage==="deployment_ready").length,percentage:5}];return{stats:{totalCandidates:u,activeCandidates:d,totalAgents:h,totalEmployers:m,monthlyRevenue:v,thisMonthPlacements:f,pendingPayments:0,successfulPlacements:f},processStages:y,recentActivities:[{id:"1",message:"New candidate registered for recruitment program",time:"2 hours ago",status:"success"},{id:"2",message:"Medical examination completed for candidate",time:"4 hours ago",status:"info"},{id:"3",message:"Visa processing initiated",time:"6 hours ago",status:"pending"}]}}catch(t){throw console.error("Dashboard API error:",t),t}}async getDashboardKPIs(){try{const{data:t}=await ee.from("candidates").select("*"),{data:r}=await ee.from("payments").select("*"),{data:n}=await ee.from("receiving_companies").select("*"),a=t?.length||0,s=t?.filter(b=>!["deployed","rejected","cancelled"].includes(b.stage))?.length||0,o=t?.filter(b=>b.stage==="deployed")?.length||0,l=r?.reduce((b,g)=>b+(g.amount||0),0)||0,c=n?.length||0,u=new Date,d=u.getMonth(),f=u.getFullYear(),h=d===0?11:d-1,m=d===0?f-1:f,v=n?.filter(b=>{const g=new Date(b.created_at);return g.getMonth()<=d&&g.getFullYear()===f})?.length||0,y=n?.filter(b=>{const g=new Date(b.created_at);return g.getMonth()<=h&&g.getFullYear()===m})?.length||0,p=y>0?(v-y)/y*100:0;return{kpis:{totalCandidates:a,activeCandidates:s,deployedThisMonth:o,totalRevenue:l,conversionRate:a>0?(o/a*100).toFixed(1):0,averageProcessingTime:42,totalEmployers:c,employerGrowth:p.toFixed(1)}}}catch(t){throw console.error("Dashboard KPIs error:",t),t}}async getCandidates(){try{console.log("Attempting to fetch candidates...");const{data:t,error:r}=await ee.from("candidates").select("*").order("created_at",{ascending:!1});if(console.log("Candidates query result:",{data:t,error:r}),r)throw console.error("Supabase error:",r),new Error(`Database error: ${r.message}`);const n=t?[...new Set(t.map(c=>c.agent_id).filter(Boolean))]:[],a=t?[...new Set(t.map(c=>c.receiving_company_id).filter(Boolean))]:[];let s=[],o=[];if(n.length>0){const{data:c}=await ee.from("agents").select("id, agency_name, agency_id").in("id",n);s=c||[]}if(a.length>0){const{data:c}=await ee.from("receiving_companies").select("id, company_name").in("id",a);o=c||[]}const l=t?.map(c=>{const u=s.find(f=>f.id===c.agent_id),d=o.find(f=>f.id===c.receiving_company_id);return{...c,name:c.full_name,status:c.stage,application_date:c.created_at?.split("T")[0],age:c.date_of_birth?new Date().getFullYear()-new Date(c.date_of_birth).getFullYear():null,agent_name:u?.agency_name,company_name:d?.company_name}})||[];return console.log("Mapped candidates:",l),{candidates:l}}catch(t){throw console.error("Get candidates error:",t),t}}async createCandidate(t){try{if(console.log("Creating candidate with data:",t),t.phone){const{data:s}=await ee.from("candidates").select("id, full_name").eq("phone",t.phone).single();if(s)throw new Error(`Phone number ${t.phone} is already registered to ${s.full_name}`)}if(t.passport_number){const{data:s}=await ee.from("candidates").select("id, full_name").eq("passport_number",t.passport_number.toUpperCase()).single();if(s)throw new Error(`Passport number ${t.passport_number} is already registered to ${s.full_name}`)}const r={full_name:t.full_name||t.name||"",email:t.email||null,phone:t.phone||null,date_of_birth:t.date_of_birth||null,gender:t.gender||null,nationality:t.nationality||null,passport_number:t.passport_number||null,nin_number:t.nin_number||null,next_of_kin:t.next_of_kin||t.next_of_kin_name||null,next_of_kin_contact:t.next_of_kin_contact||null,next_of_kin_relationship:t.next_of_kin_relationship||null,address:t.address||null,photo_url:t.photo_url||null,agent_id:t.agent_id||null,receiving_company_id:t.receiving_company_id||null,expected_salary:t.expected_salary?parseFloat(t.expected_salary):null,position:t.position||t.position_applied_for||null,stage:t.stage||"passport",is_active:t.is_active!==void 0?t.is_active:!0};console.log("Clean data for insert:",r);const{data:n,error:a}=await ee.from("candidates").insert([r]).select().single();if(a)throw console.error("Supabase insert error:",a),a;console.log("Candidate created successfully:",n);try{await this.logAuditEvent("CREATE","candidates",n.id,null,n)}catch(s){console.warn("Audit logging failed:",s)}return{candidate:n}}catch(r){throw console.error("Create candidate error:",r),r}}async updateCandidate(t,r){try{console.log("API Client - Starting candidate update for ID:",t),console.log("API Client - Update data:",r);const{data:n,error:a}=await ee.from("candidates").select("*").eq("id",t).single();if(a)throw console.error("API Client - Error fetching old data:",a),a;if(console.log("API Client - Old data fetched:",n),r.phone&&r.phone!==n.phone){const{data:c}=await ee.from("candidates").select("id, full_name").eq("phone",r.phone).neq("id",t).single();if(c)throw new Error(`Phone number ${r.phone} is already registered to ${c.full_name}`)}if(r.passport_number&&r.passport_number!==n.passport_number){const{data:c}=await ee.from("candidates").select("id, full_name").eq("passport_number",r.passport_number.toUpperCase()).neq("id",t).single();if(c)throw new Error(`Passport number ${r.passport_number} is already registered to ${c.full_name}`)}const s={full_name:r.full_name||r.name,email:r.email,phone:r.phone,date_of_birth:r.date_of_birth,gender:r.gender,nationality:r.nationality,passport_number:r.passport_number,nin_number:r.nin_number,next_of_kin:r.next_of_kin||r.next_of_kin_name,next_of_kin_contact:r.next_of_kin_contact,next_of_kin_relationship:r.next_of_kin_relationship,address:r.address,photo_url:r.photo_url,agent_id:r.agent_id,receiving_company_id:r.receiving_company_id,expected_salary:r.expected_salary,position:r.position||r.position_applied_for,stage:r.stage!==void 0?r.stage:n.stage,is_active:r.is_active!==void 0?r.is_active:!0,updated_at:new Date().toISOString()};console.log("API Client - Prepared update data:",s);const{data:o,error:l}=await ee.from("candidates").update(s).eq("id",t).select().single();if(l)throw console.error("API Client - Update error:",l),l;console.log("API Client - Update successful:",o);try{await this.logAuditEvent("UPDATE","candidates",t,n,o),console.log("API Client - Audit log successful")}catch(c){console.warn("API Client - Audit logging failed:",c)}return{candidate:o}}catch(n){throw console.error("API Client - Update candidate error:",n),n}}async deleteCandidate(t){try{const{data:r}=await ee.from("candidates").select("*").eq("id",t).single(),{error:n}=await ee.from("candidates").delete().eq("id",t);if(n)throw n;return await this.logAuditEvent("DELETE","candidates",t,r,null),{message:"Candidate deleted successfully"}}catch(r){throw console.error("Delete candidate error:",r),r}}async getAgents(){try{const{data:t,error:r}=await ee.from("agents").select(`
          *,
          candidates:candidates(count)
        `);if(r)throw r;return{agents:t?.map(a=>{const s=a.candidates?.[0]?.count||0,o=0,l=o*(a.commission_value||0);return{...a,name:a.agency_name,status:a.is_active?"active":"inactive",total_candidates:s,successful_placements:o,total_earned:l,notes:a.address||""}})||[]}}catch(t){console.error("Get agents error:",t);try{const{data:r,error:n}=await ee.from("agents").select("*");if(n)throw n;return{agents:r?.map(s=>({...s,name:s.agency_name,status:s.is_active?"active":"inactive",total_candidates:0,successful_placements:0,total_earned:0,notes:s.address||""}))||[]}}catch(r){throw console.error("Fallback get agents error:",r),r}}}async createAgent(t){try{if(t.phone){const{data:d}=await ee.from("agents").select("id, agency_name").eq("phone",t.phone).single();if(d)throw new Error(`Phone number ${t.phone} is already registered to ${d.agency_name}`)}const r=t.agency_country||"UG",n=r==="UG"?"UG":r==="KE"?"KE":"UG",{data:a}=await ee.from("agents").select("agency_id").like("agency_id",`JA%_${n}%`).order("agency_id",{ascending:!1});let s=1,o=1;if(a&&a.length>0){const d=new RegExp(`^JA(\\d{5})_${n}(\\d+)$`);for(const f of a){const h=f.agency_id.match(d);if(h){const m=parseInt(h[1]),v=parseInt(h[2]);if(m>=s){s=m,o=v,m>=99999?(o=v+1,s=1):s=m+1;break}}}}const l=`JA${s.toString().padStart(5,"0")}_${n}${o}`,{data:c,error:u}=await ee.from("agents").insert([{agency_name:t.agency_name||t.name,phone:t.phone,email:t.email,photo_url:t.photo_url,commission_rate:t.commission_rate||.1,agency_country:n,agency_id:l,is_active:t.is_active!==void 0?t.is_active:!0}]).select().single();if(u)throw u;return await this.logAuditEvent("CREATE","agents",c.id,null,c),{agent:c}}catch(r){throw console.error("Create agent error:",r),r}}async updateAgent(t,r){try{const{data:n}=await ee.from("agents").select("*").eq("id",t).single();if(r.phone&&r.phone!==n.phone){const{data:o}=await ee.from("agents").select("id, agency_name").eq("phone",r.phone).neq("id",t).single();if(o)throw new Error(`Phone number ${r.phone} is already registered to ${o.agency_name}`)}const{data:a,error:s}=await ee.from("agents").update({agency_name:r.agency_name||r.name,phone:r.phone,email:r.email,photo_url:r.photo_url,commission_rate:r.commission_rate,agency_country:r.agency_country,is_active:r.is_active}).eq("id",t).select().single();if(s)throw s;return await this.logAuditEvent("UPDATE","agents",t,n,a),{agent:a}}catch(n){throw console.error("Update agent error:",n),n}}async deleteAgent(t){try{const{data:r}=await ee.from("agents").select("*").eq("id",t).single(),{error:n}=await ee.from("agents").delete().eq("id",t);if(n)throw n;return await this.logAuditEvent("DELETE","agents",t,r,null),{message:"Agent deleted successfully"}}catch(r){throw console.error("Delete agent error:",r),r}}async getEmployers(){try{const{data:t,error:r}=await ee.from("receiving_companies").select("*");if(r)throw r;return{employers:t?.map(a=>({...a,name:a.company_name,status:a.is_active?"active":"inactive"}))||[]}}catch(t){throw console.error("Get employers error:",t),t}}async createEmployer(t){try{const{data:r,error:n}=await ee.from("receiving_companies").insert([{company_name:t.name||t.company_name,contact_person:t.contact_person,phone:t.phone,email:t.email,country:t.country,license_number:t.license_number,payment_type:t.payment_type||"employer_funded",logo_url:t.logo_url,is_active:t.is_active!==void 0?t.is_active:!0}]).select().single();if(n)throw n;return{employer:{...r,name:r.company_name,status:r.is_active?"active":"inactive"}}}catch(r){throw console.error("Create employer error:",r),r}}async updateEmployer(t,r){try{const{data:n,error:a}=await ee.from("receiving_companies").update({company_name:r.name||r.company_name,contact_person:r.contact_person,phone:r.phone,email:r.email,country:r.country,license_number:r.license_number,payment_type:r.payment_type,logo_url:r.logo_url,is_active:r.is_active!==void 0?r.is_active:r.status==="active",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return{employer:{...n,name:n.company_name,status:n.is_active?"active":"inactive"}}}catch(n){throw console.error("Update employer error:",n),n}}async deleteEmployer(t){try{const{error:r}=await ee.from("receiving_companies").delete().eq("id",t);if(r)throw r;return{message:"Employer deleted successfully"}}catch(r){throw console.error("Delete employer error:",r),r}}async getFinancials(){try{const{data:t,error:r}=await ee.from("payments").select(`
          *,
          candidates!candidate_id(full_name)
        `);if(r)throw r;return{financials:t?.map(a=>({id:a.id,candidate_id:a.candidate_id,candidate_name:a.candidates?.full_name||"Unknown",type:a.stage,amount:a.amount||0,currency:a.currency||"UGX",status:"completed",date:a.paid_at?.split("T")[0]||new Date().toISOString().split("T")[0],description:a.notes||`Payment for ${a.stage||"service"}`}))||[]}}catch(t){throw console.error("Get financials error:",t),t}}async createFinancialRecord(t){try{const{data:r,error:n}=await ee.from("payments").insert([{candidate_id:t.candidate_id,stage:t.type||t.stage,amount:t.amount,currency:t.currency||"UGX",payment_method:t.payment_method||"Bank Transfer",reference_number:t.reference_number,notes:t.description||t.notes,paid_by:t.paid_by,paid_at:new Date().toISOString()}]).select(`
          *,
          candidates!candidate_id(full_name)
        `).single();if(n)throw n;return{financial:{id:r.id,candidate_id:r.candidate_id,candidate_name:r.candidates?.full_name||"Unknown",type:r.stage,amount:r.amount,currency:r.currency,status:"completed",date:r.paid_at?.split("T")[0],description:r.notes}}}catch(r){throw console.error("Create financial record error:",r),r}}async updateFinancialRecord(t,r){try{const{data:n,error:a}=await ee.from("payments").update({candidate_id:r.candidate_id,stage:r.type||r.stage,amount:r.amount,currency:r.currency,notes:r.description||r.notes}).eq("id",t).select(`
          *,
          candidates!candidate_id(full_name)
        `).single();if(a)throw a;return{financial:{id:n.id,candidate_id:n.candidate_id,candidate_name:n.candidates?.full_name||"Unknown",type:n.stage,amount:n.amount,currency:n.currency,status:"completed",date:n.paid_at?.split("T")[0],description:n.notes}}}catch(n){throw console.error("Update financial record error:",n),n}}async deleteFinancialRecord(t){try{const{error:r}=await ee.from("payments").delete().eq("id",t);if(r)throw r;return{message:"Financial record deleted successfully"}}catch(r){throw console.error("Delete financial record error:",r),r}}async getPositions(){try{const{data:t,error:r}=await ee.from("positions").select(`
          *,
          receiving_companies!receiving_company_id(id, company_name)
        `).order("created_at",{ascending:!1});if(r)throw r;return{data:t?.map(a=>({...a,company_name:a.receiving_companies?.company_name}))||[]}}catch(t){throw console.error("Get positions error:",t),t}}async getProcessData(){try{const{data:t}=await ee.from("candidates").select("*");return{processData:{passport:t?.filter(n=>n.stage==="passport")||[],interview:t?.filter(n=>n.stage==="interview")||[],medical:t?.filter(n=>n.stage==="medical")||[],training:t?.filter(n=>n.stage==="training")||[],visa:t?.filter(n=>n.stage==="visa")||[],deployment_ready:t?.filter(n=>n.stage==="deployment_ready")||[],deployed:t?.filter(n=>n.stage==="deployed")||[]}}}catch(t){throw console.error("Get process data error:",t),t}}async getDocuments(){try{const{data:t,error:r}=await ee.from("documents").select(`
          *,
          candidates!candidate_id(full_name)
        `);if(r)throw r;return{documents:t||[]}}catch(t){throw console.error("Get documents error:",t),t}}async getReports(){try{const{data:t}=await ee.from("candidates").select("*"),{data:r}=await ee.from("payments").select("*"),{data:n}=await ee.from("agents").select("*");return{reports:{monthly_placements:t?.filter(s=>s.stage==="deployed")?.length||0,total_revenue:r?.reduce((s,o)=>s+(o.amount||0),0)||0,agent_performance:n?.map(s=>({name:s.agency_name,placements:0,earnings:0}))||[],pipeline_health:{conversion_rate:t&&t.length>0?(t.filter(s=>s.stage==="deployed").length/t.length*100).toFixed(1):"0",average_processing_time:"45 days",pending_candidates:t?.filter(s=>!["deployed","rejected","cancelled"].includes(s.stage))?.length||0}}}}catch(t){throw console.error("Get reports error:",t),t}}async healthCheck(){return{status:"ok"}}async searchGlobal(t){try{if(!t)return{results:[]};const[r,n,a,s]=await Promise.all([ee.from("candidates").select("id, full_name, phone, email").ilike("full_name",`%${t}%`),ee.from("agents").select("id, agency_name, phone, email").ilike("agency_name",`%${t}%`),ee.from("receiving_companies").select("id, company_name, phone, email").ilike("company_name",`%${t}%`),ee.from("positions").select("id, job_title, country, salary_range").or(`job_title.ilike.%${t}%,country.ilike.%${t}%,position_type.ilike.%${t}%`)]);return{results:[...(r.data||[]).map(l=>({id:l.id,name:l.full_name,type:"candidate",details:l.phone||l.email})),...(n.data||[]).map(l=>({id:l.id,name:l.agency_name,type:"agent",details:l.phone||l.email})),...(a.data||[]).map(l=>({id:l.id,name:l.company_name,type:"employer",details:l.phone||l.email})),...(s.data||[]).map(l=>({id:l.id,name:l.job_title,type:"job",details:`${l.country}  ${l.salary_range||"Salary not specified"}`}))]}}catch(r){return console.error("Search error:",r),{results:[]}}}async executeSQLQuery(t){try{if(!t)throw new Error("SQL query is required");const{data:r,error:n}=await ee.rpc("execute_sql_query",{sql_query:t});if(n){let s=n.message||"Unknown database error";if(n.code)switch(n.code){case"42P01":s=`Table does not exist: ${s}. Available tables: candidates, agents, receiving_companies, positions, payments, documents`;break;case"42703":s=`Column does not exist: ${s}. Check column names in your query`;break;case"42601":s=`SQL syntax error: ${s}. Check your SQL syntax, quotes, and semicolons`;break;case"23505":s=`Duplicate value constraint violation: ${s}`;break;case"23503":s=`Foreign key constraint violation: ${s}`;break;case"23502":s=`Not null constraint violation: ${s}`;break;case"08006":s=`Database connection error: ${s}`;break;default:s=`Database error (${n.code}): ${s}`}const o=t.length>100?t.substring(0,100)+"...":t;throw s+=`

Query: ${o}`,s.includes("does not exist")?s+=`

 Tip: Use "\\dt" to list all tables, or check the schema documentation`:s.includes("syntax error")&&(s+=`

 Tip: Ensure proper SQL syntax, check for missing quotes around strings`),new Error(s)}return{data:r?.map(s=>s.result)||[]}}catch(r){if(console.error("SQL execution error:",r),r instanceof Error&&r.message.includes(" Tip:"))throw r;const a=`${r instanceof Error?r.message:"Query execution failed"}

 Common issues:
 Check table names: candidates, agents, receiving_companies, positions
 Verify column names exist
 Ensure proper SQL syntax (quotes, semicolons)
 Use LIMIT for large result sets`;throw new Error(a)}}async logAuditEvent(t,r,n,a,s){try{await ee.from("audit_logs").insert([{table_name:r,record_id:n,action:t,old_data:a,new_data:s}])}catch(o){console.error("Audit log error:",o)}}async createDocument(t){try{const{data:r,error:n}=await ee.from("documents").insert([{candidate_id:t.candidate_id,doc_type:t.doc_type,doc_name:t.doc_name,doc_url:t.doc_url,file_size:t.file_size||0,mime_type:t.mime_type,is_verified:t.is_verified||!1,expiry_date:t.expiry_date||null,uploaded_by:t.uploaded_by||null}]).select().single();if(n)throw n;return await this.logAuditEvent("CREATE","documents",r.id,null,r),{document:r}}catch(r){throw console.error("Create document error:",r),r}}async updateDocument(t,r){try{const{data:n}=await ee.from("documents").select("*").eq("id",t).single(),{data:a,error:s}=await ee.from("documents").update({doc_type:r.doc_type,doc_name:r.doc_name,doc_url:r.doc_url,file_size:r.file_size,mime_type:r.mime_type,is_verified:r.is_verified,expiry_date:r.expiry_date||null,verified_by:r.verified_by,verified_at:r.is_verified?new Date().toISOString():null}).eq("id",t).select().single();if(s)throw s;return await this.logAuditEvent("UPDATE","documents",t,n,a),{document:a}}catch(n){throw console.error("Update document error:",n),n}}async deleteDocument(t){try{const{data:r}=await ee.from("documents").select("*").eq("id",t).single(),{error:n}=await ee.from("documents").delete().eq("id",t);if(n)throw n;return await this.logAuditEvent("DELETE","documents",t,r,null),{message:"Document deleted successfully"}}catch(r){throw console.error("Delete document error:",r),r}}async verifyDocument(t,r){try{console.log("API Client - Starting document verification for ID:",t),console.log("API Client - Verification data:",r);const{data:n,error:a}=await ee.from("documents").select("*").eq("id",t).single();if(a)throw console.error("API Client - Error fetching document:",a),new Error(`Document not found: ${a.message}`);console.log("API Client - Found document:",n);const{data:s,error:o}=await ee.from("documents").update({is_verified:!0,verified_by:null,verified_at:new Date().toISOString()}).eq("id",t).select().single();if(o)throw console.error("API Client - Update error:",o),new Error(`Verification failed: ${o.message}`);return console.log("API Client - Verification successful:",s),await this.logAuditEvent("UPDATE","documents",t,n,s),{document:s}}catch(n){throw console.error("API Client - Verify document error:",n),n}}async getStageHistory(t){try{let r=ee.from("stage_history").select(`
          *,
          candidates!candidate_id(full_name)
        `).order("created_at",{ascending:!1});t&&(r=r.eq("candidate_id",t));const{data:n,error:a}=await r;if(a)throw a;return{data:n||[]}}catch(r){throw console.error("Get stage history error:",r),r}}async createStageEntry(t){try{const{data:r,error:n}=await ee.from("stage_history").insert([{candidate_id:t.candidate_id,stage:t.stage,notes:t.notes,changed_by:t.changed_by||"system"}]).select().single();if(n)throw n;return{data:r}}catch(r){throw console.error("Create stage entry error:",r),r}}async getSettings(){try{const{data:t,error:r}=await ee.from("system_settings").select("*");if(r)throw r;return{data:t||[]}}catch(t){throw console.error("Get settings error:",t),t}}async createSetting(t){try{const{data:r,error:n}=await ee.from("system_settings").insert([{setting_key:t.key,setting_value:t.value,description:t.description,category:t.category||"general"}]).select().single();if(n)throw n;return{data:r}}catch(r){throw console.error("Create setting error:",r),r}}async updateSetting(t,r){try{const{data:n,error:a}=await ee.from("system_settings").update({setting_value:r,updated_at:new Date().toISOString()}).eq("setting_key",t).select().single();if(a)throw a;return{data:n}}catch(n){throw console.error("Update setting error:",n),n}}async deleteSetting(t){try{const{error:r}=await ee.from("system_settings").delete().eq("setting_key",t);if(r)throw r;return{message:"Setting deleted successfully"}}catch(r){throw console.error("Delete setting error:",r),r}}async getSavedReports(){try{const{data:t,error:r}=await ee.from("saved_reports").select("*").order("created_at",{ascending:!1});if(r)throw r;return{data:t||[]}}catch(t){return console.error("Get saved reports error:",t),{data:[]}}}async saveReport(t){try{const{data:r,error:n}=await ee.from("saved_reports").insert([{report_name:t.name,report_type:t.type,report_config:t.config,description:t.description,created_by:t.created_by||"system"}]).select().single();if(n)throw n;return{data:r}}catch(r){throw console.error("Save report error:",r),r}}async deleteReport(t){try{const{error:r}=await ee.from("saved_reports").delete().eq("id",t);if(r)throw r;return{message:"Report deleted successfully"}}catch(r){throw console.error("Delete report error:",r),r}}async runSavedReport(t){try{const{data:r}=await ee.from("saved_reports").select("*").eq("id",t).single();if(!r)throw new Error("Report not found");switch(r.report_type){case"candidates":return await this.getCandidates();case"agents":return await this.getAgents();case"financials":return await this.getFinancials();default:return{data:[]}}}catch(r){throw console.error("Run saved report error:",r),r}}async getProfiles(){try{const{data:t,error:r}=await ee.from("profiles").select("*");if(r)throw r;return{profiles:t||[],data:t||[]}}catch(t){throw console.error("Get profiles error:",t),t}}async getCurrentProfile(){try{const{data:{user:t}}=await ee.auth.getUser();if(!t)return{data:null};const{data:r,error:n}=await ee.from("profiles").select("*").eq("id",t.id).single();if(n)throw n;return{data:r}}catch(t){return console.error("Get current profile error:",t),{data:null}}}async uploadDocumentFile(t,r,n){try{const a=t.name.split(".").pop(),s=`${r}/${n}_${Date.now()}.${a}`,{data:o}=await ee.storage.listBuckets();if(!o?.some(f=>f.name==="documents")){console.log("Creating documents bucket...");const{error:f}=await ee.storage.createBucket("documents",{public:!0,allowedMimeTypes:["application/pdf","image/jpeg","image/png","image/jpg"],fileSizeLimit:10485760});if(f)return console.error("Failed to create documents bucket:",f),{url:`mock://documents/${s}`,doc_url:`mock://documents/${s}`,data:{url:`mock://documents/${s}`},error:"Storage bucket not configured. Please set up Supabase Storage."}}const{data:c,error:u}=await ee.storage.from("documents").upload(s,t);if(u)throw u;const{data:{publicUrl:d}}=ee.storage.from("documents").getPublicUrl(s);return{url:d,doc_url:d,data:{url:d}}}catch(a){if(console.error("Upload document file error:",a),a.message?.includes("Bucket not found"))return{url:`mock://documents/${r}/${n}_${Date.now()}.${t.name.split(".").pop()}`,doc_url:`mock://documents/${r}/${n}_${Date.now()}.${t.name.split(".").pop()}`,data:{url:`mock://documents/${r}/${n}_${Date.now()}.${t.name.split(".").pop()}`},error:"Storage bucket not configured. Document upload simulated."};throw a}}async logAuditTrail(t){return await this.logAuditEvent(t.action,t.table_name,t.record_id,null,t.new_data)}async uploadDocument(t){return{message:"Use uploadDocumentFile instead"}}async updateStageEntry(t,r){return{data:r}}async deleteStageEntry(t){return{message:"Deleted"}}async getStageConfigs(){return{data:[]}}async createStageConfig(t){return{data:t}}async updateStageConfig(t,r){return{data:r}}async deleteStageConfig(t){return{message:"Deleted"}}async getCandidateDocuments(t){try{const{data:r,error:n}=await ee.from("documents").select("*").eq("candidate_id",t);if(n)throw n;return{data:r||[]}}catch{return{data:[]}}}async getJobs(t={}){try{console.log("Fetching jobs with filters:",t);let r=ee.from("positions").select(`
          *,
          receiving_companies!inner(
            id,
            company_name
          )
        `).order("created_at",{ascending:!1});t.is_active!==void 0&&(r=r.eq("is_active",t.is_active)),t.work_country&&(r=r.ilike("work_country",`%${t.work_country}%`)),t.receiving_company_id&&(r=r.eq("receiving_company_id",t.receiving_company_id)),t.position_name_search&&(r=r.ilike("position_name",`%${t.position_name_search}%`)),t.salary_min&&(r=r.gte("salary",t.salary_min)),t.salary_max&&(r=r.lte("salary",t.salary_max)),t.contract_period_min&&(r=r.gte("contract_period",t.contract_period_min)),t.contract_period_max&&(r=r.lte("contract_period",t.contract_period_max)),t.accommodation&&(r=r.eq("accommodation",!0)),t.food&&(r=r.eq("food",!0)),t.air_ticket&&(r=r.eq("air_ticket",!0)),t.transport&&(r=r.eq("transport",!0)),t.medical_insurance&&(r=r.eq("medical_insurance",!0)),t.employment_visa&&(r=r.eq("employment_visa",!0));const{data:n,error:a}=await r;if(a)throw console.error("Jobs fetch error:",a),a;const s=n?.map(o=>({...o,receiving_company_name:o.receiving_companies?.company_name||"Unknown Company"}))||[];return console.log("Jobs fetched successfully:",s.length),{jobs:s}}catch(r){throw console.error("Failed to fetch jobs:",r),r}}async getJobById(t){try{console.log("Fetching job by ID:",t);const{data:r,error:n}=await ee.rpc("get_job_by_id",{p_job_id:t});if(n)throw console.error("Job fetch error:",n),n;const a=r?.[0]||null;return console.log("Job fetched successfully:",a?.id),{job:a}}catch(r){throw console.error("Failed to fetch job:",r),r}}async createJob(t){try{console.log("Creating job:",t);const{data:r,error:n}=await ee.from("positions").insert({position_name:t.position_name,receiving_company_id:t.receiving_company_id,work_country:t.work_country,requested_headcount:t.requested_headcount,salary:t.salary||null,salary_currency:t.salary_currency||"USD",input_fee:t.input_fee||0,input_fee_currency:t.input_fee_currency||"UGX",markup_agency:t.markup_agency||0,markup_agency_type:t.markup_agency_type||"flat",markup_company:t.markup_company||0,markup_company_type:t.markup_company_type||"flat",contract_period:t.contract_period||24,probation_period:t.probation_period||3,min_age:t.min_age||18,max_age:t.max_age||65,accommodation:t.accommodation||!1,food:t.food||!1,air_ticket:t.air_ticket||!1,transport:t.transport||!1,medical_insurance:t.medical_insurance||!1,employment_visa:t.employment_visa||!1,working_hours:t.working_hours||"8 hours/day",is_active:t.is_active!==void 0?t.is_active:!0}).select().single();if(n)throw console.error("Job creation error:",n),n;console.log("Job created successfully:",r);try{await this.logAuditTrail({table_name:"positions",record_id:r.id,action:"CREATE",new_data:t})}catch(a){console.warn("Audit logging failed:",a)}return{job:r}}catch(r){throw console.error("Failed to create job:",r),r}}async updateJob(t,r){try{console.log("Updating job:",t,r);const{data:n,error:a}=await ee.from("positions").update({position_name:r.position_name,receiving_company_id:r.receiving_company_id,work_country:r.work_country,requested_headcount:r.requested_headcount,salary:r.salary,salary_currency:r.salary_currency,input_fee:r.input_fee,input_fee_currency:r.input_fee_currency,markup_agency:r.markup_agency,markup_agency_type:r.markup_agency_type,markup_company:r.markup_company,markup_company_type:r.markup_company_type,contract_period:r.contract_period,probation_period:r.probation_period,min_age:r.min_age,max_age:r.max_age,accommodation:r.accommodation,food:r.food,air_ticket:r.air_ticket,transport:r.transport,medical_insurance:r.medical_insurance,employment_visa:r.employment_visa,working_hours:r.working_hours,is_active:r.is_active,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw console.error("Job update error:",a),a;if(!n)throw new Error("Job not found or update failed");console.log("Job updated successfully:",t);try{await this.logAuditTrail({table_name:"positions",record_id:t,action:"UPDATE",new_data:r})}catch(s){console.warn("Audit logging failed:",s)}return{job:n}}catch(n){throw console.error("Failed to update job:",n),n}}async deleteJob(t){try{console.log("Deleting job (soft delete):",t);const{data:r,error:n}=await ee.from("positions").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Job deletion error:",n),n;if(!r)throw new Error("Job not found or deletion failed");console.log("Job deleted successfully:",t);try{await this.logAuditTrail({table_name:"positions",record_id:t,action:"DELETE"})}catch(a){console.warn("Audit logging failed:",a)}return{message:"Job deleted successfully"}}catch(r){throw console.error("Failed to delete job:",r),r}}async getJobAnalyticsWithFilters(t={}){try{console.log("Fetching job analytics with filters:",t);const{data:r,error:n}=await ee.rpc("get_job_analytics",{p_position_id:t.position_id||null,p_is_active:t.is_active||null,p_work_country:t.work_country||null,p_receiving_company_id:t.receiving_company_id||null});if(n)throw console.error("Job analytics fetch error:",n),n;return console.log("Job analytics fetched successfully:",r?.length||0),{data:r||[]}}catch(r){throw console.error("Failed to fetch job analytics:",r),r}}async createPosition(t){return{data:(await this.createJob(t)).job}}async updatePosition(t,r){return{data:(await this.updateJob(t,r)).job}}async deletePosition(t){return await this.deleteJob(t)}async getAuditLogs(t=10){try{const{data:r,error:n}=await ee.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(n)throw n;return{data:r||[]}}catch(r){return console.error("Get audit logs error:",r),{data:[]}}}async getJobAnalytics(){try{const{data:t,error:r}=await ee.from("job_analytics").select("*").order("snapshot_at",{ascending:!1});if(r)throw r;return{data:t||[]}}catch(t){return console.error("Get job analytics error:",t),{data:[]}}}async refreshJobAnalytics(){try{const{error:t}=await ee.rpc("refresh_materialized_view",{view_name:"job_analytics"});if(t)throw t;return{success:!0}}catch(t){throw console.error("Refresh job analytics error:",t),t}}async updateProfile(t,r){return{data:r}}async getLeads(){return{data:[]}}async createLead(t){return{data:t}}async updateLead(t,r){return{data:r}}async deleteLead(t){return{message:"Deleted"}}async convertLeadToCandidate(t,r){return{data:r}}async bulkUpdateCandidates(t){return{data:t}}async bulkDeleteRecords(t,r){return{message:"Deleted"}}}const Te=new Bc;function LU({className:e="w-80",placeholder:t="Search candidates, agents, employers..."}){const[r,n]=w.useState(""),[a,s]=w.useState([]),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(-1),h=Qh(),m=w.useRef(null),v=w.useRef(null),y=j=>{switch(j){case"candidate":return i.jsx(Ft,{className:"h-4 w-4 text-blue-600"});case"agent":return i.jsx(B0,{className:"h-4 w-4 text-green-600"});case"employer":return i.jsx(An,{className:"h-4 w-4 text-purple-600"});case"job":return i.jsx(LE,{className:"h-4 w-4 text-orange-600"});case"payment":return i.jsx(cr,{className:"h-4 w-4 text-emerald-600"});case"document":return i.jsx(qt,{className:"h-4 w-4 text-gray-600"});default:return i.jsx(Qa,{className:"h-4 w-4 text-gray-400"})}},p=j=>{switch(j){case"candidate":return"Candidate";case"agent":return"Agent";case"employer":return"Employer";case"job":return"Job Position";case"payment":return"Payment";case"document":return"Document";default:return"Unknown"}},b=async j=>{if(j.trim().length<2){s([]),l(!1);return}u(!0);try{const S=`%${j.toLowerCase()}%`,[N,k,A,O,P,T]=await Promise.all([ee.from("candidates").select("id, full_name, phone, email, passport_number, stage").or(`full_name.ilike.${S},phone.ilike.${S},email.ilike.${S},passport_number.ilike.${S}`).limit(5),ee.from("agents").select("id, agency_name, phone, email, agency_id").or(`agency_name.ilike.${S},phone.ilike.${S},email.ilike.${S},agency_id.ilike.${S}`).limit(5),ee.from("receiving_companies").select("id, company_name, phone, email, contact_person").or(`company_name.ilike.${S},phone.ilike.${S},email.ilike.${S},contact_person.ilike.${S}`).limit(5),ee.from("positions").select("id, job_title, description, country, salary_range").or(`job_title.ilike.${S},description.ilike.${S},country.ilike.${S}`).limit(5),ee.from("payments").select(`
            id, amount, currency, stage, reference_number,
            candidates!candidate_id(full_name)
          `).or(`stage.ilike.${S},reference_number.ilike.${S}`).limit(5),ee.from("documents").select(`
            id, doc_name, doc_type,
            candidates!candidate_id(full_name)
          `).or(`doc_name.ilike.${S},doc_type.ilike.${S}`).limit(5)]),z=[];N.data?.forEach(E=>{z.push({id:E.id,name:E.full_name,type:"candidate",details:`${E.stage}  ${E.phone||E.email||"No contact"}`,module:"Candidates",path:`/candidates?highlight=${E.id}`})}),k.data?.forEach(E=>{z.push({id:E.id,name:E.agency_name,type:"agent",details:`${E.agency_id}  ${E.phone||E.email||"No contact"}`,module:"Agents",path:`/agents?highlight=${E.id}`})}),A.data?.forEach(E=>{z.push({id:E.id,name:E.company_name,type:"employer",details:`${E.contact_person||"No contact person"}  ${E.phone||E.email||"No contact"}`,module:"Employers",path:`/employers?highlight=${E.id}`})}),O.data?.forEach(E=>{z.push({id:E.id,name:E.job_title,type:"job",details:`${E.country||"Location TBD"}  ${E.salary_range||"Salary negotiable"}`,module:"Jobs",path:`/jobs?highlight=${E.id}`})}),P.data?.forEach(E=>{z.push({id:E.id,name:`${E.currency} ${E.amount?.toLocaleString()||"0"}`,type:"payment",details:`${E.stage}  ${E.candidates?.full_name||"Unknown candidate"}`,module:"Financials",path:`/financials?highlight=${E.id}`})}),T.data?.forEach(E=>{z.push({id:E.id,name:E.doc_name,type:"document",details:`${E.doc_type}  ${E.candidates?.full_name||"Unknown candidate"}`,module:"Documents",path:`/documents?highlight=${E.id}`})}),s(z),l(!0),f(-1)}catch(S){console.error("Global search error:",S),s([])}finally{u(!1)}},g=j=>{l(!1),n(""),h(j.path)},x=j=>{if(!(!o||a.length===0))switch(j.key){case"ArrowDown":j.preventDefault(),f(S=>S<a.length-1?S+1:0);break;case"ArrowUp":j.preventDefault(),f(S=>S>0?S-1:a.length-1);break;case"Enter":j.preventDefault(),d>=0&&d<a.length&&g(a[d]);break;case"Escape":l(!1),f(-1),v.current?.blur();break}};w.useEffect(()=>{const j=setTimeout(()=>{b(r)},300);return()=>clearTimeout(j)},[r]),w.useEffect(()=>{const j=S=>{m.current&&!m.current.contains(S.target)&&(l(!1),f(-1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const _=a.reduce((j,S)=>{const N=S.module;return j[N]||(j[N]=[]),j[N].push(S),j},{});return i.jsxs("div",{ref:m,className:"relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{ref:v,type:"text",placeholder:t,value:r,onChange:j=>n(j.target.value),onFocus:()=>r&&l(!0),onKeyDown:x,className:`pl-10 pr-10 py-2 border border-input rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent bg-input ${e}`}),c&&i.jsx($e,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground animate-spin"})]}),o&&r&&i.jsx("div",{className:"absolute top-full left-0 right-0 bg-background border border-border rounded-lg shadow-lg mt-1 max-h-96 overflow-y-auto z-50",children:a.length>0?i.jsxs("div",{className:"p-2",children:[Object.entries(_).map(([j,S])=>i.jsxs("div",{className:"mb-3 last:mb-0",children:[i.jsxs("div",{className:"px-3 py-1 text-xs font-semibold text-muted-foreground uppercase tracking-wide border-b border-border/50 mb-1",children:[j," (",S.length,")"]}),S.map((N,k)=>{const O=a.findIndex(P=>P.id===N.id&&P.type===N.type)===d;return i.jsxs("div",{onClick:()=>g(N),className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${O?"bg-accent text-accent-foreground":"hover:bg-muted"}`,children:[i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:y(N.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:N.name}),i.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:[p(N.type),"  ",N.details]})]})]},`${N.type}-${N.id}`)})]},j)),a.length>=25&&i.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground text-center border-t border-border/50",children:"Showing first 25 results. Refine your search for more specific results."})]}):i.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[i.jsx(Qa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:['No results found for "',r,'"']}),i.jsx("p",{className:"text-xs mt-1",children:"Try searching for names, phone numbers, or IDs"})]})})]})}function fe({className:e,type:t,...r}){return i.jsx("input",{type:t,"data-slot":"input",className:je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var FU="Label",wA=w.forwardRef((e,t)=>i.jsx(Ee.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wA.displayName=FU;var UU=wA;function re({className:e,...t}){return i.jsx(UU,{"data-slot":"label",className:je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function ie({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Ne({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:je("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function _e({className:e,...t}){return i.jsx("h4",{"data-slot":"card-title",className:je("leading-none",e),...t})}function Fe({className:e,...t}){return i.jsx("p",{"data-slot":"card-description",className:je("text-muted-foreground",e),...t})}function se({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:je("px-6 [&:last-child]:pb-6",e),...t})}const BU=$0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function zU({className:e,variant:t,...r}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:je(BU({variant:t}),e),...r})}function WU({className:e,...t}){return i.jsx("div",{"data-slot":"alert-description",className:je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function VU(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let qv=1;class qU{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,s=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:qv++,o=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],L.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(GU(u)&&!u.ok){s=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof f=="object"&&!L.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...v})}else if(u instanceof Error){s=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!L.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...v})}else if(r.success!==void 0){s=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!L.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...v})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!L.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=r?.id||qv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ur=new qU,HU=(e,t)=>{const r=t?.id||qv++;return Ur.addToast({title:e,...t,id:r}),r},GU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KU=HU,XU=()=>Ur.toasts,YU=()=>Ur.getActiveToasts(),me=Object.assign(KU,{success:Ur.success,info:Ur.info,warning:Ur.warning,error:Ur.error,custom:Ur.custom,message:Ur.message,promise:Ur.promise,dismiss:Ur.dismiss,loading:Ur.loading},{getHistory:XU,getToasts:YU});VU("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const JU=()=>{const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(""),d=Qh();w.useEffect(()=>{(async()=>{const{data:{session:v}}=await ee.auth.getSession();v&&d("/dashboard")})()},[d]);const f=async m=>{m.preventDefault(),l(!0),u("");try{const{data:v,error:y}=await ee.auth.signInWithPassword({email:e,password:r});if(y){u(y.message);return}if(v.user){const{data:p,error:b}=await ee.from("profiles").select("*").eq("id",v.user.id).single();b&&console.error("Profile fetch error:",b),me.success(`Welcome back, ${p?.full_name||e}!`),d("/dashboard")}}catch(v){u(v.message||"An unexpected error occurred")}finally{l(!1)}},h=async()=>{if(!e){u("Please enter your email address first");return}try{const{error:m}=await ee.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});m?u(m.message):me.success("Password reset email sent! Check your inbox.")}catch(m){u(m.message||"Failed to send reset email")}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[i.jsxs("div",{className:"hidden lg:block space-y-8",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-blue-600 p-3 rounded-xl",children:i.jsx(An,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recruitment Management"}),i.jsx("p",{className:"text-gray-600",children:"Professional recruitment made simple"})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Ft,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Candidate Management"}),i.jsx("p",{className:"text-gray-600",children:"Track candidates through every stage of the recruitment process"})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(An,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Agency Network"}),i.jsx("p",{className:"text-gray-600",children:"Manage recruitment agencies and track performance"})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(C5,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Global Reach"}),i.jsx("p",{className:"text-gray-600",children:"Connect employers worldwide with qualified candidates"})]})]})]}),i.jsx("div",{className:"bg-gray-50 p-6 rounded-xl",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"500+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active Candidates"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"50+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Partner Agencies"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"25+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Countries"})]})]})})]}),i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs(ie,{className:"shadow-xl border-0",children:[i.jsxs(Ne,{className:"space-y-1 text-center",children:[i.jsx(_e,{className:"text-2xl font-bold",children:"Welcome Back"}),i.jsx(Fe,{children:"Sign in to your recruitment management account"})]}),i.jsxs(se,{children:[i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c&&i.jsx(zU,{variant:"destructive",children:i.jsx(WU,{children:c})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"email",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(fe,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:m=>t(m.target.value),className:"pl-10",required:!0,disabled:o})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(D5,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(fe,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r,onChange:m=>n(m.target.value),className:"pl-10 pr-10",required:!0,disabled:o}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",disabled:o,children:a?i.jsx(b5,{className:"h-4 w-4"}):i.jsx(Ln,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("button",{type:"button",onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",disabled:o,children:"Forgot password?"})}),i.jsx(K,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign In"})]}),i.jsxs("div",{className:"mt-6 text-center",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Demo Accounts Available"}),i.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-500",children:[i.jsx("p",{children:"Admin: jayssemujju@gmail.com"}),i.jsx("p",{children:"Password: Contact administrator"})]})]})]})]}),i.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[i.jsx("p",{children:" 2024 Recruitment Management System"}),i.jsx("p",{children:"Secure  Reliable  Professional"})]})]})]})})},QU=({children:e})=>{const[t,r]=w.useState(!0),[n,a]=w.useState(!1);return w.useEffect(()=>{(async()=>{try{const{data:{session:l}}=await ee.auth.getSession();a(!!l)}catch(l){console.error("Auth check error:",l),a(!1)}finally{r(!1)}})();const{data:{subscription:o}}=ee.auth.onAuthStateChange((l,c)=>{a(!!c),r(!1)});return()=>o.unsubscribe()},[]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?i.jsx(i.Fragment,{children:e}):i.jsx(yE,{to:"/login",replace:!0})},_A=w.createContext(void 0),ZU=()=>{const e=w.useContext(_A);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},eB=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[s,o]=w.useState(!0);w.useEffect(()=>{(async()=>{const{data:{session:f}}=await ee.auth.getSession();a(f),r(f?.user??null),o(!1)})();const{data:{subscription:d}}=ee.auth.onAuthStateChange(async(f,h)=>{a(h),r(h?.user??null),o(!1)});return()=>d.unsubscribe()},[]);const c={user:t,session:n,loading:s,signOut:async()=>{await ee.auth.signOut()}};return i.jsx(_A.Provider,{value:c,children:e})};function Re(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function jA(e){const t=e+"CollectionProvider",[r,n]=xn(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:p,children:b}=y,g=L.useRef(null),x=L.useRef(new Map).current;return i.jsx(a,{scope:p,itemMap:x,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=bo(l),u=L.forwardRef((y,p)=>{const{scope:b,children:g}=y,x=s(l,b),_=Xe(p,x.collectionRef);return i.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=bo(d),m=L.forwardRef((y,p)=>{const{scope:b,children:g,...x}=y,_=L.useRef(null),j=Xe(p,_),S=s(d,b);return L.useEffect(()=>(S.itemMap.set(_,{ref:_,...x}),()=>void S.itemMap.delete(_))),i.jsx(h,{[f]:"",ref:j,children:g})});m.displayName=d;function v(y){const p=s(e+"CollectionConsumer",y);return L.useCallback(()=>{const g=p.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((S,N)=>x.indexOf(S.ref.current)-x.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var tB=Lx[" useId ".trim().toString()]||(()=>{}),rB=0;function Za(e){const[t,r]=w.useState(tB());return Tt(()=>{r(n=>n??String(rB++))},[e]),e||(t?`radix-${t}`:"")}var nB=Lx[" useInsertionEffect ".trim().toString()]||Tt;function Zi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=aB({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{if(l){const f=iB(d)?d(e):d;f!==e&&o.current?.(f)}else s(d)},[l,e,s,o]);return[c,u]}function aB({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),s=w.useRef(t);return nB(()=>{s.current=t},[t]),w.useEffect(()=>{a.current!==r&&(s.current?.(r),a.current=r)},[r,a]),[r,n,s]}function iB(e){return typeof e=="function"}var sB=w.createContext(void 0);function G0(e){const t=w.useContext(sB);return e||t||"ltr"}var Ym="rovingFocusGroup.onEntryFocus",oB={bubbles:!1,cancelable:!0},Ru="RovingFocusGroup",[Hv,SA,lB]=jA(Ru),[cB,NA]=xn(Ru,[lB]),[uB,dB]=cB(Ru),kA=w.forwardRef((e,t)=>i.jsx(Hv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Hv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(fB,{...e,ref:t})})}));kA.displayName=Ru;var fB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=Xe(t,h),v=G0(s),[y,p]=Zi({prop:o,defaultProp:l??null,onChange:c,caller:Ru}),[b,g]=w.useState(!1),x=da(u),_=SA(r),j=w.useRef(!1),[S,N]=w.useState(0);return w.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Ym,x),()=>k.removeEventListener(Ym,x)},[x]),i.jsx(uB,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:y,onItemFocus:w.useCallback(k=>p(k),[p]),onItemShiftTab:w.useCallback(()=>g(!0),[]),onFocusableItemAdd:w.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:w.useCallback(()=>N(k=>k-1),[]),children:i.jsx(Ee.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{j.current=!0}),onFocus:Re(e.onFocus,k=>{const A=!j.current;if(k.target===k.currentTarget&&A&&!b){const O=new CustomEvent(Ym,oB);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=_().filter(D=>D.focusable),T=P.find(D=>D.active),z=P.find(D=>D.id===y),R=[T,z,...P].filter(Boolean).map(D=>D.ref.current);AA(R,d)}}j.current=!1}),onBlur:Re(e.onBlur,()=>g(!1))})})}),CA="RovingFocusGroupItem",EA=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=Za(),u=s||c,d=dB(CA,r),f=d.currentTabStopId===u,h=SA(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:y}=d;return w.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),i.jsx(Hv.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(Ee.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Re(e.onMouseDown,p=>{n?d.onItemFocus(u):p.preventDefault()}),onFocus:Re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Re(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=mB(p,d.orientation,d.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const _=x.indexOf(p.currentTarget);x=d.loop?gB(x,_+1):x.slice(_+1)}setTimeout(()=>AA(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});EA.displayName=CA;var hB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mB(e,t,r){const n=pB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hB[n]}function AA(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vB=kA,yB=EA;function xB(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var al=e=>{const{present:t,children:r}=e,n=bB(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=Xe(n.ref,wB(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:s}):null};al.displayName="Presence";function bB(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=pd(n.current);s.current=l==="mounted"?u:"none"},[l]),Tt(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=pd(u);e?c("MOUNT"):m==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Tt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=pd(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(s.current=pd(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function pd(e){return e?.animationName||"none"}function wB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sp="Tabs",[_B,Zve]=xn(sp,[NA]),PA=NA(),[jB,K0]=_B(sp),OA=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=G0(l),[f,h]=Zi({prop:n,onChange:a,defaultProp:s??"",caller:sp});return i.jsx(jB,{scope:r,baseId:Za(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Ee.div,{dir:d,"data-orientation":o,...u,ref:t})})});OA.displayName=sp;var TA="TabsList",$A=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=K0(TA,r),o=PA(r);return i.jsx(vB,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(Ee.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});$A.displayName=TA;var RA="TabsTrigger",MA=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=K0(RA,r),l=PA(r),c=LA(o.baseId,n),u=FA(o.baseId,n),d=n===o.value;return i.jsx(yB,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(Ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Re(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Re(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});MA.displayName=RA;var IA="TabsContent",DA=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=K0(IA,r),c=LA(l.baseId,n),u=FA(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(al,{present:a||d,children:({present:h})=>i.jsx(Ee.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});DA.displayName=IA;function LA(e,t){return`${e}-trigger-${t}`}function FA(e,t){return`${e}-content-${t}`}var SB=OA,NB=$A,kB=MA,CB=DA;function il({className:e,...t}){return i.jsx(SB,{"data-slot":"tabs",className:je("flex flex-col gap-2",e),...t})}function sl({className:e,...t}){return i.jsx(NB,{"data-slot":"tabs-list",className:je("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function xt({className:e,...t}){return i.jsx(kB,{"data-slot":"tabs-trigger",className:je("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function bt({className:e,...t}){return i.jsx(CB,{"data-slot":"tabs-content",className:je("flex-1 outline-none",e),...t})}const EB=$0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,asChild:r=!1,...n}){const a=r?wE:"span";return i.jsx(a,{"data-slot":"badge",className:je(EB({variant:t}),e),...n})}var X0="Progress",Y0=100,[AB,eye]=xn(X0),[PB,OB]=AB(X0),UA=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=TB,...o}=e;(a||a===0)&&!xj(a)&&console.error($B(`${a}`,"Progress"));const l=xj(a)?a:Y0;n!==null&&!bj(n,l)&&console.error(RB(`${n}`,"Progress"));const c=bj(n,l)?n:null,u=Af(c)?s(c,l):void 0;return i.jsx(PB,{scope:r,value:c,max:l,children:i.jsx(Ee.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Af(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WA(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});UA.displayName=X0;var BA="ProgressIndicator",zA=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=OB(BA,r);return i.jsx(Ee.div,{"data-state":WA(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});zA.displayName=BA;function TB(e,t){return`${Math.round(e/t*100)}%`}function WA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Af(e){return typeof e=="number"}function xj(e){return Af(e)&&!isNaN(e)&&e>0}function bj(e,t){return Af(e)&&!isNaN(e)&&e<=t&&e>=0}function $B(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y0}\`.`}function RB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MB=UA,IB=zA;function uc({className:e,value:t,...r}){return i.jsx(MB,{"data-slot":"progress",className:je("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:i.jsx(IB,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const DB=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(null),[a,s]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(null);w.useEffect(()=>{f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]);const d=()=>{if(!r?.total_revenue_this_month)return"No data";const p=parseFloat(r.total_revenue_this_month)||0,b=p*.85;if(b===0)return"New data";const g=(p-b)/b*100,x=g>=0;return i.jsxs("span",{className:x?"text-green-600":"text-red-600",children:[x?"+":"",g.toFixed(1),"% growth"]})},f=async()=>{try{s(!0),l(null);const[p,b,g,x]=await Promise.all([Te.getDashboard(),Te.getDashboardKPIs(),Te.getCandidates(),Te.getAuditLogs(10)]),_=g.candidates||[],j=_.length,S={passport:0,interview:0,medical:0,visa:0,travel:0,deployed:0,completed:0,rejected:0,cancelled:0};_.forEach(P=>{const T=P.stage||"passport";console.log("Candidate stage:",T,"Candidate:",P.full_name||P.name),S.hasOwnProperty(T)?S[T]++:console.log("Unknown stage found:",T)}),console.log("Stage counts:",S),console.log("Total candidates:",j);const N=Object.entries(S).filter(([P,T])=>T>0).map(([P,T])=>({name:P.charAt(0).toUpperCase()+P.slice(1)+" Stage",count:T,percentage:j>0?Math.round(T/j*100):0}));console.log("Process stages:",N);const A=(x.data||[]).map((P,T)=>{const E={CREATE:{candidates:"New candidate registered for recruitment program",agents:"New agent registered in the system",receiving_companies:"New employer company added",documents:"Document uploaded for verification",payments:"Payment record created"},UPDATE:{candidates:"Candidate information updated",agents:"Agent profile updated",receiving_companies:"Employer information updated",documents:"Document verification status changed",payments:"Payment record updated"},DELETE:{candidates:"Candidate record removed",agents:"Agent removed from system",receiving_companies:"Employer removed",documents:"Document deleted",payments:"Payment record deleted"}}[P.action]?.[P.table_name]||`${P.action} operation on ${P.table_name}`,R=m(new Date(P.created_at));return{id:P.id||`activity-${T}`,message:E,time:R,status:P.action==="CREATE"?"success":P.action==="UPDATE"?"info":"warning"}}),O={...p,processStages:N,recentActivities:A};t(O),n(b.kpis),u(new Date)}catch(p){console.error("Failed to fetch dashboard data:",p),l("Failed to load dashboard data")}finally{s(!1)}},h=p=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(p),m=p=>{const g=new Date().getTime()-p.getTime(),x=Math.floor(g/(1e3*60)),_=Math.floor(x/60),j=Math.floor(_/24);return x<1?"Just now":x<60?`${x} minute${x>1?"s":""} ago`:_<24?`${_} hour${_>1?"s":""} ago`:j<7?`${j} day${j>1?"s":""} ago`:p.toLocaleDateString()},v=p=>{const b={success:"text-green-600 bg-green-50 border-green-200",pending:"text-orange-600 bg-orange-50 border-orange-200",info:"text-blue-600 bg-blue-50 border-blue-200",danger:"text-red-600 bg-red-50 border-red-200",warning:"text-orange-600 bg-orange-50 border-orange-200"};return b[p]||b.info},y=p=>{const g={warning:Kd,info:Gs,success:gr,danger:Kd}[p]||Gs;return i.jsx(g,{className:"h-4 w-4"})};return a&&!e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Real-time business overview and key metrics"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($e,{className:"h-5 w-5 animate-spin text-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((p,b)=>i.jsx(ie,{className:"animate-pulse",children:i.jsx(se,{className:"p-6",children:i.jsx("div",{className:"h-20 bg-muted rounded"})})},b))})]}):o?i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{className:"border-destructive",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kd,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{className:"text-destructive",children:o})]}),i.jsx(K,{onClick:f,variant:"outline",children:"Retry"})]})})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Real-time business overview and key metrics"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[c&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",c.toLocaleTimeString()]}),i.jsxs(K,{onClick:f,variant:"outline",size:"sm",children:[i.jsx($e,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Candidates"}),i.jsx("p",{className:"text-2xl font-semibold",children:r?.total_candidates||e?.stats?.totalCandidates||0}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[i.jsx(Ar,{className:"h-3 w-3 mr-1"}),r?.active_candidates||0," active"]})]}),i.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:i.jsx(Ft,{className:"h-5 w-5 text-blue-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Employers"}),i.jsx("p",{className:"text-2xl font-semibold",children:r?.totalEmployers||0}),i.jsxs("p",{className:`text-sm flex items-center mt-1 ${parseFloat(r?.employerGrowth||"0")>=0?"text-green-600":"text-red-600"}`,children:[i.jsx(YE,{className:"h-3 w-3 mr-1"}),parseFloat(r?.employerGrowth||"0")>=0?"+":"",r?.employerGrowth||"0","% vs last month"]})]}),i.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:i.jsx(B0,{className:"h-5 w-5 text-green-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"}),i.jsx("p",{className:"text-2xl font-semibold",children:r?.active_agents||e?.stats?.totalAgents||0}),i.jsxs("p",{className:"text-sm text-blue-600 flex items-center mt-1",children:[i.jsx(D3,{className:"h-3 w-3 mr-1"}),"All regions"]})]}),i.jsx("div",{className:"bg-purple-50 p-2 rounded-lg",children:i.jsx(An,{className:"h-5 w-5 text-purple-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),i.jsx("p",{className:"text-2xl font-semibold",children:h(r?.total_revenue_this_month||e?.stats?.monthlyRevenue||0)}),i.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[i.jsx(Ar,{className:"h-3 w-3 mr-1"}),d()]})]}),i.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:i.jsx(cr,{className:"h-5 w-5 text-orange-600"})})]})})})]}),r?.alerts&&r.alerts.length>0&&i.jsxs(ie,{className:"border-l-4 border-l-orange-500",children:[i.jsx(Ne,{className:"pb-3",children:i.jsxs(_e,{className:"flex items-center text-lg",children:[i.jsx(Gs,{className:"h-5 w-5 mr-2 text-orange-600"}),"System Alerts (",r.alerts.length,")"]})}),i.jsx(se,{children:i.jsx("div",{className:"space-y-3",children:r.alerts.map(p=>i.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border ${v(p.type)}`,children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:y(p.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium",children:p.message}),i.jsxs(Ce,{variant:"outline",className:"mt-1 text-xs",children:[p.priority," priority"]})]})]},p.id))})})]}),i.jsxs(il,{defaultValue:"overview",className:"space-y-6",children:[i.jsxs(sl,{className:"bg-muted p-1 h-12 rounded-lg",children:[i.jsx(xt,{value:"overview",className:"px-6 py-2 rounded-md",children:"Process Overview"}),i.jsx(xt,{value:"performance",className:"px-6 py-2 rounded-md",children:"Performance"}),i.jsx(xt,{value:"activities",className:"px-6 py-2 rounded-md",children:"Recent Activities"}),i.jsx(xt,{value:"financials",className:"px-6 py-2 rounded-md",children:"Financial Overview"})]}),i.jsx(bt,{value:"overview",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Recruitment Process Stages"}),i.jsx(Fe,{children:"Current candidate distribution across process stages"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:e?.processStages?.map((p,b)=>i.jsx("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:p.name}),i.jsxs("span",{className:"text-sm font-medium",children:[p.count," candidates"]})]}),i.jsx(uc,{value:p.percentage,className:"h-2"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[p.percentage,"% of pipeline"]})]})},b))||i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No process stage data available"})})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsx(_e,{children:"Quick Actions"})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs(K,{className:"w-full justify-between",variant:"outline",onClick:()=>{window.location.href="/candidates",setTimeout(()=>{const p=document.querySelector('[data-action="add-candidate"]');p&&p.click()},500)},children:["Add New Candidate",i.jsx(Kl,{className:"h-4 w-4"})]}),i.jsxs(K,{className:"w-full justify-between",variant:"outline",onClick:()=>{window.location.href="/financials",setTimeout(()=>{const p=document.querySelector('[data-action="add-financial"]');p&&p.click()},500)},children:["Process Payments",i.jsx(Kl,{className:"h-4 w-4"})]}),i.jsxs(K,{className:"w-full justify-between",variant:"outline",onClick:()=>{window.location.href="/reports",setTimeout(()=>{const p=document.querySelector('[data-section="generate-reports"]');p&&p.scrollIntoView({behavior:"smooth"})},500)},children:["Generate Reports",i.jsx(Kl,{className:"h-4 w-4"})]}),i.jsxs(K,{className:"w-full justify-between",variant:"outline",onClick:()=>{window.location.href="/documents",setTimeout(()=>{const p=document.querySelector('[data-action="upload-document"]');p&&p.click()},500)},children:["Manage Documents",i.jsx(Kl,{className:"h-4 w-4"})]})]})]}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsx(_e,{children:"Key Metrics"})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),i.jsxs("span",{className:"font-medium",children:[e?.reports&&Array.isArray(e.reports)&&e.reports[0]?.pipeline_health?.conversion_rate||0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Processing"}),i.jsx("span",{className:"font-medium",children:e?.reports&&Array.isArray(e.reports)&&e.reports[0]?.pipeline_health?.average_processing_time||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending Payments"}),i.jsx("span",{className:"font-medium",children:h(r?.pending_payments||0)})]})]})]})]})]})}),i.jsx(bt,{value:"performance",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Monthly Performance"}),i.jsx(Fe,{children:"Key metrics for this month"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-green-900",children:"Successful Placements"}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:r?.deployed_this_month||0})]}),i.jsx(gr,{className:"h-8 w-8 text-green-600"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Active Candidates"}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r?.active_candidates||0})]}),i.jsx(Ft,{className:"h-8 w-8 text-blue-600"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-orange-900",children:"Pending Payments"}),i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:h(r?.pending_payments||0)})]}),i.jsx(cr,{className:"h-8 w-8 text-orange-600"})]})]})})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Agent Performance"}),i.jsx(Fe,{children:"Top performing agents this month"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-3",children:(e?.reports&&Array.isArray(e.reports)&&e.reports[0]?.agent_performance?e.reports[0].agent_performance.slice(0,5):[]).map((p,b)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold ${b===0?"bg-yellow-500":b===1?"bg-gray-400":b===2?"bg-amber-600":"bg-blue-500"}`,children:b+1}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:p.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[p.placements," placements"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-medium text-green-600",children:h(p.earnings)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"earned"})]})]},b))||i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No agent performance data available"})})})]})]})}),i.jsx(bt,{value:"financials",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Revenue Breakdown"}),i.jsx(Fe,{children:"Monthly revenue analysis"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Service Fees"}),i.jsx("span",{className:"text-sm font-medium",children:h(12e5)})]}),i.jsx(uc,{value:25,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Employer Fees"}),i.jsx("span",{className:"text-sm font-medium",children:h((r?.total_revenue_this_month||0)*.75)})]}),i.jsx(uc,{value:75,className:"h-2"})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"Total Revenue"}),i.jsx("span",{className:"text-lg font-bold text-green-600",children:h(r?.total_revenue_this_month||0)})]})})]})})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Financial Summary"}),i.jsx(Fe,{children:"Current financial status"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-green-700",children:"Total Revenue"}),i.jsx("div",{className:"font-medium",children:h(r?.total_revenue_this_month||0)})]}),i.jsx(Ar,{className:"h-5 w-5 text-green-600"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-orange-700",children:"Pending Payments"}),i.jsx("div",{className:"font-medium",children:h(r?.pending_payments||0)})]}),i.jsx(Qi,{className:"h-5 w-5 text-orange-600"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-blue-700",children:"Service Fees Collected"}),i.jsx("div",{className:"font-medium",children:h(12e5)})]}),i.jsx(Dc,{className:"h-5 w-5 text-blue-600"})]})]})})]})]})}),i.jsx(bt,{value:"activities",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Recent Activities"}),i.jsx(Fe,{children:"Latest system activities and updates"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:e?.recentActivities?.map(p=>i.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border ${v(p.status)}`,children:[i.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[p.status==="success"&&i.jsx(gr,{className:"h-4 w-4"}),p.status==="pending"&&i.jsx(Qi,{className:"h-4 w-4"}),p.status==="info"&&i.jsx(Gs,{className:"h-4 w-4"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium",children:p.message}),i.jsx("div",{className:"text-xs opacity-75 mt-1",children:p.time})]})]},p.id))||i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activities"})})})]})})]})]})};function wj(e,[t,r]){return Math.min(r,Math.max(t,e))}function LB(e,t=globalThis?.document){const r=da(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var FB="DismissableLayer",Gv="dismissableLayer.update",UB="dismissableLayer.pointerDownOutside",BB="dismissableLayer.focusOutside",_j,VA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J0=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(VA),[d,f]=w.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=w.useState({}),v=Xe(t,N=>f(N)),y=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(p),g=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=b,j=VB(N=>{const k=N.target,A=[...u.branches].some(O=>O.contains(k));!_||A||(a?.(N),o?.(N),N.defaultPrevented||l?.())},h),S=qB(N=>{const k=N.target;[...u.branches].some(O=>O.contains(k))||(s?.(N),o?.(N),N.defaultPrevented||l?.())},h);return LB(N=>{g===u.layers.size-1&&(n?.(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_j=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jj(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_j)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jj())},[d,u]),w.useEffect(()=>{const N=()=>m({});return document.addEventListener(Gv,N),()=>document.removeEventListener(Gv,N)},[]),i.jsx(Ee.div,{...c,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,j.onPointerDownCapture)})});J0.displayName=FB;var zB="DismissableLayerBranch",WB=w.forwardRef((e,t)=>{const r=w.useContext(VA),n=w.useRef(null),a=Xe(t,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Ee.div,{...e,ref:a})});WB.displayName=zB;function VB(e,t=globalThis?.document){const r=da(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){qA(UB,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qB(e,t=globalThis?.document){const r=da(e),n=w.useRef(!1);return w.useEffect(()=>{const a=s=>{s.target&&!n.current&&qA(BB,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jj(){const e=new CustomEvent(Gv);document.dispatchEvent(e)}function qA(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?u3(a,s):a.dispatchEvent(s)}var Jm=0;function HA(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sj()),document.body.insertAdjacentElement("beforeend",e[1]??Sj()),Jm++,()=>{Jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jm--}},[])}function Sj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qm="focusScope.autoFocusOnMount",Zm="focusScope.autoFocusOnUnmount",Nj={bubbles:!1,cancelable:!0},HB="FocusScope",Q0=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=w.useState(null),u=da(a),d=da(s),f=w.useRef(null),h=Xe(t,y=>c(y)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let y=function(x){if(m.paused||!l)return;const _=x.target;l.contains(_)?f.current=_:Aa(f.current,{select:!0})},p=function(x){if(m.paused||!l)return;const _=x.relatedTarget;_!==null&&(l.contains(_)||Aa(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&Aa(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",p);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",p),g.disconnect()}}},[n,l,m.paused]),w.useEffect(()=>{if(l){Cj.add(m);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(Qm,Nj);l.addEventListener(Qm,u),l.dispatchEvent(b),b.defaultPrevented||(GB(QB(GA(l)),{select:!0}),document.activeElement===y&&Aa(l))}return()=>{l.removeEventListener(Qm,u),setTimeout(()=>{const b=new CustomEvent(Zm,Nj);l.addEventListener(Zm,d),l.dispatchEvent(b),b.defaultPrevented||Aa(y??document.body,{select:!0}),l.removeEventListener(Zm,d),Cj.remove(m)},0)}}},[l,u,d,m]);const v=w.useCallback(y=>{if(!r&&!n||m.paused)return;const p=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(p&&b){const g=y.currentTarget,[x,_]=KB(g);x&&_?!y.shiftKey&&b===_?(y.preventDefault(),r&&Aa(x,{select:!0})):y.shiftKey&&b===x&&(y.preventDefault(),r&&Aa(_,{select:!0})):b===g&&y.preventDefault()}},[r,n,m.paused]);return i.jsx(Ee.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Q0.displayName=HB;function GB(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Aa(n,{select:t}),document.activeElement!==r)return}function KB(e){const t=GA(e),r=kj(t,e),n=kj(t.reverse(),e);return[r,n]}function GA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kj(e,t){for(const r of e)if(!XB(r,{upTo:t}))return r}function XB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function YB(e){return e instanceof HTMLInputElement&&"select"in e}function Aa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&YB(e)&&t&&e.select()}}var Cj=JB();function JB(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Ej(e,t),e.unshift(t)},remove(t){e=Ej(e,t),e[0]?.resume()}}}function Ej(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function QB(e){return e.filter(t=>t.tagName!=="A")}const ZB=["top","right","bottom","left"],si=Math.min,kr=Math.max,Pf=Math.round,md=Math.floor,Rn=e=>({x:e,y:e}),ez={left:"right",right:"left",bottom:"top",top:"bottom"},tz={start:"end",end:"start"};function Kv(e,t,r){return kr(e,si(t,r))}function fa(e,t){return typeof e=="function"?e(t):e}function ha(e){return e.split("-")[0]}function ol(e){return e.split("-")[1]}function Z0(e){return e==="x"?"y":"x"}function eb(e){return e==="y"?"height":"width"}const rz=new Set(["top","bottom"]);function Pn(e){return rz.has(ha(e))?"y":"x"}function tb(e){return Z0(Pn(e))}function nz(e,t,r){r===void 0&&(r=!1);const n=ol(e),a=tb(e),s=eb(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Of(o)),[o,Of(o)]}function az(e){const t=Of(e);return[Xv(e),t,Xv(t)]}function Xv(e){return e.replace(/start|end/g,t=>tz[t])}const Aj=["left","right"],Pj=["right","left"],iz=["top","bottom"],sz=["bottom","top"];function oz(e,t,r){switch(e){case"top":case"bottom":return r?t?Pj:Aj:t?Aj:Pj;case"left":case"right":return t?iz:sz;default:return[]}}function lz(e,t,r,n){const a=ol(e);let s=oz(ha(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(Xv)))),s}function Of(e){return e.replace(/left|right|bottom|top/g,t=>ez[t])}function cz(e){return{top:0,right:0,bottom:0,left:0,...e}}function KA(e){return typeof e!="number"?cz(e):{top:e,right:e,bottom:e,left:e}}function Tf(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Oj(e,t,r){let{reference:n,floating:a}=e;const s=Pn(t),o=tb(t),l=eb(o),c=ha(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ol(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const uz=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Oj(u,n,c),h=n,m={},v=0;for(let y=0;y<l.length;y++){const{name:p,fn:b}=l[y],{x:g,y:x,data:_,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=x??f,m={...m,[p]:{...m[p],..._}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=Oj(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function zc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fa(t,e),v=KA(m),p=l[h?f==="floating"?"reference":"floating":f],b=Tf(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(p)))==null||r?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},j=Tf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(b.top-j.top+v.top)/_.y,bottom:(j.bottom-b.bottom+v.bottom)/_.y,left:(b.left-j.left+v.left)/_.x,right:(j.right-b.right+v.right)/_.x}}const dz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fa(e,t)||{};if(u==null)return{};const f=KA(d),h={x:r,y:n},m=tb(a),v=eb(m),y=await o.getDimensions(u),p=m==="y",b=p?"top":"left",g=p?"bottom":"right",x=p?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[m]-h[m]-s.floating[v],j=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[x]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[x]||s.floating[v]);const k=_/2-j/2,A=N/2-y[v]/2-1,O=si(f[b],A),P=si(f[g],A),T=O,z=N-y[v]-P,E=N/2-y[v]/2+k,R=Kv(T,E,z),D=!c.arrow&&ol(a)!=null&&E!==R&&s.reference[v]/2-(E<T?O:P)-y[v]/2<0,$=D?E<T?E-T:E-z:0;return{[m]:h[m]+$,data:{[m]:R,centerOffset:E-R-$,...D&&{alignmentOffset:$}},reset:D}}}),fz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...p}=fa(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=ha(a),g=Pn(l),x=ha(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(x||!y?[Of(l)]:az(l)),S=v!=="none";!h&&S&&j.push(...lz(l,y,v,_));const N=[l,...j],k=await zc(t,p),A=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&A.push(k[b]),f){const E=nz(a,o,_);A.push(k[E[0]],k[E[1]])}if(O=[...O,{placement:a,overflows:A}],!A.every(E=>E<=0)){var P,T;const E=(((P=s.flip)==null?void 0:P.index)||0)+1,R=N[E];if(R&&(!(f==="alignment"?g!==Pn(R):!1)||O.every(C=>Pn(C.placement)===g?C.overflows[0]>0:!0)))return{data:{index:E,overflows:O},reset:{placement:R}};let D=(T=O.filter($=>$.overflows[0]<=0).sort(($,C)=>$.overflows[1]-C.overflows[1])[0])==null?void 0:T.placement;if(!D)switch(m){case"bestFit":{var z;const $=(z=O.filter(C=>{if(S){const M=Pn(C.placement);return M===g||M==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(M=>M>0).reduce((M,q)=>M+q,0)]).sort((C,M)=>C[1]-M[1])[0])==null?void 0:z[0];$&&(D=$);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function Tj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $j(e){return ZB.some(t=>e[t]>=0)}const hz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=fa(e,t);switch(n){case"referenceHidden":{const s=await zc(t,{...a,elementContext:"reference"}),o=Tj(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$j(o)}}}case"escaped":{const s=await zc(t,{...a,altBoundary:!0}),o=Tj(s,r.floating);return{data:{escapedOffsets:o,escaped:$j(o)}}}default:return{}}}}},XA=new Set(["left","top"]);async function pz(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ha(r),l=ol(r),c=Pn(r)==="y",u=XA.has(o)?-1:1,d=s&&c?-1:1,f=fa(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const mz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await pz(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},gz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:b,y:g}=p;return{x:b,y:g}}},...c}=fa(e,t),u={x:r,y:n},d=await zc(t,c),f=Pn(ha(a)),h=Z0(f);let m=u[h],v=u[f];if(s){const p=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=m+d[p],x=m-d[b];m=Kv(g,m,x)}if(o){const p=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=v+d[p],x=v-d[b];v=Kv(g,v,x)}const y=l.fn({...t,[h]:m,[f]:v});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[h]:s,[f]:o}}}}}},vz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fa(e,t),d={x:r,y:n},f=Pn(a),h=Z0(f);let m=d[h],v=d[f];const y=fa(l,t),p=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=h==="y"?"height":"width",_=s.reference[h]-s.floating[x]+p.mainAxis,j=s.reference[h]+s.reference[x]-p.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,g;const x=h==="y"?"width":"height",_=XA.has(ha(a)),j=s.reference[f]-s.floating[x]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:p.crossAxis),S=s.reference[f]+s.reference[x]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?p.crossAxis:0);v<j?v=j:v>S&&(v=S)}return{[h]:m,[f]:v}}}},yz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=fa(e,t),d=await zc(t,u),f=ha(a),h=ol(a),m=Pn(a)==="y",{width:v,height:y}=s.floating;let p,b;f==="top"||f==="bottom"?(p=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,p=h==="end"?"top":"bottom");const g=y-d.top-d.bottom,x=v-d.left-d.right,_=si(y-d[p],g),j=si(v-d[b],x),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=g),S&&!h){const O=kr(d.left,0),P=kr(d.right,0),T=kr(d.top,0),z=kr(d.bottom,0);m?k=v-2*(O!==0||P!==0?O+P:kr(d.left,d.right)):N=y-2*(T!==0||z!==0?T+z:kr(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const A=await o.getDimensions(l.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function op(){return typeof window<"u"}function ll(e){return YA(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bn(e){var t;return(t=(YA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YA(e){return op()?e instanceof Node||e instanceof Tr(e).Node:!1}function vn(e){return op()?e instanceof Element||e instanceof Tr(e).Element:!1}function Fn(e){return op()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function Rj(e){return!op()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}const xz=new Set(["inline","contents"]);function Mu(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xz.has(a)}const bz=new Set(["table","td","th"]);function wz(e){return bz.has(ll(e))}const _z=[":popover-open",":modal"];function lp(e){return _z.some(t=>{try{return e.matches(t)}catch{return!1}})}const jz=["transform","translate","scale","rotate","perspective"],Sz=["transform","translate","scale","rotate","perspective","filter"],Nz=["paint","layout","strict","content"];function rb(e){const t=nb(),r=vn(e)?yn(e):e;return jz.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Sz.some(n=>(r.willChange||"").includes(n))||Nz.some(n=>(r.contain||"").includes(n))}function kz(e){let t=oi(e);for(;Fn(t)&&!jo(t);){if(rb(t))return t;if(lp(t))return null;t=oi(t)}return null}function nb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cz=new Set(["html","body","#document"]);function jo(e){return Cz.has(ll(e))}function yn(e){return Tr(e).getComputedStyle(e)}function cp(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oi(e){if(ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rj(e)&&e.host||Bn(e);return Rj(t)?t.host:t}function JA(e){const t=oi(e);return jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fn(t)&&Mu(t)?t:JA(t)}function Wc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=JA(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=Tr(a);if(s){const l=Yv(o);return t.concat(o,o.visualViewport||[],Mu(a)?a:[],l&&r?Wc(l):[])}return t.concat(a,Wc(a,[],r))}function Yv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QA(e){const t=yn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Fn(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Pf(r)!==s||Pf(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function ab(e){return vn(e)?e:e.contextElement}function so(e){const t=ab(e);if(!Fn(t))return Rn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=QA(t);let o=(s?Pf(r.width):r.width)/n,l=(s?Pf(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ez=Rn(0);function ZA(e){const t=Tr(e);return!nb()||!t.visualViewport?Ez:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Az(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Tr(e)?!1:t}function es(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=ab(e);let o=Rn(1);t&&(n?vn(n)&&(o=so(n)):o=so(e));const l=Az(s,r,n)?ZA(s):Rn(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=Tr(s),m=n&&vn(n)?Tr(n):n;let v=h,y=Yv(v);for(;y&&n&&m!==v;){const p=so(y),b=y.getBoundingClientRect(),g=yn(y),x=b.left+(y.clientLeft+parseFloat(g.paddingLeft))*p.x,_=b.top+(y.clientTop+parseFloat(g.paddingTop))*p.y;c*=p.x,u*=p.y,d*=p.x,f*=p.y,c+=x,u+=_,v=Tr(y),y=Yv(v)}}return Tf({width:d,height:f,x:c,y:u})}function up(e,t){const r=cp(e).scrollLeft;return t?t.left+r:es(Bn(e)).left+r}function eP(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-up(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Pz(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Bn(n),l=t?lp(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Rn(1);const d=Rn(0),f=Fn(n);if((f||!f&&!s)&&((ll(n)!=="body"||Mu(o))&&(c=cp(n)),Fn(n))){const m=es(n);u=so(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?eP(o,c):Rn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Oz(e){return Array.from(e.getClientRects())}function Tz(e){const t=Bn(e),r=cp(e),n=e.ownerDocument.body,a=kr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=kr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+up(e);const l=-r.scrollTop;return yn(n).direction==="rtl"&&(o+=kr(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const Mj=25;function $z(e,t){const r=Tr(e),n=Bn(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=nb();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=up(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-m);v<=Mj&&(s-=v)}else u<=Mj&&(s+=u);return{width:s,height:o,x:l,y:c}}const Rz=new Set(["absolute","fixed"]);function Mz(e,t){const r=es(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Fn(e)?so(e):Rn(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function Ij(e,t,r){let n;if(t==="viewport")n=$z(e,r);else if(t==="document")n=Tz(Bn(e));else if(vn(t))n=Mz(t,r);else{const a=ZA(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Tf(n)}function tP(e,t){const r=oi(e);return r===t||!vn(r)||jo(r)?!1:yn(r).position==="fixed"||tP(r,t)}function Iz(e,t){const r=t.get(e);if(r)return r;let n=Wc(e,[],!1).filter(l=>vn(l)&&ll(l)!=="body"),a=null;const s=yn(e).position==="fixed";let o=s?oi(e):e;for(;vn(o)&&!jo(o);){const l=yn(o),c=rb(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Rz.has(a.position)||Mu(o)&&!c&&tP(e,o))?n=n.filter(d=>d!==o):a=l,o=oi(o)}return t.set(e,n),n}function Dz(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?lp(t)?[]:Iz(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Ij(t,d,a);return u.top=kr(f.top,u.top),u.right=si(f.right,u.right),u.bottom=si(f.bottom,u.bottom),u.left=kr(f.left,u.left),u},Ij(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lz(e){const{width:t,height:r}=QA(e);return{width:t,height:r}}function Fz(e,t,r){const n=Fn(t),a=Bn(t),s=r==="fixed",o=es(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Rn(0);function u(){c.x=up(a)}if(n||!n&&!s)if((ll(t)!=="body"||Mu(a))&&(l=cp(t)),n){const m=es(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?eP(a,l):Rn(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function eg(e){return yn(e).position==="static"}function Dj(e,t){if(!Fn(e)||yn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bn(e)===r&&(r=r.ownerDocument.body),r}function rP(e,t){const r=Tr(e);if(lp(e))return r;if(!Fn(e)){let a=oi(e);for(;a&&!jo(a);){if(vn(a)&&!eg(a))return a;a=oi(a)}return r}let n=Dj(e,t);for(;n&&wz(n)&&eg(n);)n=Dj(n,t);return n&&jo(n)&&eg(n)&&!rb(n)?r:n||kz(e)||r}const Uz=async function(e){const t=this.getOffsetParent||rP,r=this.getDimensions,n=await r(e.floating);return{reference:Fz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Bz(e){return yn(e).direction==="rtl"}const zz={convertOffsetParentRelativeRectToViewportRelativeRect:Pz,getDocumentElement:Bn,getClippingRect:Dz,getOffsetParent:rP,getElementRects:Uz,getClientRects:Oz,getDimensions:Lz,getScale:so,isElement:vn,isRTL:Bz};function nP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wz(e,t){let r=null,n;const a=Bn(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=md(f),y=md(a.clientWidth-(d+h)),p=md(a.clientHeight-(f+m)),b=md(d),x={rootMargin:-v+"px "+-y+"px "+-p+"px "+-b+"px",threshold:kr(0,si(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!nP(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(e)}return o(!0),s}function Vz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ab(e),d=a||s?[...u?Wc(u):[],...Wc(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?Wz(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,y=c?es(e):null;c&&p();function p(){const b=es(e);y&&!nP(y,b)&&r(),y=b,v=requestAnimationFrame(p)}return r(),()=>{var b;d.forEach(g=>{a&&g.removeEventListener("scroll",r),s&&g.removeEventListener("resize",r)}),f?.(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const qz=mz,Hz=gz,Gz=fz,Kz=yz,Xz=hz,Lj=dz,Yz=vz,Jz=(e,t,r)=>{const n=new Map,a={platform:zz,...r},s={...a.platform,_c:n};return uz(e,t,{...a,platform:s})};var Qz=typeof document<"u",Zz=function(){},Xd=Qz?w.useLayoutEffect:Zz;function $f(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$f(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!$f(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function aP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fj(e,t){const r=aP(e);return Math.round(t*r)/r}function tg(e){const t=w.useRef(e);return Xd(()=>{t.current=e}),t}function e8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);$f(h,n)||m(n);const[v,y]=w.useState(null),[p,b]=w.useState(null),g=w.useCallback(C=>{C!==S.current&&(S.current=C,y(C))},[]),x=w.useCallback(C=>{C!==N.current&&(N.current=C,b(C))},[]),_=s||v,j=o||p,S=w.useRef(null),N=w.useRef(null),k=w.useRef(d),A=c!=null,O=tg(c),P=tg(a),T=tg(u),z=w.useCallback(()=>{if(!S.current||!N.current)return;const C={placement:t,strategy:r,middleware:h};P.current&&(C.platform=P.current),Jz(S.current,N.current,C).then(M=>{const q={...M,isPositioned:T.current!==!1};E.current&&!$f(k.current,q)&&(k.current=q,Jo.flushSync(()=>{f(q)}))})},[h,t,r,P,T]);Xd(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const E=w.useRef(!1);Xd(()=>(E.current=!0,()=>{E.current=!1}),[]),Xd(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(O.current)return O.current(_,j,z);z()}},[_,j,z,O,A]);const R=w.useMemo(()=>({reference:S,floating:N,setReference:g,setFloating:x}),[g,x]),D=w.useMemo(()=>({reference:_,floating:j}),[_,j]),$=w.useMemo(()=>{const C={position:r,left:0,top:0};if(!D.floating)return C;const M=Fj(D.floating,d.x),q=Fj(D.floating,d.y);return l?{...C,transform:"translate("+M+"px, "+q+"px)",...aP(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:q}},[r,l,D.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:z,refs:R,elements:D,floatingStyles:$}),[d,z,R,D,$])}const t8=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Lj({element:n.current,padding:a}).fn(r):{}:n?Lj({element:n,padding:a}).fn(r):{}}}},r8=(e,t)=>({...qz(e),options:[e,t]}),n8=(e,t)=>({...Hz(e),options:[e,t]}),a8=(e,t)=>({...Yz(e),options:[e,t]}),i8=(e,t)=>({...Gz(e),options:[e,t]}),s8=(e,t)=>({...Kz(e),options:[e,t]}),o8=(e,t)=>({...Xz(e),options:[e,t]}),l8=(e,t)=>({...t8(e),options:[e,t]});var c8="Arrow",iP=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(Ee.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});iP.displayName=c8;var u8=iP;function ib(e){const[t,r]=w.useState(void 0);return Tt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var sb="Popper",[sP,oP]=xn(sb),[d8,lP]=sP(sb),cP=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return i.jsx(d8,{scope:t,anchor:n,onAnchorChange:a,children:r})};cP.displayName=sb;var uP="PopperAnchor",dP=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=lP(uP,r),o=w.useRef(null),l=Xe(t,o),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:i.jsx(Ee.div,{...a,ref:l})});dP.displayName=uP;var ob="PopperContent",[f8,h8]=sP(ob),fP=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=e,p=lP(ob,r),[b,g]=w.useState(null),x=Xe(t,H=>g(H)),[_,j]=w.useState(null),S=ib(_),N=S?.width??0,k=S?.height??0,A=n+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,z={padding:O,boundary:P.filter(m8),altBoundary:T},{refs:E,floatingStyles:R,placement:D,isPositioned:$,middlewareData:C}=e8({strategy:"fixed",placement:A,whileElementsMounted:(...H)=>Vz(...H,{animationFrame:m==="always"}),elements:{reference:p.anchor},middleware:[r8({mainAxis:a+k,alignmentAxis:o}),c&&n8({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?a8():void 0,...z}),c&&i8({...z}),s8({...z,apply:({elements:H,rects:I,availableWidth:F,availableHeight:B})=>{const{width:G,height:V}=I.reference,de=H.floating.style;de.setProperty("--radix-popper-available-width",`${F}px`),de.setProperty("--radix-popper-available-height",`${B}px`),de.setProperty("--radix-popper-anchor-width",`${G}px`),de.setProperty("--radix-popper-anchor-height",`${V}px`)}}),_&&l8({element:_,padding:l}),g8({arrowWidth:N,arrowHeight:k}),h&&o8({strategy:"referenceHidden",...z})]}),[M,q]=mP(D),Z=da(v);Tt(()=>{$&&Z?.()},[$,Z]);const te=C.arrow?.x,ce=C.arrow?.y,pe=C.arrow?.centerOffset!==0,[J,ne]=w.useState();return Tt(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:$?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[C.transformOrigin?.x,C.transformOrigin?.y].join(" "),...C.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(f8,{scope:r,placedSide:M,onArrowChange:j,arrowX:te,arrowY:ce,shouldHideArrow:pe,children:i.jsx(Ee.div,{"data-side":M,"data-align":q,...y,ref:x,style:{...y.style,animation:$?void 0:"none"}})})})});fP.displayName=ob;var hP="PopperArrow",p8={top:"bottom",right:"left",bottom:"top",left:"right"},pP=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=h8(hP,n),o=p8[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(u8,{...a,ref:r,style:{...a.style,display:"block"}})})});pP.displayName=hP;function m8(e){return e!==null}var g8=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=mP(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(a.arrow?.x??0)+l/2,m=(a.arrow?.y??0)+c/2;let v="",y="";return u==="bottom"?(v=o?f:`${h}px`,y=`${-c}px`):u==="top"?(v=o?f:`${h}px`,y=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=o?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,y=o?f:`${m}px`),{data:{x:v,y}}}});function mP(e){const[t,r="center"]=e.split("-");return[t,r]}var v8=cP,y8=dP,x8=fP,b8=pP,w8="Portal",lb=w.forwardRef((e,t)=>{const{container:r,...n}=e,[a,s]=w.useState(!1);Tt(()=>s(!0),[]);const o=r||a&&globalThis?.document?.body;return o?_4.createPortal(i.jsx(Ee.div,{...n,ref:t}),o):null});lb.displayName=w8;function cb(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_8="VisuallyHidden",j8=w.forwardRef((e,t)=>i.jsx(Ee.span,{...e,ref:t,style:{...gP,...e.style}}));j8.displayName=_8;var S8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Cs=new WeakMap,gd=new WeakMap,vd={},rg=0,vP=function(e){return e&&(e.host||vP(e.parentNode))},N8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=vP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},k8=function(e,t,r,n){var a=N8(t,Array.isArray(e)?e:[e]);vd[r]||(vd[r]=new WeakMap);var s=vd[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",y=(Cs.get(h)||0)+1,p=(s.get(h)||0)+1;Cs.set(h,y),s.set(h,p),o.push(h),y===1&&v&&gd.set(h,!0),p===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),rg++,function(){o.forEach(function(f){var h=Cs.get(f)-1,m=s.get(f)-1;Cs.set(f,h),s.set(f,m),h||(gd.has(f)||f.removeAttribute(n),gd.delete(f)),m||f.removeAttribute(r)}),rg--,rg||(Cs=new WeakMap,Cs=new WeakMap,gd=new WeakMap,vd={})}},yP=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=S8(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),k8(n,a,r,"aria-hidden")):function(){return null}},En=function(){return En=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},En.apply(this,arguments)};function xP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function C8(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Yd="right-scroll-bar-position",Jd="width-before-scroll-bar",E8="with-scroll-bars-hidden",A8="--removed-body-scroll-bar-size";function ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P8(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var O8=typeof window<"u"?w.useLayoutEffect:w.useEffect,Uj=new WeakMap;function T8(e,t){var r=P8(null,function(n){return e.forEach(function(a){return ng(a,n)})});return O8(function(){var n=Uj.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||ng(l,null)}),s.forEach(function(l){a.has(l)||ng(l,o)})}Uj.set(r,e)},[e]),r}function $8(e){return e}function R8(e,t){t===void 0&&(t=$8);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function M8(e){e===void 0&&(e={});var t=R8(null);return t.options=En({async:!0,ssr:!1},e),t}var bP=function(e){var t=e.sideCar,r=xP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,En({},r))};bP.isSideCarExport=!0;function I8(e,t){return e.useMedium(t),bP}var wP=M8(),ag=function(){},dp=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:ag,onWheelCapture:ag,onTouchMoveCapture:ag}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,y=e.inert,p=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,x=e.gapMode,_=xP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=T8([r,t]),N=En(En({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:wP,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!p,lockRef:r,gapMode:x}),o?w.cloneElement(w.Children.only(l),En(En({},N),{ref:S})):w.createElement(g,En({},N,{className:c,ref:S}),l))});dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dp.classNames={fullWidth:Jd,zeroRight:Yd};var D8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D8();return t&&e.setAttribute("nonce",t),e}function F8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L8())&&(F8(t,r),U8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z8=function(){var e=B8();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_P=function(){var e=z8(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},W8={left:0,top:0,right:0,gap:0},ig=function(e){return parseInt(e||"",10)||0},V8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ig(r),ig(n),ig(a)]},q8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W8;var t=V8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},H8=_P(),oo="data-scroll-locked",G8=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(E8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(oo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oo,`] {
    `).concat(A8,": ").concat(l,`px;
  }
`)},Bj=function(){var e=parseInt(document.body.getAttribute(oo)||"0",10);return isFinite(e)?e:0},K8=function(){w.useEffect(function(){return document.body.setAttribute(oo,(Bj()+1).toString()),function(){var e=Bj()-1;e<=0?document.body.removeAttribute(oo):document.body.setAttribute(oo,e.toString())}},[])},X8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;K8();var s=w.useMemo(function(){return q8(a)},[a]);return w.createElement(H8,{styles:G8(s,!t,a,r?"":"!important")})},Jv=!1;if(typeof window<"u")try{var yd=Object.defineProperty({},"passive",{get:function(){return Jv=!0,!0}});window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Jv=!1}var Es=Jv?{passive:!1}:!1,Y8=function(e){return e.tagName==="TEXTAREA"},jP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y8(e)&&r[t]==="visible")},J8=function(e){return jP(e,"overflowY")},Q8=function(e){return jP(e,"overflowX")},zj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=SP(e,n);if(a){var s=NP(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},eW=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},SP=function(e,t){return e==="v"?J8(t):Q8(t)},NP=function(e,t){return e==="v"?Z8(t):eW(t)},tW=function(e,t){return e==="h"&&t==="rtl"?-1:1},rW=function(e,t,r,n,a){var s=tW(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=NP(e,l),v=m[0],y=m[1],p=m[2],b=y-p-s*v;(v||b)&&SP(e,l)&&(f+=b,h+=v);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},xd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wj=function(e){return[e.deltaX,e.deltaY]},Vj=function(e){return e&&"current"in e?e.current:e},nW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iW=0,As=[];function sW(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(iW++)[0],s=w.useState(_P)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=C8([e.lockRef.current],(e.shards||[]).map(Vj),!0).filter(Boolean);return y.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(y,p){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=xd(y),g=r.current,x="deltaX"in y?y.deltaX:g[0]-b[0],_="deltaY"in y?y.deltaY:g[1]-b[1],j,S=y.target,N=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in y&&N==="h"&&S.type==="range")return!1;var k=zj(N,S);if(!k)return!0;if(k?j=N:(j=N==="v"?"h":"v",k=zj(N,S)),!k)return!1;if(!n.current&&"changedTouches"in y&&(x||_)&&(n.current=j),!j)return!0;var A=n.current||j;return rW(A,p,y,A==="h"?x:_)},[]),c=w.useCallback(function(y){var p=y;if(!(!As.length||As[As.length-1]!==s)){var b="deltaY"in p?Wj(p):xd(p),g=t.current.filter(function(j){return j.name===p.type&&(j.target===p.target||p.target===j.shadowParent)&&nW(j.delta,b)})[0];if(g&&g.should){p.cancelable&&p.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(Vj).filter(Boolean).filter(function(j){return j.contains(p.target)}),_=x.length>0?l(p,x[0]):!o.current.noIsolation;_&&p.cancelable&&p.preventDefault()}}},[]),u=w.useCallback(function(y,p,b,g){var x={name:y,delta:p,target:b,should:g,shadowParent:oW(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=w.useCallback(function(y){r.current=xd(y),n.current=void 0},[]),f=w.useCallback(function(y){u(y.type,Wj(y),y.target,l(y,e.lockRef.current))},[]),h=w.useCallback(function(y){u(y.type,xd(y),y.target,l(y,e.lockRef.current))},[]);w.useEffect(function(){return As.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Es),document.addEventListener("touchmove",c,Es),document.addEventListener("touchstart",d,Es),function(){As=As.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Es),document.removeEventListener("touchmove",c,Es),document.removeEventListener("touchstart",d,Es)}},[]);var m=e.removeScrollBar,v=e.inert;return w.createElement(w.Fragment,null,v?w.createElement(s,{styles:aW(a)}):null,m?w.createElement(X8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lW=I8(wP,sW);var ub=w.forwardRef(function(e,t){return w.createElement(dp,En({},e,{ref:t,sideCar:lW}))});ub.classNames=dp.classNames;var cW=[" ","Enter","ArrowUp","ArrowDown"],uW=[" ","Enter"],ts="Select",[fp,hp,dW]=jA(ts),[cl,tye]=xn(ts,[dW,oP]),pp=oP(),[fW,pi]=cl(ts),[hW,pW]=cl(ts),kP=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,y=pp(t),[p,b]=w.useState(null),[g,x]=w.useState(null),[_,j]=w.useState(!1),S=G0(u),[N,k]=Zi({prop:n,defaultProp:a??!1,onChange:s,caller:ts}),[A,O]=Zi({prop:o,defaultProp:l,onChange:c,caller:ts}),P=w.useRef(null),T=p?v||!!p.closest("form"):!0,[z,E]=w.useState(new Set),R=Array.from(z).map(D=>D.props.value).join(";");return i.jsx(v8,{...y,children:i.jsxs(fW,{required:m,scope:t,trigger:p,onTriggerChange:b,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Za(),value:A,onValueChange:O,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(fp.Provider,{scope:t,children:i.jsx(hW,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(D=>{E($=>new Set($).add(D))},[]),onNativeOptionRemove:w.useCallback(D=>{E($=>{const C=new Set($);return C.delete(D),C})},[]),children:r})}),T?i.jsxs(KP,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:D=>O(D.target.value),disabled:h,form:v,children:[A===void 0?i.jsx("option",{value:""}):null,Array.from(z)]},R):null]})})};kP.displayName=ts;var CP="SelectTrigger",EP=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=pp(r),o=pi(CP,r),l=o.disabled||n,c=Xe(t,o.onTriggerChange),u=hp(r),d=w.useRef("touch"),[f,h,m]=YP(y=>{const p=u().filter(x=>!x.disabled),b=p.find(x=>x.value===o.value),g=JP(p,y,b);g!==void 0&&o.onValueChange(g.value)}),v=y=>{l||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return i.jsx(y8,{asChild:!0,...s,children:i.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":XP(o.value)?"":void 0,...a,ref:c,onClick:Re(a.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:Re(a.onPointerDown,y=>{d.current=y.pointerType;const p=y.target;p.hasPointerCapture(y.pointerId)&&p.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Re(a.onKeyDown,y=>{const p=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(p&&y.key===" ")&&cW.includes(y.key)&&(v(),y.preventDefault())})})})});EP.displayName=CP;var AP="SelectValue",PP=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=pi(AP,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Xe(t,c.onValueNodeChange);return Tt(()=>{u(d)},[u,d]),i.jsx(Ee.span,{...l,ref:f,style:{pointerEvents:"none"},children:XP(c.value)?i.jsx(i.Fragment,{children:o}):s})});PP.displayName=AP;var mW="SelectIcon",OP=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(Ee.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});OP.displayName=mW;var gW="SelectPortal",TP=e=>i.jsx(lb,{asChild:!0,...e});TP.displayName=gW;var rs="SelectContent",$P=w.forwardRef((e,t)=>{const r=pi(rs,e.__scopeSelect),[n,a]=w.useState();if(Tt(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Jo.createPortal(i.jsx(RP,{scope:e.__scopeSelect,children:i.jsx(fp.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(MP,{...e,ref:t})});$P.displayName=rs;var nn=10,[RP,mi]=cl(rs),vW="SelectContentImpl",yW=bo("SelectContent.RemoveScroll"),MP=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:p,...b}=e,g=pi(rs,r),[x,_]=w.useState(null),[j,S]=w.useState(null),N=Xe(t,H=>_(H)),[k,A]=w.useState(null),[O,P]=w.useState(null),T=hp(r),[z,E]=w.useState(!1),R=w.useRef(!1);w.useEffect(()=>{if(x)return yP(x)},[x]),HA();const D=w.useCallback(H=>{const[I,...F]=T().map(V=>V.ref.current),[B]=F.slice(-1),G=document.activeElement;for(const V of H)if(V===G||(V?.scrollIntoView({block:"nearest"}),V===I&&j&&(j.scrollTop=0),V===B&&j&&(j.scrollTop=j.scrollHeight),V?.focus(),document.activeElement!==G))return},[T,j]),$=w.useCallback(()=>D([k,x]),[D,k,x]);w.useEffect(()=>{z&&$()},[z,$]);const{onOpenChange:C,triggerPointerDownPosRef:M}=g;w.useEffect(()=>{if(x){let H={x:0,y:0};const I=B=>{H={x:Math.abs(Math.round(B.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(B.pageY)-(M.current?.y??0))}},F=B=>{H.x<=10&&H.y<=10?B.preventDefault():x.contains(B.target)||C(!1),document.removeEventListener("pointermove",I),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",F,{capture:!0})}}},[x,C,M]),w.useEffect(()=>{const H=()=>C(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[C]);const[q,Z]=YP(H=>{const I=T().filter(G=>!G.disabled),F=I.find(G=>G.ref.current===document.activeElement),B=JP(I,H,F);B&&setTimeout(()=>B.ref.current.focus())}),te=w.useCallback((H,I,F)=>{const B=!R.current&&!F;(g.value!==void 0&&g.value===I||B)&&(A(H),B&&(R.current=!0))},[g.value]),ce=w.useCallback(()=>x?.focus(),[x]),pe=w.useCallback((H,I,F)=>{const B=!R.current&&!F;(g.value!==void 0&&g.value===I||B)&&P(H)},[g.value]),J=n==="popper"?Qv:IP,ne=J===Qv?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:p}:{};return i.jsx(RP,{scope:r,content:x,viewport:j,onViewportChange:S,itemRefCallback:te,selectedItem:k,onItemLeave:ce,itemTextRefCallback:pe,focusSelectedItem:$,selectedItemText:O,position:n,isPositioned:z,searchRef:q,children:i.jsx(ub,{as:yW,allowPinchZoom:!0,children:i.jsx(Q0,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Re(a,H=>{g.trigger?.focus({preventScroll:!0}),H.preventDefault()}),children:i.jsx(J0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(J,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...b,...ne,onPlaced:()=>E(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Re(b.onKeyDown,H=>{const I=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!I&&H.key.length===1&&Z(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let B=T().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(H.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const G=H.target,V=B.indexOf(G);B=B.slice(V+1)}setTimeout(()=>D(B)),H.preventDefault()}})})})})})})});MP.displayName=vW;var xW="SelectItemAlignedPosition",IP=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=pi(rs,r),o=mi(rs,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Xe(t,N=>d(N)),h=hp(r),m=w.useRef(!1),v=w.useRef(!0),{viewport:y,selectedItem:p,selectedItemText:b,focusSelectedItem:g}=o,x=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&p&&b){const N=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(s.dir!=="rtl"){const G=O.left-k.left,V=A.left-G,de=N.left-V,U=N.width+de,Y=Math.max(U,k.width),ae=window.innerWidth-nn,xe=wj(V,[nn,Math.max(nn,ae-Y)]);l.style.minWidth=U+"px",l.style.left=xe+"px"}else{const G=k.right-O.right,V=window.innerWidth-A.right-G,de=window.innerWidth-N.right-V,U=N.width+de,Y=Math.max(U,k.width),ae=window.innerWidth-nn,xe=wj(V,[nn,Math.max(nn,ae-Y)]);l.style.minWidth=U+"px",l.style.right=xe+"px"}const P=h(),T=window.innerHeight-nn*2,z=y.scrollHeight,E=window.getComputedStyle(u),R=parseInt(E.borderTopWidth,10),D=parseInt(E.paddingTop,10),$=parseInt(E.borderBottomWidth,10),C=parseInt(E.paddingBottom,10),M=R+D+z+C+$,q=Math.min(p.offsetHeight*5,M),Z=window.getComputedStyle(y),te=parseInt(Z.paddingTop,10),ce=parseInt(Z.paddingBottom,10),pe=N.top+N.height/2-nn,J=T-pe,ne=p.offsetHeight/2,H=p.offsetTop+ne,I=R+D+H,F=M-I;if(I<=pe){const G=P.length>0&&p===P[P.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(J,ne+(G?ce:0)+V+$),U=I+de;l.style.height=U+"px"}else{const G=P.length>0&&p===P[0].ref.current;l.style.top="0px";const de=Math.max(pe,R+y.offsetTop+(G?te:0)+ne)+F;l.style.height=de+"px",y.scrollTop=I-pe+y.offsetTop}l.style.margin=`${nn}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=T+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,y,p,b,s.dir,n]);Tt(()=>x(),[x]);const[_,j]=w.useState();Tt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(N=>{N&&v.current===!0&&(x(),g?.(),v.current=!1)},[x,g]);return i.jsx(wW,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(Ee.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});IP.displayName=xW;var bW="SelectPopperPosition",Qv=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=nn,...s}=e,o=pp(r);return i.jsx(x8,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qv.displayName=bW;var[wW,db]=cl(rs,{}),Zv="SelectViewport",DP=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=mi(Zv,r),o=db(Zv,r),l=Xe(t,s.onViewportChange),c=w.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(fp.Slot,{scope:r,children:i.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Re(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h?.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-nn*2,y=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),b=Math.max(y,p);if(b<v){const g=b+m,x=Math.min(v,g),_=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});DP.displayName=Zv;var LP="SelectGroup",[_W,jW]=cl(LP),SW=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Za();return i.jsx(_W,{scope:r,id:a,children:i.jsx(Ee.div,{role:"group","aria-labelledby":a,...n,ref:t})})});SW.displayName=LP;var FP="SelectLabel",NW=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jW(FP,r);return i.jsx(Ee.div,{id:a.id,...n,ref:t})});NW.displayName=FP;var Rf="SelectItem",[kW,UP]=cl(Rf),BP=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=pi(Rf,r),c=mi(Rf,r),u=l.value===n,[d,f]=w.useState(s??""),[h,m]=w.useState(!1),v=Xe(t,g=>c.itemRefCallback?.(g,n,a)),y=Za(),p=w.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(kW,{scope:r,value:n,disabled:a,textId:y,isSelected:u,onItemTextChange:w.useCallback(g=>{f(x=>x||(g?.textContent??"").trim())},[]),children:i.jsx(fp.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(Ee.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Re(o.onFocus,()=>m(!0)),onBlur:Re(o.onBlur,()=>m(!1)),onClick:Re(o.onClick,()=>{p.current!=="mouse"&&b()}),onPointerUp:Re(o.onPointerUp,()=>{p.current==="mouse"&&b()}),onPointerDown:Re(o.onPointerDown,g=>{p.current=g.pointerType}),onPointerMove:Re(o.onPointerMove,g=>{p.current=g.pointerType,a?c.onItemLeave?.():p.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,g=>{g.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Re(o.onKeyDown,g=>{c.searchRef?.current!==""&&g.key===" "||(uW.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});BP.displayName=Rf;var Yl="SelectItemText",zP=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=pi(Yl,r),l=mi(Yl,r),c=UP(Yl,r),u=pW(Yl,r),[d,f]=w.useState(null),h=Xe(t,b=>f(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),m=d?.textContent,v=w.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:p}=u;return Tt(()=>(y(v),()=>p(v)),[y,p,v]),i.jsxs(i.Fragment,{children:[i.jsx(Ee.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jo.createPortal(s.children,o.valueNode):null]})});zP.displayName=Yl;var WP="SelectItemIndicator",VP=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return UP(WP,r).isSelected?i.jsx(Ee.span,{"aria-hidden":!0,...n,ref:t}):null});VP.displayName=WP;var ey="SelectScrollUpButton",qP=w.forwardRef((e,t)=>{const r=mi(ey,e.__scopeSelect),n=db(ey,e.__scopeSelect),[a,s]=w.useState(!1),o=Xe(t,n.onScrollButtonChange);return Tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(GP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qP.displayName=ey;var ty="SelectScrollDownButton",HP=w.forwardRef((e,t)=>{const r=mi(ty,e.__scopeSelect),n=db(ty,e.__scopeSelect),[a,s]=w.useState(!1),o=Xe(t,n.onScrollButtonChange);return Tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(GP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});HP.displayName=ty;var GP=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=mi("SelectScrollButton",r),o=w.useRef(null),l=hp(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Tt(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ee.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Re(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Re(a.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Re(a.onPointerLeave,()=>{c()})})}),CW="SelectSeparator",EW=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ee.div,{"aria-hidden":!0,...n,ref:t})});EW.displayName=CW;var ry="SelectArrow",AW=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pp(r),s=pi(ry,r),o=mi(ry,r);return s.open&&o.position==="popper"?i.jsx(b8,{...a,...n,ref:t}):null});AW.displayName=ry;var PW="SelectBubbleInput",KP=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),s=Xe(n,a),o=cb(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Ee.select,{...r,style:{...gP,...r.style},ref:s,defaultValue:t})});KP.displayName=PW;function XP(e){return e===""||e===void 0}function YP(e){const t=da(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function JP(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=OW(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function OW(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var TW=kP,$W=EP,RW=PP,MW=OP,IW=TP,DW=$P,LW=DP,FW=BP,UW=zP,BW=VP,zW=qP,WW=HP;function lt({...e}){return i.jsx(TW,{"data-slot":"select",...e})}function ct({...e}){return i.jsx(RW,{"data-slot":"select-value",...e})}function ut({className:e,size:t="default",children:r,...n}){return i.jsxs($W,{"data-slot":"select-trigger","data-size":t,className:je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,i.jsx(MW,{asChild:!0,children:i.jsx(D0,{className:"size-4 opacity-50"})})]})}function dt({className:e,children:t,position:r="popper",...n}){return i.jsx(IW,{children:i.jsxs(DW,{"data-slot":"select-content",className:je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(VW,{}),i.jsx(LW,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),i.jsx(qW,{})]})})}function ye({className:e,children:t,...r}){return i.jsxs(FW,{"data-slot":"select-item",className:je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(BW,{children:i.jsx(FE,{className:"size-4"})})}),i.jsx(UW,{children:t})]})}function VW({className:e,...t}){return i.jsx(zW,{"data-slot":"select-scroll-up-button",className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(UE,{className:"size-4"})})}function qW({className:e,...t}){return i.jsx(WW,{"data-slot":"select-scroll-down-button",className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(D0,{className:"size-4"})})}const QP=async(e,t,r)=>{if(!e||!e.includes("@"))return{exists:!1};const n=e.toLowerCase().trim();console.log(" Checking email:",n,"excludeId:",t,"excludeType:",r);try{if(r!=="agents"){console.log(" Checking agents table...");const{data:a,error:s}=await ee.from("agents").select("id, agency_name, phone, email").eq("email",n);if(console.log(" Agents result:",a,"error:",s),a&&a.length>0){const o=t?a.filter(l=>l.id!==t):a;if(o.length>0){const l=o[0];return{exists:!0,source:"agents",details:`${l.agency_name} (Phone: ${l.phone||"N/A"})`}}}}if(r!=="candidates"){console.log(" Checking candidates table...");const{data:a,error:s}=await ee.from("candidates").select("id, first_name, last_name, email").eq("email",n);if(console.log(" Candidates result:",a,"error:",s),a&&a.length>0){const o=t?a.filter(l=>l.id!==t):a;if(o.length>0){const l=o[0];return{exists:!0,source:"candidates",details:`${l.first_name} ${l.last_name}`}}}}if(r==="agents"){console.log(" Checking agents table for other module validation...");const{data:a,error:s}=await ee.from("agents").select("id, agency_name, phone, email").eq("email",n);if(console.log(" Agents result for other modules:",a,"error:",s),a&&a.length>0){const o=a[0];return{exists:!0,source:"agents",details:`${o.agency_name} (Phone: ${o.phone||"N/A"})`}}}if(r!=="employers"){console.log(" Checking employers table (receiving_companies)...");const{data:a,error:s}=await ee.from("receiving_companies").select("id, company_name, contact_person, email").eq("email",n);if(console.log(" Employers result:",a,"error:",s),a&&a.length>0){const o=t?a.filter(l=>l.id!==t):a;if(o.length>0){const l=o[0];return{exists:!0,source:"employers",details:`${l.contact_person||"Contact"} (${l.company_name})`}}}}return{exists:!1}}catch(a){return console.error("Error checking email existence:",a),{exists:!1}}},ZP=e=>e.exists?`This email is already registered to ${{candidates:"candidate",agents:"agent",employers:"employer"}[e.source]}: ${e.details}`:"",eO=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);var mp="Dialog",[tO,rO]=xn(mp),[HW,bn]=tO(mp),nO=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=Zi({prop:n,defaultProp:a??!1,onChange:s,caller:mp});return i.jsx(HW,{scope:t,triggerRef:l,contentRef:c,contentId:Za(),titleId:Za(),descriptionId:Za(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};nO.displayName=mp;var aO="DialogTrigger",iO=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bn(aO,r),s=Xe(t,a.triggerRef);return i.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pb(a.open),...n,ref:s,onClick:Re(e.onClick,a.onOpenToggle)})});iO.displayName=aO;var fb="DialogPortal",[GW,sO]=tO(fb,{forceMount:void 0}),oO=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=bn(fb,t);return i.jsx(GW,{scope:t,forceMount:r,children:w.Children.map(n,o=>i.jsx(al,{present:r||s.open,children:i.jsx(lb,{asChild:!0,container:a,children:o})}))})};oO.displayName=fb;var Mf="DialogOverlay",lO=w.forwardRef((e,t)=>{const r=sO(Mf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=bn(Mf,e.__scopeDialog);return s.modal?i.jsx(al,{present:n||s.open,children:i.jsx(XW,{...a,ref:t})}):null});lO.displayName=Mf;var KW=bo("DialogOverlay.RemoveScroll"),XW=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bn(Mf,r);return i.jsx(ub,{as:KW,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ee.div,{"data-state":pb(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ns="DialogContent",cO=w.forwardRef((e,t)=>{const r=sO(ns,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=bn(ns,e.__scopeDialog);return i.jsx(al,{present:n||s.open,children:s.modal?i.jsx(YW,{...a,ref:t}):i.jsx(JW,{...a,ref:t})})});cO.displayName=ns;var YW=w.forwardRef((e,t)=>{const r=bn(ns,e.__scopeDialog),n=w.useRef(null),a=Xe(t,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return yP(s)},[]),i.jsx(uO,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,s=>s.preventDefault())})}),JW=w.forwardRef((e,t)=>{const r=bn(ns,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return i.jsx(uO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),uO=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=bn(ns,r),c=w.useRef(null),u=Xe(t,c);return HA(),i.jsxs(i.Fragment,{children:[i.jsx(Q0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(J0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pb(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(ZW,{titleId:l.titleId}),i.jsx(t7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hb="DialogTitle",dO=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bn(hb,r);return i.jsx(Ee.h2,{id:a.titleId,...n,ref:t})});dO.displayName=hb;var fO="DialogDescription",hO=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bn(fO,r);return i.jsx(Ee.p,{id:a.descriptionId,...n,ref:t})});hO.displayName=fO;var pO="DialogClose",mO=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bn(pO,r);return i.jsx(Ee.button,{type:"button",...n,ref:t,onClick:Re(e.onClick,()=>a.onOpenChange(!1))})});mO.displayName=pO;function pb(e){return e?"open":"closed"}var gO="DialogTitleWarning",[QW,vO]=o3(gO,{contentName:ns,titleName:hb,docsSlug:"dialog"}),ZW=({titleId:e})=>{const t=vO(gO),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},e7="DialogDescriptionWarning",t7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vO(e7).contentName}}.`;return w.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yO=nO,xO=iO,bO=oO,wO=lO,_O=cO,jO=dO,SO=hO,mb=mO;function na({...e}){return i.jsx(yO,{"data-slot":"dialog",...e})}function NO({...e}){return i.jsx(xO,{"data-slot":"dialog-trigger",...e})}function r7({...e}){return i.jsx(bO,{"data-slot":"dialog-portal",...e})}function n7({className:e,...t}){return i.jsx(wO,{"data-slot":"dialog-overlay",className:je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function aa({className:e,children:t,...r}){return i.jsxs(r7,{"data-slot":"dialog-portal",children:[i.jsx(n7,{}),i.jsxs(_O,{"data-slot":"dialog-content",className:je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,i.jsxs(mb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(gn,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ps({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:je("flex flex-col gap-2 text-center sm:text-left",e),...t})}function a7({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-footer",className:je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ms({className:e,...t}){return i.jsx(jO,{"data-slot":"dialog-title",className:je("text-lg leading-none font-semibold",e),...t})}function Iu({className:e,...t}){return i.jsx(SO,{"data-slot":"dialog-description",className:je("text-muted-foreground text-sm",e),...t})}function Du({className:e,...t}){return i.jsx("textarea",{"data-slot":"textarea",className:je("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Qd=({value:e,onValueChange:t,placeholder:r,label:n,items:a,displayField:s,createTitle:o,createDescription:l,createFields:c,onCreateItem:u,disabled:d=!1,error:f,className:h=""})=>{const[m,v]=w.useState(!1),[y,p]=w.useState({}),[b,g]=w.useState(!1),[x,_]=w.useState(null);w.useEffect(()=>{const k={};c.forEach(A=>{k[A.key]=""}),p(k)},[c]);const j=(k,A)=>{p(O=>({...O,[k]:A}))},S=async()=>{try{g(!0),_(null);const k=c.filter(P=>P.required&&!y[P.key]?.trim()).map(P=>P.label);if(k.length>0){_(`Please fill in required fields: ${k.join(", ")}`);return}const A=await u(y);t(A.id),v(!1);const O={};c.forEach(P=>{O[P.key]=""}),p(O),me.success(`${o} created successfully`)}catch(k){console.error("Create item error:",k),_(k.message||"Failed to create item")}finally{g(!1)}},N=k=>{const A=y[k.key]||"";switch(k.type){case"textarea":return i.jsx(Du,{value:A,onChange:O=>j(k.key,O.target.value),placeholder:k.placeholder,className:"min-h-20"});case"select":return i.jsxs(lt,{value:A,onValueChange:O=>j(k.key,O),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:k.placeholder||`Select ${k.label.toLowerCase()}`})}),i.jsx(dt,{children:k.options?.map(O=>i.jsx(ye,{value:O.value,children:O.label},O.value))})]});default:return i.jsx(fe,{type:k.type,value:A,onChange:O=>j(k.key,O.target.value),placeholder:k.placeholder})}};return i.jsxs("div",{className:`space-y-2 ${h}`,children:[i.jsx(re,{children:n}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(lt,{value:e,onValueChange:t,disabled:d,children:[i.jsx(ut,{className:f?"border-red-500":"",children:i.jsx(ct,{placeholder:r})}),i.jsx(dt,{children:a.map(k=>i.jsx(ye,{value:k.id,children:k[s]||k.name||k.full_name||k.company_name||"Unknown"},k.id))})]})}),i.jsxs(na,{open:m,onOpenChange:v,children:[i.jsx(NO,{asChild:!0,children:i.jsx(K,{type:"button",variant:"outline",size:"icon",disabled:d,title:`Create new ${o.toLowerCase()}`,children:i.jsx(ii,{className:"h-4 w-4"})})}),i.jsxs(aa,{className:"max-w-md",children:[i.jsxs(ps,{children:[i.jsx(ms,{children:o}),i.jsx(Iu,{children:l})]}),i.jsxs("div",{className:"space-y-4",children:[c.map(k=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{htmlFor:k.key,children:[k.label,k.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),N(k)]},k.key)),x&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:i.jsx("p",{className:"text-sm text-red-600",children:x})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsxs(K,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:b,children:[i.jsx(gn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),i.jsx(K,{type:"button",onClick:S,disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})]})]})]}),f&&i.jsx("p",{className:"text-sm text-red-600",children:f})]})},jn=new Bc,i7=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(!0),[h,m]=w.useState(!1),[v,y]=w.useState(null),[p,b]=w.useState(!1),[g,x]=w.useState(null),[_,j]=w.useState(!1),[S,N]=w.useState(null),[k,A]=w.useState(!1),O=U=>{if(T(Y=>({...Y,email:U})),N(null),eO(U)){const Y=setTimeout(async()=>{A(!0);try{const ae=await QP(U,v?.id,"candidates");ae.exists?N(ZP(ae)):N(null)}catch(ae){console.error("Error checking email:",ae),N(null)}finally{A(!1)}},500);return()=>clearTimeout(Y)}},[P,T]=w.useState({full_name:"",email:"",phone:"",date_of_birth:"",gender:"",nationality:"",passport_number:"",nin_number:"",next_of_kin:"",next_of_kin_contact:"",next_of_kin_phone:"",next_of_kin_relationship:"",address:"",agent_id:"",receiving_company_id:"",position_id:"",job_id:"",stage:"passport",education_level:"",work_experience:"",skills:"",notes:"",photo_url:""}),[z,E]=w.useState({}),[R,D]=w.useState(1),[$,C]=w.useState(10),[M,q]=w.useState(""),[Z,te]=w.useState({}),ce=()=>{let U=e;return M&&(U=U.filter(Y=>Y.full_name?.toLowerCase().includes(M.toLowerCase())||Y.email?.toLowerCase().includes(M.toLowerCase())||Y.phone?.toLowerCase().includes(M.toLowerCase())||Y.nationality?.toLowerCase().includes(M.toLowerCase())||Y.stage?.toLowerCase().includes(M.toLowerCase()))),Object.entries(Z).forEach(([Y,ae])=>{ae&&(U=U.filter(xe=>xe[Y]?.toString().toLowerCase().includes(ae.toLowerCase())))}),U},pe=()=>{const U=ce(),Y=(R-1)*$,ae=Y+$;return U.slice(Y,ae)};w.useEffect(()=>{J()},[]);const J=async()=>{try{f(!0);const[U,Y,ae,xe]=await Promise.all([jn.getCandidates(),jn.getAgents(),jn.getEmployers(),jn.getJobs()]);t(U.candidates||[]),n(Y.agents||[]),s(ae.employers||[]),l(ae.employers||[]),u(xe.jobs||[])}catch(U){console.error("Error fetching data:",U),me.error("Failed to load data")}finally{f(!1)}},ne=()=>{T({full_name:"",email:"",phone:"",date_of_birth:"",gender:"",nationality:"",passport_number:"",nin_number:"",next_of_kin:"",next_of_kin_contact:"",next_of_kin_phone:"",next_of_kin_relationship:"",address:"",agent_id:"",receiving_company_id:"",position_id:"",job_id:"",stage:"passport",education_level:"",work_experience:"",skills:"",notes:"",photo_url:""}),E({}),y(null)},H=()=>{ne(),m(!0)},I=U=>{T({full_name:U.full_name,email:U.email,phone:U.phone,date_of_birth:U.date_of_birth,gender:U.gender,nationality:U.nationality,passport_number:U.passport_number,nin_number:U.nin_number,next_of_kin:U.next_of_kin,next_of_kin_contact:U.next_of_kin_contact,next_of_kin_phone:U.next_of_kin_phone||"",next_of_kin_relationship:U.next_of_kin_relationship,address:U.address,agent_id:U.agent_id,receiving_company_id:U.receiving_company_id,position_id:U.position_id||"",job_id:U.job_id||"",stage:U.stage,education_level:U.education_level||"",work_experience:U.work_experience||"",skills:U.skills||"",notes:U.notes||"",photo_url:U.photo_url||""}),y(U),m(!0)},F=async U=>{U.preventDefault();const Y={};if(P.full_name.trim()||(Y.full_name="Full name is required"),P.phone.trim()||(Y.phone="Phone number is required"),Object.keys(Y).length>0){E(Y);return}try{if(b(!0),v){const ae=await jn.updateCandidate(v.id,P);t(xe=>xe.map(Le=>Le.id===v.id?ae.candidate:Le)),me.success("Candidate updated successfully")}else{const ae=await jn.createCandidate(P);t(xe=>[...xe,ae.candidate]),me.success("Candidate created successfully")}m(!1),ne()}catch(ae){console.error("Error saving candidate:",ae),me.error("Failed to save candidate")}finally{b(!1)}},B=async U=>{try{await jn.deleteCandidate(U),t(Y=>Y.filter(ae=>ae.id!==U)),me.success("Candidate deleted successfully")}catch(Y){console.error("Error deleting candidate:",Y),me.error("Failed to delete candidate")}},G=U=>{x(U),j(!0)},V=U=>({passport:"bg-blue-100 text-blue-800",medical:"bg-yellow-100 text-yellow-800",visa:"bg-purple-100 text-purple-800",travel:"bg-orange-100 text-orange-800",deployed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"})[U]||"bg-gray-100 text-gray-800",de=[{key:"photo",header:"Photo",label:"Photo",sortable:!1,render:(U,Y)=>i.jsxs("div",{className:"flex items-center justify-center",children:[Y.photo_url?i.jsx("img",{src:Y.photo_url,alt:Y.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200",onError:ae=>{const xe=ae.target;xe.style.display="none",xe.nextElementSibling?.classList.remove("hidden")}}):null,i.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold text-sm border-2 border-gray-200 ${Y.photo_url?"hidden":""}`,children:Y.full_name?.charAt(0)?.toUpperCase()||"?"})]})},{key:"full_name",header:"Name",label:"Name",sortable:!0},{key:"phone",header:"Phone",label:"Phone",sortable:!0},{key:"email",header:"Email",label:"Email",sortable:!0},{key:"stage",header:"Stage",label:"Stage",sortable:!0,render:U=>i.jsx(Ce,{className:V(U),children:U.charAt(0).toUpperCase()+U.slice(1)})},{key:"nationality",header:"Destination Country",label:"Destination Country",sortable:!0},{key:"created_at",header:"Created",label:"Created",sortable:!0,render:U=>new Date(U).toLocaleDateString()},{key:"actions",header:"Actions",render:(U,Y)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:ae=>{ae.stopPropagation(),G(Y)},title:"View Details",children:i.jsx(Ln,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:ae=>{ae.stopPropagation(),I(Y)},title:"Edit Candidate",children:i.jsx(F0,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:ae=>{ae.stopPropagation(),confirm("Are you sure you want to delete this candidate?")&&B(Y.id)},title:"Delete Candidate",className:"text-destructive hover:text-destructive",children:i.jsx(fs,{className:"h-4 w-4"})})]})}];return d?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx($e,{className:"h-8 w-8 animate-spin"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Candidates"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage candidate profiles and recruitment stages"})]}),i.jsxs(K,{onClick:H,className:"flex items-center gap-2",children:[i.jsx(ii,{className:"h-4 w-4"}),"Add Candidate"]})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"All Candidates"}),i.jsx(Fe,{children:"View and manage all candidate profiles in the system"})]}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Qa,{className:"h-4 w-4 text-gray-500"}),i.jsx(fe,{placeholder:"Search candidates...",value:M,onChange:U=>{q(U.target.value),D(1)},className:"w-64"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-xs font-medium",children:"Rows:"}),i.jsxs("select",{value:$,onChange:U=>{C(Number(U.target.value)),D(1)},className:"border rounded px-1 py-0.5 text-xs",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((R-1)*$+1,ce().length)," to"," ",Math.min(R*$,ce().length)," of"," ",ce().length," results"]})})]}),i.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[400px] border rounded-lg",children:i.jsx("div",{style:{minWidth:"1130px"},children:i.jsx("div",{className:"bg-muted/30 sticky top-0 z-10",children:i.jsxs("table",{className:"w-full caption-bottom text-sm table-fixed",children:[i.jsxs("colgroup",{children:[i.jsx("col",{style:{width:"80px"}})," ",i.jsx("col",{style:{width:"180px"}})," ",i.jsx("col",{style:{width:"140px"}})," ",i.jsx("col",{style:{width:"200px"}})," ",i.jsx("col",{style:{width:"120px"}})," ",i.jsx("col",{style:{width:"150px"}})," ",i.jsx("col",{style:{width:"120px"}})," ",i.jsx("col",{style:{width:"120px"}})," "]}),i.jsx("thead",{className:"[&_tr]:border-b",children:i.jsx("tr",{className:"data-[state=selected]:bg-muted transition-colors border-b-2 border-border hover:bg-transparent",children:de.map(U=>i.jsx("th",{className:"text-foreground h-10 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] border-r border-border last:border-r-0 px-4 py-3 font-semibold text-xs uppercase tracking-wide bg-muted/50 sticky top-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between cursor-pointer hover:text-primary",children:i.jsx("span",{children:U.header})}),U.key!=="photo"&&U.key!=="actions"&&i.jsx(fe,{placeholder:"Filter...",value:Z[U.key]||"",onChange:Y=>{te(ae=>({...ae,[U.key]:Y.target.value})),D(1)},className:"h-6 text-xs border-gray-300",onClick:Y=>Y.stopPropagation()})]})},U.key))})}),i.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:pe().map((U,Y)=>i.jsx("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:de.map(ae=>i.jsx("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] border-r border-border last:border-r-0",children:i.jsx("div",{className:"truncate overflow-hidden whitespace-nowrap",title:ae.render?void 0:String(U[ae.key]||""),children:ae.render?ae.render(U[ae.key],U):U[ae.key]})},ae.key))},U.id))})]})})})}),ce().length>$&&i.jsx("div",{className:"flex items-center justify-between mt-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>D(U=>Math.max(U-1,1)),disabled:R===1,children:"Previous"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",R," of ",Math.ceil(ce().length/$)]}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>D(U=>Math.min(U+1,Math.ceil(ce().length/$))),disabled:R===Math.ceil(ce().length/$),children:"Next"})]})})]})]}),h&&i.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",margin:0,padding:0},children:[i.jsxs("div",{className:"px-6 py-4 border-b flex-shrink-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:v?"Edit Candidate":"Add New Candidate"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v?"Update candidate information":"Create a new candidate profile"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-h-0",children:i.jsx("div",{className:"container-fluid h-full",children:i.jsx("form",{onSubmit:F,children:i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Personal Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-3 p-4 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[i.jsxs("div",{className:"relative",children:[P.photo_url?i.jsx("img",{src:P.photo_url,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-4 border-gray-200"}):i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-2xl border-4 border-gray-200",children:P.full_name?.charAt(0)?.toUpperCase()||"?"}),i.jsx("input",{type:"file",id:"photo_upload",accept:"image/*",className:"hidden",onChange:U=>{const Y=U.target.files?.[0];if(Y){const ae=new FileReader;ae.onload=xe=>{const Le=xe.target?.result;T(Rt=>({...Rt,photo_url:Le}))},ae.readAsDataURL(Y)}}}),i.jsx("label",{htmlFor:"photo_upload",className:"absolute -bottom-2 -right-2 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 cursor-pointer shadow-lg transition-colors",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Profile Photo"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Click + to upload"})]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"full_name",children:"Full Name *"}),i.jsx(fe,{id:"full_name",value:P.full_name,onChange:U=>T(Y=>({...Y,full_name:U.target.value})),placeholder:"Enter full name"}),z.full_name&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:z.full_name})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"phone",children:"Phone Number *"}),i.jsx(fe,{id:"phone",value:P.phone,onChange:U=>T(Y=>({...Y,phone:U.target.value})),placeholder:"Enter phone number"}),z.phone&&i.jsx("p",{className:"text-sm text-destructive mt-1",children:z.phone})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"email",children:"Email Address"}),i.jsx(fe,{id:"email",type:"email",value:P.email,onChange:U=>O(U.target.value),placeholder:"Enter email address",className:S?"border-red-500":""}),k&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Checking email address..."}),S&&i.jsxs("p",{className:"text-sm mt-1 flex items-center text-red-600",children:[i.jsx(Or,{className:"h-4 w-4 mr-1"}),S]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"date_of_birth",children:"Date of Birth"}),i.jsx(fe,{id:"date_of_birth",type:"date",value:P.date_of_birth,onChange:U=>T(Y=>({...Y,date_of_birth:U.target.value}))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"gender",children:"Gender"}),i.jsxs(lt,{value:P.gender,onValueChange:U=>T(Y=>({...Y,gender:U})),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select gender"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"male",children:"Male"}),i.jsx(ye,{value:"female",children:"Female"}),i.jsx(ye,{value:"other",children:"Other"})]})]})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Next of Kin Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"next_of_kin",children:"Next of Kin Name"}),i.jsx(fe,{id:"next_of_kin",value:P.next_of_kin,onChange:U=>T(Y=>({...Y,next_of_kin:U.target.value})),placeholder:"Enter next of kin name"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"next_of_kin_phone",children:"Next of Kin Phone"}),i.jsx(fe,{id:"next_of_kin_phone",value:P.next_of_kin_phone,onChange:U=>T(Y=>({...Y,next_of_kin_phone:U.target.value})),placeholder:"Enter next of kin phone"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"next_of_kin_relationship",children:"Relationship"}),i.jsx(fe,{id:"next_of_kin_relationship",value:P.next_of_kin_relationship,onChange:U=>T(Y=>({...Y,next_of_kin_relationship:U.target.value})),placeholder:"Enter relationship"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"nationality",children:"Destination Country"}),i.jsx(fe,{id:"nationality",value:P.nationality,onChange:U=>T(Y=>({...Y,nationality:U.target.value})),placeholder:"Enter destination country"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"passport_number",children:"Passport Number"}),i.jsx(fe,{id:"passport_number",value:P.passport_number,onChange:U=>T(Y=>({...Y,passport_number:U.target.value})),placeholder:"Enter passport number"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Assignment Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"nin_number",children:"NIN Number"}),i.jsx(fe,{id:"nin_number",value:P.nin_number,onChange:U=>T(Y=>({...Y,nin_number:U.target.value})),placeholder:"Enter NIN number"})]}),i.jsx("div",{children:i.jsx(Qd,{value:P.agent_id,onValueChange:U=>T(Y=>({...Y,agent_id:U})),items:r,displayField:"agency_name",placeholder:"Select or create agent",label:"Agent",createTitle:"Create New Agent",createDescription:"Add a new agent to the system",createFields:[{key:"agency_name",label:"Agency Name",type:"text",required:!0},{key:"phone",label:"Phone",type:"tel"},{key:"email",label:"Email",type:"email"},{key:"agency_country",label:"Country",type:"text"},{key:"commission_rate",label:"Commission Rate (%)",type:"text"},{key:"photo_url",label:"Photo URL",type:"text"}],onCreateItem:async U=>{const Y={...U,commission_rate:U.commission_rate?parseFloat(U.commission_rate)/100:.1,is_active:!0},ae=await jn.createAgent(Y),xe=ae.agent||ae;return n(Le=>[...Le,xe]),xe}})}),i.jsx("div",{children:i.jsx(Qd,{value:P.receiving_company_id,onValueChange:U=>T(Y=>({...Y,receiving_company_id:U})),items:a,displayField:"company_name",placeholder:"Select or create company",label:"Receiving Company",createTitle:"Create New Company",createDescription:"Add a new receiving company to the system",createFields:[{key:"company_name",label:"Company Name",type:"text",required:!0},{key:"contact_person",label:"Contact Person",type:"text"},{key:"email",label:"Email",type:"email"},{key:"phone",label:"Phone",type:"tel"},{key:"country",label:"Country",type:"text"}],onCreateItem:async U=>{const Y=await jn.createEmployer(U),ae=Y.employer||Y;return s(xe=>[...xe,ae]),ae}})}),i.jsx("div",{children:i.jsx(Qd,{value:P.job_id,onValueChange:U=>T(Y=>({...Y,job_id:U})),items:c.filter(U=>U.is_active),displayField:"position_name",placeholder:"Select or create job",label:"Job Assignment",createTitle:"Create New Job",createDescription:"Add a new job position to the system",createFields:[{key:"position_name",label:"Position Name",type:"text",required:!0},{key:"work_country",label:"Work Country",type:"text",required:!0},{key:"receiving_company_id",label:"Company",type:"select",required:!0,options:a.map(U=>({value:U.id,label:U.company_name}))},{key:"requested_headcount",label:"Positions Needed",type:"text",required:!0},{key:"salary",label:"Monthly Salary",type:"text"},{key:"salary_currency",label:"Currency",type:"select",options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"AED",label:"AED"},{value:"SAR",label:"SAR"}]},{key:"contract_period",label:"Contract Period (months)",type:"text"}],onCreateItem:async U=>{const Y={...U,requested_headcount:parseInt(U.requested_headcount)||1,salary:U.salary?parseFloat(U.salary):null,salary_currency:U.salary_currency||"USD",contract_period:parseInt(U.contract_period)||24,probation_period:3,min_age:21,max_age:45,accommodation:!1,food:!1,air_ticket:!1,transport:!1,medical_insurance:!1,employment_visa:!1,working_hours:"8 hours/day, 6 days/week",is_active:!0,input_fee:null,input_fee_currency:"USD"},ae=await jn.createJob(Y),xe=ae.job||ae;return u(Le=>[...Le,xe]),xe}})}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg border border-blue-200",children:[i.jsx(re,{className:"text-sm font-medium text-blue-800",children:"Agent Payout Calculation"}),i.jsx("div",{className:"mt-2 space-y-1",children:P.agent_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Base Salary:"}),i.jsx("span",{className:"font-medium",children:"$2,500"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Commission Rate:"}),i.jsx("span",{className:"font-medium",children:"10%"})]}),i.jsx("div",{className:"border-t border-blue-200 pt-1 mt-2",children:i.jsxs("div",{className:"flex justify-between text-sm font-semibold text-blue-800",children:[i.jsx("span",{children:"Agent Payout:"}),i.jsx("span",{children:"$250.00"})]})})]}):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"Select an agent to see payout calculation"})})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"stage",children:"Current Stage"}),i.jsxs(lt,{value:P.stage,onValueChange:U=>T(Y=>({...Y,stage:U})),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select stage"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"passport",children:"Passport"}),i.jsx(ye,{value:"medical",children:"Medical"}),i.jsx(ye,{value:"visa",children:"Visa"}),i.jsx(ye,{value:"travel",children:"Travel"}),i.jsx(ye,{value:"deployed",children:"Deployed"}),i.jsx(ye,{value:"completed",children:"Completed"})]})]})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Additional Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"education_level",children:"Education Level"}),i.jsx(fe,{id:"education_level",value:P.education_level,onChange:U=>T(Y=>({...Y,education_level:U.target.value})),placeholder:"Enter education level"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"work_experience",children:"Work Experience"}),i.jsx(fe,{id:"work_experience",value:P.work_experience,onChange:U=>T(Y=>({...Y,work_experience:U.target.value})),placeholder:"Enter work experience"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"skills",children:"Skills"}),i.jsx(fe,{id:"skills",value:P.skills,onChange:U=>T(Y=>({...Y,skills:U.target.value})),placeholder:"Enter skills (comma separated)"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"notes",children:"Notes"}),i.jsx("textarea",{id:"notes",className:"w-full px-3 py-2 border rounded-md",rows:3,value:P.notes,onChange:U=>T(Y=>({...Y,notes:U.target.value})),placeholder:"Additional notes..."})]})]})]})]})})})}),i.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end gap-3 flex-shrink-0",children:[i.jsx(K,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),i.jsx(K,{type:"submit",disabled:p,onClick:F,children:p?i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}),v?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cn,{className:"w-4 h-4 mr-2"}),v?"Update Candidate":"Create Candidate"]})})]})]}),i.jsx(na,{open:_,onOpenChange:j,children:i.jsxs(aa,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(ps,{children:i.jsx(ms,{children:"Candidate Details"})}),g&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",g.full_name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",g.phone]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",g.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Stage:"})," ",g.stage]})]})]})})]})};var kO="AlertDialog",[s7,rye]=xn(kO,[rO]),xa=rO(),CO=e=>{const{__scopeAlertDialog:t,...r}=e,n=xa(t);return i.jsx(yO,{...n,...r,modal:!0})};CO.displayName=kO;var o7="AlertDialogTrigger",EO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xa(r);return i.jsx(xO,{...a,...n,ref:t})});EO.displayName=o7;var l7="AlertDialogPortal",AO=e=>{const{__scopeAlertDialog:t,...r}=e,n=xa(t);return i.jsx(bO,{...n,...r})};AO.displayName=l7;var c7="AlertDialogOverlay",PO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xa(r);return i.jsx(wO,{...a,...n,ref:t})});PO.displayName=c7;var lo="AlertDialogContent",[u7,d7]=s7(lo),f7=NL("AlertDialogContent"),OO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=xa(r),o=w.useRef(null),l=Xe(t,o),c=w.useRef(null);return i.jsx(QW,{contentName:lo,titleName:TO,docsSlug:"alert-dialog",children:i.jsx(u7,{scope:r,cancelRef:c,children:i.jsxs(_O,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Re(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(f7,{children:n}),i.jsx(p7,{contentRef:o})]})})})});OO.displayName=lo;var TO="AlertDialogTitle",$O=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xa(r);return i.jsx(jO,{...a,...n,ref:t})});$O.displayName=TO;var RO="AlertDialogDescription",MO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xa(r);return i.jsx(SO,{...a,...n,ref:t})});MO.displayName=RO;var h7="AlertDialogAction",IO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xa(r);return i.jsx(mb,{...a,...n,ref:t})});IO.displayName=h7;var DO="AlertDialogCancel",LO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=d7(DO,r),s=xa(r),o=Xe(t,a);return i.jsx(mb,{...s,...n,ref:o})});LO.displayName=DO;var p7=({contentRef:e})=>{const t=`\`${lo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lo}\` by passing a \`${RO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},m7=CO,g7=EO,v7=AO,y7=PO,x7=OO,b7=IO,w7=LO,_7=$O,j7=MO;function FO({...e}){return i.jsx(m7,{"data-slot":"alert-dialog",...e})}function UO({...e}){return i.jsx(g7,{"data-slot":"alert-dialog-trigger",...e})}function S7({...e}){return i.jsx(v7,{"data-slot":"alert-dialog-portal",...e})}function N7({className:e,...t}){return i.jsx(y7,{"data-slot":"alert-dialog-overlay",className:je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function BO({className:e,...t}){return i.jsxs(S7,{children:[i.jsx(N7,{}),i.jsx(x7,{"data-slot":"alert-dialog-content",className:je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function zO({className:e,...t}){return i.jsx("div",{"data-slot":"alert-dialog-header",className:je("flex flex-col gap-2 text-center sm:text-left",e),...t})}function WO({className:e,...t}){return i.jsx("div",{"data-slot":"alert-dialog-footer",className:je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function VO({className:e,...t}){return i.jsx(_7,{"data-slot":"alert-dialog-title",className:je("text-lg font-semibold",e),...t})}function qO({className:e,...t}){return i.jsx(j7,{"data-slot":"alert-dialog-description",className:je("text-muted-foreground text-sm",e),...t})}function HO({className:e,...t}){return i.jsx(b7,{className:je(M0(),e),...t})}function GO({className:e,...t}){return i.jsx(w7,{className:je(M0({variant:"outline"}),e),...t})}function ny({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:je("w-full caption-bottom text-sm",e),...t})})}function ay({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:je("[&_tr]:border-b",e),...t})}function iy({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:je("[&_tr:last-child]:border-0",e),...t})}function $i({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:je("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function sy({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:je("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Zd({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:je("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const k7=e=>{if(!e)return"generic";const t=e.toLowerCase().split(".").pop()||"";return["jpg","jpeg","png","gif","webp","svg","bmp"].includes(t)?"image":["pdf","doc","docx","txt","rtf","odt"].includes(t)?"document":["mp4","avi","mov","wmv","flv","webm"].includes(t)?"video":["mp3","wav","flac","aac","ogg"].includes(t)?"audio":"generic"},C7=(e,t)=>e.map(r=>{if(r.isFileColumn!==void 0)return r;const n=r.key;if((n.includes("url")||n.includes("photo")||n.includes("image")||n.includes("document")||n.includes("file")||n.includes("attachment")||n.includes("logo")||n.includes("doc_url")||n.includes("photo_url")||n.includes("logo_url"))&&t.length>0){const s=t.slice(0,5).map(l=>l[n]).filter(l=>l&&typeof l=="string"&&l.trim()!=="");if(s.length>0&&s.every(l=>typeof l=="string"&&(l.startsWith("http")||l.startsWith("/")||l.includes(".")))){const l=s.length>0?k7(s[0]):"generic";return{...r,isFileColumn:!0,fileType:l}}}return r}),E7=(e,t=16)=>{const r={size:t,className:"text-muted-foreground"};switch(e){case"image":return i.jsx(zE,{...r,className:"text-blue-600"});case"document":return i.jsx(qt,{...r,className:"text-red-600"});case"video":return i.jsx(Gd,{...r,className:"text-purple-600"});case"audio":return i.jsx(Gd,{...r,className:"text-green-600"});default:return i.jsx(Gd,{...r})}},If=e=>{if(!e||typeof e!="string")return"file";try{const t=e.split("/");return t[t.length-1]||"file"}catch{return"file"}},A7=e=>{const t=["file_size","size","fileSize","doc_size"];for(const r of t)if(e[r]){const n=parseInt(e[r]);if(n>0)return P7(n)}return null},P7=e=>{if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]},KO=async(e,t)=>{if(!e||typeof e!="string"){console.error("Invalid URL for download:",e);return}try{const n=await(await fetch(e)).blob(),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=t||If(e),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}catch(r){console.error("Download failed:",r),window.open(e,"_blank")}},O7=({url:e,fileType:t,row:r,isSelected:n,onToggleSelect:a,showCheckbox:s})=>{const[o,l]=w.useState(!1),c=async h=>{if(h.stopPropagation(),!(!e||typeof e!="string")){l(!0);try{await KO(e,If(e))}finally{l(!1)}}},u=h=>{h.stopPropagation(),!(!e||typeof e!="string")&&(t==="image"||t==="document")&&window.open(e,"_blank")};if(!e||typeof e!="string"||e.trim()==="")return i.jsx("span",{className:"text-muted-foreground",children:"No file"});const d=If(e),f=A7(r);return i.jsxs("div",{className:"flex items-center space-x-2",children:[s&&i.jsx(K,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),a()},className:"p-1 h-6 w-6",children:n?i.jsx(KE,{className:"h-4 w-4 text-primary"}):i.jsx(XE,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[E7(t),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate max-w-[150px]",title:d,children:d}),f&&i.jsx("div",{className:"text-xs text-muted-foreground",children:f})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[(t==="image"||t==="document")&&i.jsx(K,{variant:"ghost",size:"sm",onClick:u,className:"p-1 h-6 w-6",title:"Preview",children:i.jsx(Ln,{className:"h-3 w-3"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:c,disabled:o,className:"p-1 h-6 w-6",title:"Download",children:o?i.jsx(WE,{className:"h-3 w-3 animate-spin"}):i.jsx(Dn,{className:"h-3 w-3"})})]})]})},T7=({column:e,data:t,selectedFiles:r,onToggleAll:n,onBulkDownload:a,sortField:s,sortDirection:o,onSort:l})=>{const[c,u]=w.useState(!1),d=e.isFileColumn?t.filter(g=>g[e.key]&&typeof g[e.key]=="string"&&g[e.key].trim()!=="").length:0,f=d>0&&r.size===d,h=r.size>0,m=s===e.key,v=e.sortable!==!1&&l,y=async()=>{if(r.size!==0){u(!0);try{await a()}finally{u(!1)}}},p=()=>{if(v)if(m){const g=o==="asc"?"desc":"asc";l(e.key,g)}else l(e.key,"asc")},b=()=>v?m?o==="asc"?i.jsx(H3,{className:"h-4 w-4 ml-1"}):i.jsx(B3,{className:"h-4 w-4 ml-1"}):i.jsx(V3,{className:"h-4 w-4 ml-1 opacity-50"}):null;return i.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[i.jsxs("div",{className:`flex items-center min-w-0 ${v?"cursor-pointer hover:text-foreground":""}`,onClick:p,children:[i.jsx("span",{className:"truncate",children:e.header}),b()]}),e.isFileColumn&&d>0&&i.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[i.jsx(Ce,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:d}),i.jsx(K,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),n()},className:"p-1 h-6 w-6",title:f?"Deselect all files":"Select all files",children:f?i.jsx(KE,{className:"h-3 w-3 text-primary"}):i.jsx(XE,{className:"h-3 w-3"})}),h&&i.jsx(K,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),y()},disabled:c,className:"p-1 h-6 w-6",title:`Download ${r.size} selected files`,children:c?i.jsx(WE,{className:"h-3 w-3 animate-spin"}):i.jsx(F3,{className:"h-3 w-3"})})]})]})},Lu=({data:e,columns:t,onRowClick:r,loading:n=!1,className:a="",sortField:s,sortDirection:o,onSort:l})=>{const[c,u]=w.useState({}),d=w.useMemo(()=>C7(t,e),[t,e]);d.filter(v=>v.isFileColumn);const f=(v,y)=>{u(p=>{const b=p[v]||new Set,g=new Set(b);return g.has(y)?g.delete(y):g.add(y),{...p,[v]:g}})},h=v=>{const y=e.map(p=>p[v]).filter(p=>p&&typeof p=="string"&&p.trim()!=="");u(p=>(p[v]||new Set).size===y.length?{...p,[v]:new Set}:{...p,[v]:new Set(y)})},m=async v=>{const y=c[v]||new Set;if(y.size===0)return;const p=Array.from(y).map(async b=>{try{await KO(b,If(b))}catch(g){console.error(`Failed to download ${b}:`,g)}});await Promise.all(p),u(b=>({...b,[v]:new Set}))};return n?i.jsx("div",{className:"rounded-md border",children:i.jsxs(ny,{className:a,children:[i.jsx(ay,{children:i.jsx($i,{children:d.map(v=>i.jsx(sy,{children:v.header},v.key))})}),i.jsx(iy,{children:[...Array(5)].map((v,y)=>i.jsx($i,{children:d.map(p=>i.jsx(Zd,{children:i.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})},p.key))},y))})]})}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(ny,{className:a,children:[i.jsx(ay,{children:i.jsx($i,{children:d.map(v=>i.jsx(sy,{className:"p-3",children:i.jsx(T7,{column:v,data:e,selectedFiles:c[v.key]||new Set,onToggleAll:()=>h(v.key),onBulkDownload:()=>m(v.key),sortField:s,sortDirection:o,onSort:l})},v.key))})}),i.jsx(iy,{children:e.length===0?i.jsx($i,{children:i.jsx(Zd,{colSpan:d.length,className:"text-center py-8 text-muted-foreground",children:"No data available"})}):e.map((v,y)=>i.jsx($i,{onClick:()=>r?.(v),className:r?"cursor-pointer hover:bg-muted/50":"",children:d.map(p=>i.jsx(Zd,{className:"p-3",children:p.isFileColumn?i.jsx(O7,{url:v[p.key],fileType:p.fileType||"generic",row:v,isSelected:(c[p.key]||new Set).has(v[p.key]),onToggleSelect:()=>{v[p.key]&&typeof v[p.key]=="string"&&f(p.key,v[p.key])},showCheckbox:!!(v[p.key]&&typeof v[p.key]=="string"&&v[p.key].trim()!=="")}):p.render?p.render(v[p.key],v):v[p.key]},p.key))},y))})]})})};var gp="Switch",[$7,nye]=xn(gp),[R7,M7]=$7(gp),XO=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),v=Xe(t,x=>m(x)),y=w.useRef(!1),p=h?d||!!h.closest("form"):!0,[b,g]=Zi({prop:a,defaultProp:s??!1,onChange:u,caller:gp});return i.jsxs(R7,{scope:r,checked:b,disabled:l,children:[i.jsx(Ee.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":ZO(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Re(e.onClick,x=>{g(_=>!_),p&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),p&&i.jsx(QO,{control:h,bubbles:!y.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});XO.displayName=gp;var YO="SwitchThumb",JO=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=M7(YO,r);return i.jsx(Ee.span,{"data-state":ZO(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});JO.displayName=YO;var I7="SwitchBubbleInput",QO=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=w.useRef(null),l=Xe(o,s),c=cb(r),u=ib(t);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QO.displayName=I7;function ZO(e){return e?"checked":"unchecked"}var D7=XO,L7=JO;function Ei({className:e,...t}){return i.jsx(D7,{"data-slot":"switch",className:je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(L7,{"data-slot":"switch-thumb",className:je("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var F7="Separator",qj="horizontal",U7=["horizontal","vertical"],eT=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=qj,...a}=e,s=B7(n)?n:qj,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(Ee.div,{"data-orientation":s,...l,...a,ref:t})});eT.displayName=F7;function B7(e){return U7.includes(e)}var z7=eT;function Hj({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return i.jsx(z7,{"data-slot":"separator-root",decorative:r,orientation:t,className:je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var vp="Checkbox",[W7,aye]=xn(vp),[V7,gb]=W7(vp);function q7(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Zi({prop:r,defaultProp:a??!1,onChange:c,caller:vp}),[v,y]=w.useState(null),[p,b]=w.useState(null),g=w.useRef(!1),x=v?!!o||!!v.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:v,setControl:y,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:ei(a)?!1:a,isFormControl:x,bubbleInput:p,setBubbleInput:b};return i.jsx(V7,{scope:t,..._,children:H7(f)?f(_):n})}var tT="CheckboxTrigger",rT=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=gb(tT,e),y=Xe(a,d),p=w.useRef(c);return w.useEffect(()=>{const b=s?.form;if(b){const g=()=>f(p.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[s,f]),i.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":ei(c)?"mixed":c,"aria-required":u,"data-state":lT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Re(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Re(r,b=>{f(g=>ei(g)?!0:!g),v&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});rT.displayName=tT;var nT=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(q7,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(rT,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(oT,{__scopeCheckbox:r})]})})});nT.displayName=vp;var aT="CheckboxIndicator",iT=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=gb(aT,r);return i.jsx(al,{present:n||ei(s.checked)||s.checked===!0,children:i.jsx(Ee.span,{"data-state":lT(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});iT.displayName=aT;var sT="CheckboxBubbleInput",oT=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=gb(sT,e),v=Xe(r,m),y=cb(s),p=ib(n);w.useEffect(()=>{const g=h;if(!g)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set,S=!a.current;if(y!==s&&j){const N=new Event("click",{bubbles:S});g.indeterminate=ei(s),j.call(g,ei(s)?!1:s),g.dispatchEvent(N)}},[h,y,s,a]);const b=w.useRef(ei(s)?!1:s);return i.jsx(Ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oT.displayName=sT;function H7(e){return typeof e=="function"}function ei(e){return e==="indeterminate"}function lT(e){return ei(e)?"indeterminate":e?"checked":"unchecked"}function Vc({className:e,...t}){return i.jsx(nT,{"data-slot":"checkbox",className:je("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(iT,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(FE,{className:"size-3.5"})})})}const G7=({isOpen:e,onClose:t,agent:r})=>{const[n,a]=w.useState(!0),[s,o]=w.useState(!0),[l,c]=w.useState("portrait"),u=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),d=()=>!r.total_candidates||r.total_candidates===0?"0%":`${((r.successful_placements||0)/r.total_candidates*100).toFixed(1)}%`,f=()=>{window.print()},h=()=>{window.print()},m=v=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(v);return e?i.jsxs("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"no-print border-b bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-4 p-6 pb-3",children:[i.jsxs("h2",{className:"text-2xl font-semibold",children:["Agent Bio Data - ",r.agency_name]}),i.jsx(Ce,{variant:r.is_active?"default":"secondary",children:r.is_active?"Active":"Inactive"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 pb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vc,{id:"include-financials",checked:n,onCheckedChange:a}),i.jsx(re,{htmlFor:"include-financials",className:"text-sm",children:"Include Financial Detail"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(lt,{value:l,onValueChange:v=>c(v),children:[i.jsx(ut,{className:"w-24",children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"portrait",children:"Portrait"}),i.jsx(ye,{value:"landscape",children:"Landscape"})]})]})}),i.jsxs(K,{variant:"outline",size:"sm",onClick:f,children:[i.jsx(Ov,{className:"h-4 w-4 mr-2"}),"Print View"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:f,children:[i.jsx(Ov,{className:"h-4 w-4 mr-2"}),"Print"]}),i.jsxs(K,{variant:"default",size:"sm",onClick:h,children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-gray-50 p-6",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm print-content",children:[i.jsx("div",{className:"bg-gray-900 text-white p-4 rounded-t-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-1",children:"AGENT BIO DATA"}),i.jsxs("p",{className:"text-gray-300 text-sm",children:["ID: ",r.agency_id," | Generated: ",new Date().toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-xl font-semibold",children:r.agency_name}),i.jsx("p",{className:"text-gray-300 text-sm",children:"AGENT PROFILE"})]})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Fc,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Executive Summary"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"flex justify-center md:justify-start",children:r.photo_url?i.jsx("img",{src:r.photo_url,alt:r.agency_name,className:"w-32 h-32 rounded-lg object-cover border-2 border-gray-200 shadow-sm"}):i.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-gray-200",children:i.jsx(Fc,{className:"h-16 w-16 text-gray-400"})})}),i.jsx("div",{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Agent:"}),i.jsx("p",{className:"font-semibold",children:r.agency_name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Work Country:"}),i.jsx("p",{children:r.agency_country||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Contact Person:"}),i.jsx("p",{children:r.contact_person||"Not provided"})]})]})}),i.jsx("div",{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Registration:"}),i.jsx("p",{children:u(r.created_at)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Commission Rate:"}),i.jsxs("p",{children:[(r.commission_rate*100).toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status:"}),i.jsx(Ce,{variant:r.is_active?"default":"secondary",className:"bg-blue-600",children:r.is_active?"Active":"Inactive"})]})]})})]})]}),i.jsx(Hj,{}),s&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ar,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Performance & Operational Summary"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Candidates"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.total_candidates||0})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Successful Placements"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.successful_placements||0})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Success Rate"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:d()})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Lc,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information & Financial Breakdown"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Contact Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Email Address:"}),i.jsx("p",{className:"font-medium",children:r.email||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Phone Number:"}),i.jsx("p",{className:"font-medium",children:r.phone||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Address:"}),i.jsx("p",{className:"font-medium",children:r.address||"Not provided"})]})]})]}),n&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Commission Structure"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Commission Rate:"}),i.jsxs("p",{className:"font-medium",children:[(r.commission_rate*100).toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Commission Type:"}),i.jsx("p",{className:"font-medium",children:r.commission_type==="percentage"?"Percentage":"Flat Rate"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings:"}),i.jsx("p",{className:"font-medium text-green-600",children:m(r.total_earned||0)})]})]})]})]})]}),r.notes&&i.jsxs(i.Fragment,{children:[i.jsx(Hj,{}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(cF,{className:"h-5 w-5 text-yellow-600"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"})]}),i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"whitespace-pre-wrap",children:r.notes})})]})]})]})]})})]}),i.jsx("style",{children:`
        @media print {
          * {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
          }
          
          body * {
            visibility: hidden !important;
          }
          
          .print-content,
          .print-content * {
            visibility: visible !important;
          }
          
          .print-content {
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
            height: auto !important;
            margin: 0 !important;
            padding: 0 !important;
            background: white !important;
            box-shadow: none !important;
            border-radius: 0 !important;
          }
          
          @page {
            size: ${l==="landscape"?"A4 landscape":"A4 portrait"};
            margin: 1cm;
          }
          
          .no-print {
            display: none !important;
            visibility: hidden !important;
          }
          
          .bg-gray-50 {
            background-color: white !important;
          }
          
          .bg-gray-900 {
            background-color: #1f2937 !important;
            -webkit-print-color-adjust: exact !important;
          }
          
          .text-white {
            color: white !important;
          }
          
          .bg-blue-50,
          .bg-green-50,
          .bg-purple-50,
          .bg-orange-50 {
            background-color: #f8fafc !important;
            border: 1px solid #e2e8f0 !important;
          }
          
          .shadow-xl,
          .shadow-sm {
            box-shadow: none !important;
          }
          
          .rounded-lg,
          .rounded-t-lg {
            border-radius: 0 !important;
          }
          
          .p-6,
          .p-4 {
            padding: 1rem !important;
          }
        }
      `})]}):null},K7=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState(null),[h,m]=w.useState(!1),[v,y]=w.useState(!1),[p,b]=w.useState(!1),[g,x]=w.useState(null),[_,j]=w.useState("created_at"),[S,N]=w.useState("desc"),[k,A]=w.useState("all"),[O,P]=w.useState("all"),[T,z]=w.useState(!1);w.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0),l(null);const[H,I]=await Promise.all([Te.getAgents(),Te.getCandidates()]);t(H.agents||[]),n(I.candidates||[])}catch(H){console.error("Failed to fetch data:",H),l("Failed to load data"),me.error("Failed to load data")}finally{s(!1)}},R=async()=>{try{s(!0),l(null);const H=await Te.getAgents();t(H.agents||[])}catch(H){console.error("Failed to fetch agents:",H),l("Failed to load agents data"),me.error("Failed to load agents")}finally{s(!1)}},D=async H=>{try{const I=await Te.createAgent(H);t(F=>[...F,I.agent]),m(!1),me.success("Agent deleted successfully"),await E()}catch(I){console.error("Failed to create agent:",I),me.error("Failed to create agent")}},$=async(H,I)=>{try{const F=await Te.updateAgent(H,I);t(B=>B.map(G=>G.id===H?{...G,...F.agent}:G)),m(!1),me.success("Agent updated successfully"),await E()}catch(F){console.error("Failed to update agent:",F),me.error("Failed to update agent")}},C=async H=>{try{await Te.deleteAgent(H),t(I=>I.filter(F=>F.id!==H)),me.success("Agent deleted successfully")}catch(I){console.error("Failed to delete agent:",I),me.error("Failed to delete agent")}},M=H=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(H),q=H=>{if(!H.total_candidates||H.total_candidates===0)return"0.0";const I=(H.successful_placements||0)/H.total_candidates*100;return isNaN(I)?"0.0":I.toFixed(1)},Z=H=>{const F=H.successful_placements||0,B=H.commission_rate||0;return F*2e6*B},te=H=>H>=80?i.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Excellent"}):H>=60?i.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"Good"}):H>=40?i.jsx(Ce,{className:"bg-yellow-100 text-yellow-800",children:"Average"}):H>0?i.jsx(Ce,{className:"bg-orange-100 text-orange-800",children:"Developing"}):i.jsx(Ce,{className:"bg-gray-100 text-gray-800",children:"New Agent"}),ce=()=>e.filter(I=>{const F=I.agency_name?.toLowerCase().includes(c.toLowerCase())||I.agency_country?.toLowerCase().includes(c.toLowerCase())||I.email?.toLowerCase().includes(c.toLowerCase())||I.agency_id?.toLowerCase().includes(c.toLowerCase()),B=k==="all"||k==="active"&&I.is_active||k==="inactive"&&!I.is_active,G=O==="all"||I.agency_country===O;return F&&B&&G}).sort((I,F)=>{let B=I[_],G=F[_];return _==="created_at"?(B=new Date(B||0),G=new Date(G||0)):_==="total_candidates"||_==="successful_placements"||_==="commission_rate"?(B=parseFloat(B||0),G=parseFloat(G||0)):_==="success_rate"&&(B=parseFloat(q(I)),G=parseFloat(q(F))),S==="asc"?B>G?1:-1:B<G?1:-1}),pe=()=>{const H=ce(),I=[["Agency Name","Agency ID","Email","Phone","Country","Status","Total Candidates","Successful Placements","Success Rate","Commission Rate","Total Earned"].join(","),...H.map(V=>[V.agency_name,V.agency_id,V.email||"",V.phone||"",V.agency_country,V.is_active?"Active":"Inactive",V.total_candidates||0,V.successful_placements||0,q(V)+"%",((V.commission_rate||0)*100).toFixed(1)+"%",M(Z(V))].join(","))].join(`
`),F=new Blob([I],{type:"text/csv"}),B=window.URL.createObjectURL(F),G=document.createElement("a");G.href=B,G.download=`agents-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(B),me.success("Agents data exported successfully")},J=H=>{_===H?N(S==="asc"?"desc":"asc"):(j(H),N("asc"))};if(a)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($e,{className:"h-5 w-5 animate-spin text-primary"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading agents..."})]})})})});if(o)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{className:"border-destructive",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{className:"text-destructive",children:o})]}),i.jsx(K,{onClick:R,variant:"outline",children:"Retry"})]})})})});const ne=ce();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Agents Network"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage recruitment agents and track their performance"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:R,children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(K,{onClick:()=>{f(null),m(!0)},children:[i.jsx(ii,{className:"h-4 w-4 mr-2"}),"Add Agent"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Agents"}),i.jsx("p",{className:"text-2xl font-semibold",children:e.length})]}),i.jsx(Ft,{className:"h-5 w-5 text-blue-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"}),i.jsx("p",{className:"text-2xl font-semibold",children:e.filter(H=>H.is_active).length})]}),i.jsx(gr,{className:"h-5 w-5 text-green-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Placements"}),i.jsx("p",{className:"text-2xl font-semibold",children:e.reduce((H,I)=>H+(I.successful_placements||0),0)})]}),i.jsx(Ar,{className:"h-5 w-5 text-purple-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Commissions"}),i.jsx("p",{className:"text-2xl font-semibold",children:M(e.reduce((H,I)=>H+Z(I),0))})]}),i.jsx(cr,{className:"h-5 w-5 text-yellow-600"})]})})})]}),i.jsx(ie,{children:i.jsxs(se,{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(fe,{placeholder:"Search by name, region, or email...",value:c,onChange:H=>u(H.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>z(!T),children:[i.jsx(L0,{className:"h-4 w-4 mr-2"}),"Filter"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:pe,children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),T&&i.jsx("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"Status"}),i.jsxs(lt,{value:k,onValueChange:A,children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"all",children:"All Statuses"}),i.jsx(ye,{value:"active",children:"Active Only"}),i.jsx(ye,{value:"inactive",children:"Inactive Only"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{children:"Country"}),i.jsxs(lt,{value:O,onValueChange:P,children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"all",children:"All Countries"}),i.jsx(ye,{value:"UG",children:"Uganda"}),i.jsx(ye,{value:"KE",children:"Kenya"}),i.jsx(ye,{value:"TZ",children:"Tanzania"}),i.jsx(ye,{value:"RW",children:"Rwanda"}),i.jsx(ye,{value:"ET",children:"Ethiopia"})]})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(K,{variant:"outline",size:"sm",onClick:()=>{A("all"),P("all"),u("")},children:"Clear Filters"})})]})})]})}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(_e,{className:"flex items-center justify-between",children:["All Agents (",ne.length,")",i.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:["Showing ",ne.length," of ",e.length," agents"]})]})}),i.jsx(se,{children:i.jsx(Lu,{data:ne,loading:a,sortField:_,sortDirection:S,onSort:J,onRowClick:H=>{f(H),y(!0)},columns:[{key:"agency_name",header:"Agent",sortable:!0,render:(H,I)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[I?.photo_url?i.jsx("img",{src:I.photo_url,alt:I.agency_name,className:"w-8 h-8 rounded-full object-cover",onError:F=>{F.currentTarget.style.display="none";const B=F.currentTarget.nextElementSibling;B&&(B.style.display="flex")}}):null,i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",style:{display:I?.photo_url?"none":"flex"},children:i.jsx(Ft,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:I?.agency_name||"N/A"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:I?.agency_id||"N/A"})]})]})},{key:"contact",header:"Contact",render:(H,I)=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(Lc,{className:"h-3 w-3 mr-1 text-muted-foreground"}),I?.email||"No email"]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(GE,{className:"h-3 w-3 mr-1 text-muted-foreground"}),I?.phone||"No phone"]})]})},{key:"agency_country",header:"Country",render:(H,I)=>i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zh,{className:"h-4 w-4 mr-1 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:I.agency_country==="UG"?"Uganda":I.agency_country})]})},{key:"performance",header:"Performance",render:(H,I)=>{const F=q(I);return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm font-medium",children:[F,"% success"]}),te(parseFloat(F))]})}},{key:"total_candidates",header:"Candidates",sortable:!0,render:(H,I)=>{const F=r.filter(U=>U.agent_id===I.id),B=F.reduce((U,Y)=>{const ae=Y.stage||"unknown";return U[ae]=(U[ae]||0)+1,U},{}),G=F.length,V=["passport","interview","medical","training","visa","deployment"],de={passport:"text-blue-600",interview:"text-purple-600",medical:"text-yellow-600",training:"text-orange-600",visa:"text-indigo-600",deployment:"text-green-600"};return i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{className:"font-medium",children:[G," Total"]}),V.map(U=>{const Y=B[U]||0;return Y===0?null:i.jsxs("div",{className:de[U]||"text-gray-600",children:[Y," ",U.charAt(0).toUpperCase()+U.slice(1)]},U)})]})}},{key:"commission_rate",header:"Commission Rate",sortable:!0,render:(H,I)=>i.jsxs("div",{className:"text-center font-medium",children:[((I?.commission_rate||0)*100).toFixed(1),"%"]})},{key:"status",header:"Status",render:(H,I)=>i.jsx(Ce,{className:I.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:I.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",sortable:!1,render:(H,I)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"ghost",size:"sm",title:"View Agent Details",onClick:F=>{F.stopPropagation(),f(I),y(!0)},children:i.jsx(Ln,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",title:"View Bio Data",onClick:F=>{F.stopPropagation(),x(I),b(!0)},children:i.jsx(Fc,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",title:"Edit Agent",onClick:F=>{F.stopPropagation(),f(I),m(!0)},children:i.jsx(F0,{className:"h-4 w-4"})}),i.jsxs(FO,{children:[i.jsx(UO,{asChild:!0,children:i.jsx("button",{className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 w-8 rounded-md",title:"Delete Agent",onClick:F=>F.stopPropagation(),children:i.jsx(fs,{className:"h-4 w-4"})})}),i.jsxs(BO,{children:[i.jsxs(zO,{children:[i.jsx(VO,{children:"Delete Agent"}),i.jsxs(qO,{children:["Are you sure you want to delete ",I.agency_name,"? This action cannot be undone."]})]}),i.jsxs(WO,{children:[i.jsx(GO,{children:"Cancel"}),i.jsx(HO,{onClick:()=>C(I.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})}]})})]}),h&&i.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:i.jsx(X7,{agent:d||void 0,onSubmit:d?H=>$(d.id,H):D,onCancel:()=>m(!1)})}),i.jsx(na,{open:v,onOpenChange:y,children:i.jsx(aa,{className:"max-w-6xl w-[95vw] max-h-[85vh] overflow-y-auto",children:d&&i.jsx(Y7,{agent:d,formatCurrency:M,calculateSuccessRate:q})})}),g&&i.jsx(G7,{agent:g,isOpen:p,onClose:()=>{b(!1),x(null)}})]})},X7=({agent:e,onSubmit:t,onCancel:r})=>{const[n,a]=w.useState({agency_name:e?.agency_name||"",agency_id:e?.agency_id||"",phone:e?.phone||"",email:e?.email||"",agency_country:e?.agency_country||"UG",commission_rate:e?.commission_rate?(e.commission_rate*100).toString():"10",commission_type:e?.commission_type||"percentage",commission_value:e?.commission_value?.toString()||"0",is_active:e?.is_active!==void 0?e.is_active:!0,photo_url:e?.photo_url||"",total_candidates:e?.total_candidates?.toString()||"0",successful_placements:e?.successful_placements?.toString()||"0",notes:e?.notes||""}),[s,o]=w.useState(null),[l,c]=w.useState(e?.photo_url||null),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[m,v]=w.useState(null),[y,p]=w.useState(!1),[b,g]=w.useState(null),[x,_]=w.useState(!1),j=async $=>{if(!(!$||$===e?.phone)){p(!0);try{const{data:C}=await ee.from("agents").select("id, agency_name").eq("phone",$).single();v(C?`This phone number is already registered to ${C.agency_name}`:null)}catch{v(null)}finally{p(!1)}}},S=async $=>{if(!(!$||$===e?.email)){_(!0);try{const C=await QP($,e?.id,"agents");C.exists?g(ZP(C)):g(null)}catch(C){console.error("Error checking email:",C),g(null)}finally{_(!1)}}},N=$=>{const C=$.target.files?.[0];if(C){o(C);const M=new FileReader;M.onload=q=>{c(q.target?.result)},M.readAsDataURL(C)}},k=$=>{if(a(C=>({...C,phone:$})),v(null),$.length>3){const C=setTimeout(()=>{j($)},500);return()=>clearTimeout(C)}},A=$=>{if(a(C=>({...C,email:$})),g(null),eO($)){const C=setTimeout(()=>{S($)},500);return()=>clearTimeout(C)}},O=async $=>{try{return h(!0),console.log("Storage bucket has RLS restrictions, using base64 storage for reliability"),await P($)}catch(C){return console.error("Error uploading photo:",C),await P($)}finally{h(!1)}},P=async $=>new Promise(C=>{const M=new FileReader;M.onload=q=>{const Z=q.target?.result;console.log("Storing photo as base64 data URL"),C(Z)},M.onerror=()=>{console.error("Error reading file for base64 conversion"),C(null)},M.readAsDataURL($)}),[T,z]=w.useState({}),E=!!e,R=()=>{const $={};n.agency_name?.trim()||($.agency_name="Agency name is required"),!n.email?.trim()&&!n.phone?.trim()&&($.contact="Either email or phone is required"),n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&($.email="Invalid email format");const C=parseFloat(n.commission_rate);return(isNaN(C)||C<0||C>100)&&($.commission_rate="Commission rate must be between 0 and 100"),z($),Object.keys($).length===0},D=async $=>{if($.preventDefault(),!!R()){d(!0);try{let C=n.photo_url;if(s){const q=await O(s);if(!q)throw new Error("Photo upload failed. Please try again.");C=q}else if(!E&&!s&&!n.photo_url)throw new Error("Agent photo is required");const M={...n,photo_url:C,commission_rate:parseFloat(n.commission_rate)/100,commission_type:n.commission_type,commission_value:parseFloat(n.commission_value)||0,total_candidates:parseInt(n.total_candidates)||0,successful_placements:parseInt(n.successful_placements)||0};await t(M),me.success(E?"Agent updated successfully!":"Agent created successfully!")}catch(C){console.error("Error submitting form:",C),C.message.includes("Phone number")&&C.message.includes("already registered")?me.error("This phone number is already registered to another agent. Please use a different phone number."):C.message.includes("agency_name")?me.error("Agency name is required"):me.error(`Failed to save agent: ${C.message}`)}finally{d(!1)}}};return i.jsxs("div",{className:"h-screen flex flex-col",children:[i.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b bg-background",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:E?"Edit Agent":"Create New Agent"}),i.jsx("p",{className:"text-muted-foreground",children:E?"Update agent information and performance metrics.":"Add a new recruitment agent to your network."})]}),i.jsx(K,{variant:"ghost",onClick:r,className:"p-2",children:i.jsx(gn,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:i.jsx("form",{onSubmit:D,className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Basic Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"agency_name",children:"Agency Name *"}),i.jsx(fe,{id:"agency_name",value:n.agency_name,onChange:$=>a(C=>({...C,agency_name:$.target.value})),placeholder:"Enter agency name",required:!0})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"agency_country",children:"Country"}),i.jsxs(lt,{value:n.agency_country,onValueChange:$=>a(C=>({...C,agency_country:$})),children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"UG",children:"Uganda"}),i.jsx(ye,{value:"KE",children:"Kenya"}),i.jsx(ye,{value:"TZ",children:"Tanzania"}),i.jsx(ye,{value:"RW",children:"Rwanda"})]})]})]}),i.jsxs("div",{children:[i.jsxs(re,{htmlFor:"photo",children:["Agent Photo ",!E&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"space-y-2",children:[l&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:l,alt:"Agent preview",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}),i.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{c(null),o(null),a($=>({...$,photo_url:""}))},children:i.jsx(gn,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{id:"photo",type:"file",accept:"image/*",onChange:N,className:"hidden"}),i.jsxs(K,{type:"button",variant:"outline",onClick:()=>document.getElementById("photo")?.click(),disabled:f,className:T.photo?"border-red-500":"",children:[i.jsx(t5,{className:"h-4 w-4 mr-2"}),f?"Uploading...":"Choose Photo"]})]}),T.photo&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:T.photo})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ei,{id:"is_active",checked:n.is_active,onCheckedChange:$=>a(C=>({...C,is_active:$}))}),i.jsx(re,{htmlFor:"is_active",children:"Active Agent"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Contact Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"phone",children:"Phone Number"}),i.jsx(fe,{id:"phone",type:"tel",value:n.phone,onChange:$=>k($.target.value),placeholder:"Enter phone number",className:m?"border-red-500":""}),y&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Checking phone number..."}),m&&i.jsxs("p",{className:"text-sm mt-1 flex items-center",style:{color:"#ff2400"},children:[i.jsx(Or,{className:"h-4 w-4 mr-1"}),m]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"email",children:"Email Address"}),i.jsx(fe,{id:"email",type:"email",value:n.email,onChange:$=>A($.target.value),placeholder:"Enter email address",className:b?"border-red-500":""}),x&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Checking email address..."}),b&&i.jsxs("p",{className:"text-sm mt-1 flex items-center",style:{color:"#ff2400"},children:[i.jsx(Or,{className:"h-4 w-4 mr-1"}),b]})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Business Terms"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"commission_type",children:"Commission Type"}),i.jsxs(lt,{value:n.commission_type,onValueChange:$=>a(C=>({...C,commission_type:$})),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select commission type"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"percentage",children:"Percentage"}),i.jsx(ye,{value:"flat",children:"Flat Rate"})]})]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"commission_rate",children:"Commission Rate (%)"}),i.jsx(fe,{id:"commission_rate",type:"number",step:"0.1",min:"0",max:"100",value:n.commission_rate,onChange:$=>a(C=>({...C,commission_rate:$.target.value})),placeholder:"10"})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"commission_value",children:"Commission Value"}),i.jsx(fe,{id:"commission_value",type:"number",step:"0.01",min:"0",value:n.commission_value,onChange:$=>a(C=>({...C,commission_value:$.target.value})),placeholder:"0"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Performance Metrics"}),i.jsx("div",{className:"space-y-3",children:E?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(re,{children:"Total Candidates"}),i.jsx(fe,{value:n.total_candidates,readOnly:!0,className:"bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Successful Placements"}),i.jsx(fe,{value:n.successful_placements,readOnly:!0,className:"bg-gray-100"})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Performance metrics will be calculated automatically based on candidate placements."})})]})]})})}),i.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-t bg-gray-50 flex justify-end gap-3",children:[i.jsx(K,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),i.jsx(K,{onClick:D,disabled:u,className:"flex items-center",children:u?i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}),E?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cn,{className:"h-4 w-4 mr-2"}),E?"Update Agent":"Create Agent"]})})]})]})},Y7=({agent:e,formatCurrency:t,calculateSuccessRate:r})=>{const n=parseFloat(r(e)),a=(l=>{const u=l.successful_placements||0,d=l.commission_rate||0;return u*2e6*d})(e),o=(l=>l>=80?{label:"Excellent",color:"bg-green-100 text-green-800 border-green-200"}:l>=60?{label:"Good",color:"bg-blue-100 text-blue-800 border-blue-200"}:l>=40?{label:"Average",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}:l>=20?{label:"Developing",color:"bg-orange-100 text-orange-800 border-orange-200"}:{label:"New Agent",color:"bg-gray-100 text-gray-800 border-gray-200"})(n);return i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-4 border border-blue-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Ft,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?.agency_name||"Unknown Agency"}),i.jsxs("p",{className:"text-gray-600 font-mono text-xs bg-white px-2 py-1 rounded-full inline-block",children:["ID: ",e?.agency_id||"N/A"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ce,{className:`px-2 py-1 text-xs font-medium border ${o.color}`,children:o.label}),i.jsx(Ce,{className:`px-2 py-1 text-xs font-medium ${e.is_active?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:e.is_active?" Active":" Inactive"})]})]})}),i.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[i.jsxs("div",{className:"col-span-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm border",children:[i.jsx("div",{className:"text-xl font-bold text-blue-600",children:e.total_candidates||0}),i.jsx("div",{className:"text-xs text-gray-600",children:"Total Candidates"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm border",children:[i.jsx("div",{className:"text-xl font-bold text-green-600",children:e.successful_placements||0}),i.jsx("div",{className:"text-xs text-gray-600",children:"Successful"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm border",children:[i.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[n.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Success Rate"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm border",children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:t(a)}),i.jsx("div",{className:"text-xs text-gray-600",children:"Total Earnings"})]})]}),i.jsxs(ie,{className:"shadow-sm border-0 bg-white",children:[i.jsx(Ne,{className:"pb-2 bg-gray-50 rounded-t-lg",children:i.jsxs(_e,{className:"text-sm flex items-center gap-2 text-gray-800",children:[i.jsx(Lc,{className:"h-4 w-4 text-blue-600"}),"Contact & Location"]})}),i.jsxs(se,{className:"p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Lc,{className:"h-3 w-3 text-gray-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),i.jsx("div",{className:"font-medium text-gray-900 text-xs",children:e?.email||"Not provided"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(GE,{className:"h-3 w-3 text-gray-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Phone"}),i.jsx("div",{className:"font-medium text-gray-900 text-xs",children:e?.phone||"Not provided"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Zh,{className:"h-3 w-3 text-gray-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Country"}),i.jsx("div",{className:"font-medium text-gray-900 text-xs",children:e?.agency_country||"Not specified"})]})]})]})]})]}),i.jsx("div",{className:"col-span-4",children:i.jsxs(ie,{className:"shadow-sm border-0 bg-white h-full",children:[i.jsx(Ne,{className:"pb-2 bg-gray-50 rounded-t-lg",children:i.jsxs(_e,{className:"text-sm flex items-center gap-2 text-gray-800",children:[i.jsx(cr,{className:"h-4 w-4 text-green-600"}),"Financial Details"]})}),i.jsxs(se,{className:"p-3 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg border border-green-100",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Commission Rate"}),i.jsxs("div",{className:"text-lg font-bold text-green-700",children:[((e?.commission_rate||0)*100).toFixed(1),"%"]})]}),i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(cr,{className:"h-4 w-4 text-green-600"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg border border-blue-100",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Total Earned"}),i.jsx("div",{className:"text-lg font-bold text-blue-700",children:t(a)})]}),i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Ar,{className:"h-4 w-4 text-blue-600"})})]}),i.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Average per placement"}),i.jsx("div",{className:"text-sm font-semibold text-gray-800",children:e.successful_placements?t(a/e.successful_placements):t(0)})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Joined:"}),i.jsx("p",{className:"font-medium",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Updated:"}),i.jsx("p",{className:"font-medium",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():"N/A"})]})]})})]})]})}),i.jsx("div",{className:"col-span-4",children:i.jsxs(ie,{className:"shadow-sm border-0 bg-white h-full",children:[i.jsx(Ne,{className:"pb-2 bg-gray-50 rounded-t-lg",children:i.jsxs(_e,{className:"text-sm flex items-center gap-2 text-gray-800",children:[i.jsx(gr,{className:"h-4 w-4 text-purple-600"}),"Performance Analytics"]})}),i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Ft,{className:"h-6 w-6 text-blue-600"})}),i.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.total_candidates||0}),i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Total Candidates"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[(e.total_candidates||0)-(e.successful_placements||0)," in process"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(gr,{className:"h-6 w-6 text-green-600"})}),i.jsx("div",{className:"text-lg font-bold text-green-600",children:e.successful_placements||0}),i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Successful Placements"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[n.toFixed(1),"% success rate"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(cr,{className:"h-6 w-6 text-purple-600"})}),i.jsx("div",{className:"text-sm font-bold text-purple-600",children:t(a)}),i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Total Earnings"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[((e?.commission_rate||0)*100).toFixed(1),"% commission"]})]})]})})]})})]})]})},J7=({data:e,columns:t,sortField:r,sortDirection:n,onSort:a,loading:s=!1})=>{const o=c=>{if(!a)return;let u="asc";r===c&&n==="asc"&&(u="desc"),a(c,u)},l=c=>r!==c?i.jsx(o5,{className:"h-4 w-4 text-gray-400"}):n==="asc"?i.jsx(UE,{className:"h-4 w-4 text-blue-600"}):i.jsx(D0,{className:"h-4 w-4 text-blue-600"});return s?i.jsx("div",{className:"w-full",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),[...Array(5)].map((c,u)=>i.jsx("div",{className:"h-16 bg-gray-100 rounded mb-2"},u))]})}):i.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-gray-200 bg-white shadow",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsx("tr",{children:t.map(c=>i.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${c.sortable?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>c.sortable&&o(c.key),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:c.header}),c.sortable&&l(c.key)]})},c.key))})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:t.length,className:"px-6 py-12 text-center text-gray-500",children:"No data available"})}):e.map((c,u)=>i.jsx("tr",{className:"hover:bg-gray-50",children:t.map(d=>i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.render?d.render(c[d.key],c):i.jsx("span",{className:"text-sm text-gray-900",children:c[d.key]})},d.key))},c.id||u))})]})})})},Q7=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState(!0),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[h,m]=w.useState(""),[v,y]=w.useState("company_name"),[p,b]=w.useState("asc"),[g,x]=w.useState(null),[_,j]=w.useState(!1),S=["Domestic Helper","Nanny","Caregiver","Driver","Cook","Cleaner","Security Guard","Construction Worker","Factory Worker"],N=["Monthly","Bi-weekly","Weekly","Upon Completion","Custom"];w.useEffect(()=>{k()},[]);const k=async()=>{try{s(!0);const $=await Te.getEmployers();t($.employers||[])}catch($){console.error("Error fetching employers:",$),me.error("Failed to load employers")}finally{s(!1)}},A=async $=>{try{await Te.createEmployer($),await k(),l(!1),me.success("Employer created successfully")}catch(C){console.error("Error creating employer:",C),me.error("Failed to create employer")}},O=async($,C)=>{try{await Te.updateEmployer($,C),await k(),l(!1),f(null),me.success("Employer updated successfully")}catch(M){console.error("Error updating employer:",M),me.error("Failed to update employer")}},P=async $=>{if(window.confirm("Are you sure you want to delete this employer?"))try{await Te.deleteEmployer($),await k(),me.success("Employer deleted successfully")}catch(C){console.error("Error deleting employer:",C),me.error("Failed to delete employer")}},T=$=>{f($),u(!0)},z=$=>{f($),l(!0)},E=()=>e.filter(C=>C.company_name.toLowerCase().includes(h.toLowerCase())||C.country.toLowerCase().includes(h.toLowerCase())||C.contact_person.toLowerCase().includes(h.toLowerCase())||C.email.toLowerCase().includes(h.toLowerCase())).sort((C,M)=>{const q=C[v],Z=M[v];return typeof q=="string"&&typeof Z=="string"?p==="asc"?q.localeCompare(Z):Z.localeCompare(q):typeof q=="number"&&typeof Z=="number"?p==="asc"?q-Z:Z-q:0}),D=[...[{key:"company_name",header:"Company Name",sortable:!0,render:($,C)=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:$}),i.jsx("span",{className:"text-xs text-gray-500",children:C.license_number})]})},{key:"country",header:"Country",sortable:!0},{key:"contact_person",header:"Contact Person",sortable:!0},{key:"email",header:"Email",sortable:!0},{key:"phone",header:"Phone",sortable:!1},{key:"payment_type",header:"Payment Type",sortable:!0,render:$=>i.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:$?.replace("_"," ").toUpperCase()||"N/A"})},{key:"is_active",header:"Status",sortable:!0,render:$=>i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${$?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:$?"Active":"Inactive"})}],{key:"actions",header:"Actions",sortable:!1,render:($,C)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>T(C),className:"text-blue-600 hover:text-blue-800",children:i.jsx(Ln,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>z(C),className:"text-yellow-600 hover:text-yellow-800",children:i.jsx(ep,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>P(C.id),className:"text-red-600 hover:text-red-800",children:i.jsx(fs,{className:"h-4 w-4"})})]})}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Employers Management"}),i.jsxs(K,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[i.jsx(ii,{className:"h-4 w-4"}),"Add New Employer"]})]}),i.jsx("div",{className:"mb-4",children:i.jsx(fe,{placeholder:"Search employers...",value:h,onChange:$=>m($.target.value),className:"max-w-sm"})}),i.jsx(J7,{data:E(),columns:D,sortField:v,sortDirection:p,onSort:($,C)=>{y($),b(C)},loading:a}),o&&i.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:i.jsx(Z7,{employer:d,onSave:d?async $=>{await O(d.id,$)}:A,onCancel:()=>{l(!1),f(null)},availablePositions:S,paymentTerms:N})}),c&&d&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:i.jsx(e9,{employer:d,onClose:()=>{u(!1),f(null)}})})})]})},Z7=({employer:e,onSave:t,onCancel:r,availablePositions:n,paymentTerms:a})=>{const[s,o]=w.useState({company_name:e?.company_name||"",contact_person:e?.contact_person||"",phone:e?.phone||"",email:e?.email||"",country:e?.country||"",license_number:e?.license_number||"",payment_type:e?.payment_type||"employer_funded",logo_url:e?.logo_url||"",is_active:e?.is_active||!0}),[l,c]=w.useState({}),[u,d]=w.useState(!1),f=(v,y)=>{o(v==="is_active"?p=>({...p,is_active:y==="true"}):p=>({...p,[v]:y})),l[v]&&c(p=>({...p,[v]:void 0}))},h=()=>{const v={};return s.company_name.trim()||(v.company_name="Company name is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(v.email="Email is invalid"):v.email="Email is required",s.contact_person.trim()||(v.contact="Contact person is required"),s.phone.trim()||(v.phone="Phone number is required"),s.license_number.trim()||(v.license_number="License number is required"),c(v),Object.keys(v).length===0},m=async v=>{if(v.preventDefault(),!h()){me.error("Please fix the validation errors");return}d(!0);try{await t(s)}finally{d(!1)}};return i.jsxs("div",{className:"h-screen flex flex-col",children:[i.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b bg-background",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:e?"Edit Employer":"Create New Employer"}),i.jsx("p",{className:"text-muted-foreground",children:e?"Update employer information and partnership details.":"Add a new receiving company to your network."})]}),i.jsx(K,{variant:"ghost",onClick:r,className:"p-2",children:i.jsx(gn,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Company Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"company_name",children:"Company Name *"}),i.jsx(fe,{id:"company_name",value:s.company_name,onChange:v=>f("company_name",v.target.value),placeholder:"Enter company name"}),l.company_name&&i.jsx("p",{className:"text-sm text-destructive",children:l.company_name})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"country",children:"Country"}),i.jsx(fe,{id:"country",value:s.country,onChange:v=>f("country",v.target.value),placeholder:"Enter country"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"license_number",children:"License Number *"}),i.jsx(fe,{id:"license_number",value:s.license_number,onChange:v=>f("license_number",v.target.value),placeholder:"Enter license number",required:!0})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Switch,{id:"is_active",checked:s.is_active,onCheckedChange:v=>f("is_active",v)}),i.jsx(re,{htmlFor:"is_active",children:"Active Status"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h4",{className:"font-semibold mb-4 text-blue-700",children:"Contact Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"contact_person",children:"Contact Person *"}),i.jsx(fe,{id:"contact_person",value:s.contact_person,onChange:v=>f("contact_person",v.target.value),placeholder:"Primary contact name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"email",children:"Email Address *"}),i.jsx(fe,{id:"email",type:"email",value:s.email,onChange:v=>handleEmailChange(v.target.value),placeholder:"Enter email address",className:emailWarning?"border-red-500":""}),checkingEmail&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Checking email address..."}),emailWarning&&i.jsxs("p",{className:"text-sm mt-1 flex items-center text-red-600",children:[i.jsx(Or,{className:"h-4 w-4 mr-1"}),emailWarning]}),l.email&&i.jsx("p",{className:"text-sm text-destructive",children:l.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"phone",children:"Phone Number *"}),i.jsx(fe,{id:"phone",value:s.phone,onChange:v=>f("phone",v.target.value),placeholder:"Enter phone number"})]}),l.contact&&i.jsx("p",{className:"text-sm text-destructive",children:l.contact})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[i.jsx("h4",{className:"font-semibold mb-4 text-green-700",children:"Payment Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"payment_type",children:"Payment Type *"}),i.jsxs(lt,{value:s.payment_type,onValueChange:v=>f("payment_type",v),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select payment type"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"employer_funded",children:"Employer Funded"}),i.jsx(ye,{value:"candidate_funded",children:"Candidate Funded"}),i.jsx(ye,{value:"hybrid",children:"Hybrid"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"logo_upload",children:"Company Logo"}),i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx(fe,{id:"logo_upload",type:"file",accept:"image/*",onChange:v=>{const y=v.target.files?.[0];if(y){const p=URL.createObjectURL(y);f("logo_url",p)}},className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),s.logo_url&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:s.logo_url,alt:"Company Logo Preview",className:"w-16 h-16 object-cover rounded border",onError:v=>{v.currentTarget.style.display="none"}}),i.jsx("button",{type:"button",onClick:()=>f("logo_url",""),className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]})]})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[i.jsx("h4",{className:"font-semibold mb-4 text-yellow-700",children:"Status Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-white rounded border",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Company Status"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Switch,{id:"is_active_display",checked:s.is_active,onCheckedChange:v=>f("is_active",v)}),i.jsx(re,{htmlFor:"is_active_display",children:s.is_active?"Active Company":"Inactive Company"})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded border border-blue-200",children:[i.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Payment Information"}),i.jsxs("p",{className:"text-sm text-blue-600",children:["Payment Type: ",i.jsx("span",{className:"font-medium",children:s.payment_type.replace("_"," ").toUpperCase()})]})]})]})]})]}),i.jsxs("div",{className:"col-span-2 px-6 py-4 border-t bg-gray-50 flex justify-end gap-3 mt-6",children:[i.jsx(K,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),i.jsx(K,{type:"submit",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cn,{className:"mr-2 h-4 w-4"}),e?"Update Employer":"Create Employer"]})})]})]})})]})},e9=({employer:e,onClose:t})=>{const r=()=>{window.print()};return i.jsxs("div",{className:"bg-white print-container",children:[i.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print-container, .print-container * {
            visibility: visible;
          }
          .print-container {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .print-hidden {
            display: none !important;
          }
          .bg-white {
            background: white !important;
          }
          .text-gray-900 { color: #111827 !important; }
          .text-gray-700 { color: #374151 !important; }
          .text-gray-600 { color: #4b5563 !important; }
          .text-gray-500 { color: #6b7280 !important; }
          .text-green-600 { color: #059669 !important; }
          .text-red-600 { color: #dc2626 !important; }
          .text-blue-800 { color: #1e40af !important; }
          .bg-gray-100 { background-color: #f3f4f6 !important; }
          .bg-gray-50 { background-color: #f9fafb !important; }
          .bg-blue-100 { background-color: #dbeafe !important; }
          .border-b { border-bottom: 1px solid #e5e7eb !important; }
          .border-t { border-top: 1px solid #e5e7eb !important; }
        }
      `}),i.jsxs("div",{className:"flex justify-between items-center p-6 border-b print-hidden",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Employer Bio Data"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{onClick:r,className:"flex items-center gap-2",children:[i.jsx(Printer,{className:"h-4 w-4"}),"Print"]}),i.jsx(K,{variant:"outline",onClick:t,children:i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{id:"employer-bio-content",className:"p-8 space-y-8",children:[i.jsxs("div",{className:"text-center border-b pb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[e.logo_url&&i.jsx("img",{src:e.logo_url,alt:"Company Logo",className:"h-16 w-16 object-cover rounded-lg border"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.company_name}),i.jsx("p",{className:"text-lg text-gray-600",children:e.license_number})]})]}),i.jsx("div",{className:"flex items-center justify-center gap-2",children:e.is_active?i.jsxs(i.Fragment,{children:[i.jsx(CheckCircle,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-600 font-medium",children:"Active Company"})]}):i.jsxs(i.Fragment,{children:[i.jsx(XCircle,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"text-red-600 font-medium",children:"Inactive Company"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(User,{className:"h-6 w-6 text-blue-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Contact Information"})]}),i.jsxs("div",{className:"space-y-4 pl-9",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(User,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Contact Person"}),i.jsx("p",{className:"text-gray-900",children:e.contact_person})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Mail,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Email Address"}),i.jsx("p",{className:"text-gray-900",children:e.email})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Phone,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Phone Number"}),i.jsx("p",{className:"text-gray-900",children:e.phone})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Zh,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Country"}),i.jsx("p",{className:"text-gray-900",children:e.country})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Hd,{className:"h-6 w-6 text-green-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Business Information"})]}),i.jsxs("div",{className:"space-y-4 pl-9",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(FileText,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"License Number"}),i.jsx("p",{className:"text-gray-900 font-mono bg-gray-100 px-2 py-1 rounded",children:e.license_number})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(CreditCard,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Payment Type"}),i.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e.payment_type?.replace("_"," ").toUpperCase()||"N/A"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ic,{className:"h-5 w-5 text-gray-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Registration Date"}),i.jsx("p",{className:"text-gray-900",children:new Date(e.created_at||"").toLocaleDateString()})]})]})]})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(FileText,{className:"h-6 w-6 text-purple-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Additional Information"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pl-9",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Company Status"}),i.jsx("div",{className:"flex items-center gap-2",children:e.is_active?i.jsxs(i.Fragment,{children:[i.jsx(CheckCircle,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-green-600",children:"Active"})]}):i.jsxs(i.Fragment,{children:[i.jsx(XCircle,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-red-600",children:"Inactive"})]})})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Payment Model"}),i.jsx("p",{className:"text-gray-900",children:e.payment_type?.replace("_"," ")||"Not specified"})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Company ID"}),i.jsx("p",{className:"text-gray-900 font-mono text-sm",children:e.id})]})]})]}),i.jsxs("div",{className:"border-t pt-6 text-center text-gray-500 text-sm",children:[i.jsxs("p",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),i.jsx("p",{className:"mt-1",children:"Recruitment Management System - Employer Bio Data"})]})]})]})},t9=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState(""),[o,l]=w.useState(!0),[c,u]=w.useState(null),[d,f]=w.useState(null),[h,m]=w.useState(!1),[v,y]=w.useState(!1),[p,b]=w.useState(!1),[g,x]=w.useState("all"),[_,j]=w.useState("date"),[S,N]=w.useState("desc");w.useEffect(()=>{k(),A()},[]);const k=async()=>{try{l(!0),u(null);const J=await Te.getFinancials();t(J.financials||[])}catch(J){console.error("Failed to fetch financials:",J),u("Failed to load financial data"),me.error("Failed to load financial data")}finally{l(!1)}},A=async()=>{try{const J=await Te.getCandidates();n(J.candidates||[])}catch(J){console.error("Failed to fetch candidates:",J)}},O=async J=>{try{const ne=await Te.createFinancialRecord(J);t(H=>[...H,ne.financial]),m(!1),me.success("Financial record created successfully"),await k()}catch(ne){console.error("Failed to create financial record:",ne),me.error("Failed to create financial record")}},P=async(J,ne)=>{try{const H=await Te.updateFinancialRecord(J,ne);t(I=>I.map(F=>F.id===J?H.financial:F)),y(!1),f(null),me.success("Financial record updated successfully"),await k()}catch(H){console.error("Failed to update financial record:",H),me.error("Failed to update financial record")}},T=async J=>{try{await Te.deleteFinancialRecord(J),t(ne=>ne.filter(H=>H.id!==J)),me.success("Financial record deleted successfully")}catch(ne){console.error("Failed to delete financial record:",ne),me.error("Failed to delete financial record")}},z=J=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(J),E=J=>({service_fee:i.jsx(Pv,{className:"h-4 w-4 text-blue-600"}),employer_fee:i.jsx(K3,{className:"h-4 w-4 text-green-600"}),agent_commission:i.jsx(Z_,{className:"h-4 w-4 text-purple-600"}),refund:i.jsx(Q_,{className:"h-4 w-4 text-orange-600"})})[J]||i.jsx(cr,{className:"h-4 w-4 text-gray-600"}),R=J=>{const ne={completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800"};return ne[J]||ne.pending},D=J=>({service_fee:"Service Fee",employer_fee:"Employer Fee",agent_commission:"Agent Commission",refund:"Refund Payment"})[J]||J,$=e.filter(J=>J.type==="employer_fee"&&J.status==="completed").reduce((J,ne)=>J+ne.amount,0),C=e.filter(J=>J.type==="service_fee"&&J.status==="completed").reduce((J,ne)=>J+ne.amount,0),M=e.filter(J=>J.type==="agent_commission"&&J.status==="completed").reduce((J,ne)=>J+ne.amount,0),q=e.filter(J=>J.type==="refund"&&J.status==="completed").reduce((J,ne)=>J+ne.amount,0),Z=e.filter(J=>J.status==="pending").reduce((J,ne)=>J+ne.amount,0),te=()=>e.filter(ne=>{const H=ne.candidate_name?.toLowerCase().includes(a.toLowerCase())||ne.description?.toLowerCase().includes(a.toLowerCase())||ne.id?.toLowerCase().includes(a.toLowerCase()),I=g==="all"||ne.type===g;return H&&I}).sort((ne,H)=>{let I=ne[_],F=H[_];return _==="date"?(I=new Date(I||0),F=new Date(F||0)):_==="amount"&&(I=parseFloat(I||0),F=parseFloat(F||0)),S==="asc"?I>F?1:-1:I<F?1:-1}),ce=(J,ne)=>{j(J),N(ne)};if(o)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($e,{className:"h-5 w-5 animate-spin text-primary"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading financial data..."})]})})})});if(c)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{className:"border-destructive",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{className:"text-destructive",children:c})]}),i.jsx(K,{onClick:k,variant:"outline",children:"Retry"})]})})})});const pe=te();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Financial Management"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track revenue, commissions, and financial transactions"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:k,children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Export"]}),i.jsxs(na,{open:h,onOpenChange:m,children:[i.jsx(NO,{asChild:!0,children:i.jsxs(K,{children:[i.jsx(ii,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})}),i.jsx(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:i.jsx(Gj,{financial:null,onSubmit:O,candidates:r})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),i.jsx("p",{className:"text-2xl font-semibold text-green-600",children:z($)})]}),i.jsx(Ar,{className:"h-5 w-5 text-green-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Service Fees"}),i.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:z(C)})]}),i.jsx(Pv,{className:"h-5 w-5 text-blue-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Commissions"}),i.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:z(M)})]}),i.jsx(Z_,{className:"h-5 w-5 text-purple-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Refunds"}),i.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:z(q)})]}),i.jsx(Q_,{className:"h-5 w-5 text-orange-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),i.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:z(Z)})]}),i.jsx(Qi,{className:"h-5 w-5 text-yellow-600"})]})})})]}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(fe,{placeholder:"Search by candidate, description, or transaction ID...",value:a,onChange:J=>s(J.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(lt,{value:g,onValueChange:x,children:[i.jsxs(ut,{className:"w-[180px]",children:[i.jsx(L0,{className:"h-4 w-4 mr-2"}),i.jsx(ct,{})]}),i.jsxs(dt,{children:[i.jsx(ye,{value:"all",children:"All Types"}),i.jsx(ye,{value:"service_fee",children:"Service Fees"}),i.jsx(ye,{value:"employer_fee",children:"Employer Fees"}),i.jsx(ye,{value:"agent_commission",children:"Commissions"}),i.jsx(ye,{value:"refund",children:"Refunds"})]})]}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(_e,{className:"flex items-center justify-between",children:["Financial Transactions (",pe.length,")",i.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:["Showing ",pe.length," of ",e.length," transactions"]})]})}),i.jsx(se,{children:i.jsx(Lu,{data:pe,loading:o,sortField:_,sortDirection:S,onSort:ce,onRowClick:J=>{f(J),b(!0)},columns:[{key:"id",header:"Transaction",render:(J,ne)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[E(ne.type),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["#",ne.id]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:ne.description})]})]})},{key:"candidate_name",header:"Candidate",render:(J,ne)=>i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ne.candidate_name||"N/A"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",ne.candidate_id||"N/A"]})]})},{key:"type",header:"Type",render:(J,ne)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[E(ne.type),i.jsx("span",{children:D(ne.type)})]})},{key:"amount",header:"Amount",sortable:!0,render:(J,ne)=>i.jsxs("div",{className:`font-semibold ${ne.type==="refund"||ne.type==="agent_commission"?"text-red-600":"text-green-600"}`,children:[ne.type==="refund"||ne.type==="agent_commission"?"-":"+",z(ne.amount)]})},{key:"status",header:"Status",render:(J,ne)=>i.jsx(Ce,{className:R(ne.status),children:ne.status})},{key:"date",header:"Date",sortable:!0,render:J=>i.jsx("div",{className:"text-sm text-muted-foreground",children:J?new Date(J).toLocaleDateString():"N/A"})},{key:"actions",header:"Actions",sortable:!1,render:(J,ne)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:H=>{H.stopPropagation(),f(ne),b(!0)},children:i.jsx(Ln,{className:"h-4 w-4"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:H=>{H.stopPropagation(),f(ne),y(!0)},children:i.jsx(F0,{className:"h-4 w-4"})}),i.jsxs(FO,{children:[i.jsx(UO,{asChild:!0,children:i.jsx(K,{variant:"ghost",size:"sm",onClick:H=>H.stopPropagation(),children:i.jsx(fs,{className:"h-4 w-4"})})}),i.jsxs(BO,{children:[i.jsxs(zO,{children:[i.jsx(VO,{children:"Delete Transaction"}),i.jsx(qO,{children:"Are you sure you want to delete this financial transaction? This action cannot be undone."})]}),i.jsxs(WO,{children:[i.jsx(GO,{children:"Cancel"}),i.jsx(HO,{onClick:()=>T(ne.id),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]})}]})})]}),i.jsx(na,{open:v,onOpenChange:y,children:i.jsx(aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:d&&i.jsx(Gj,{financial:d,onSubmit:J=>P(d.id,J),candidates:r,isEdit:!0})})}),i.jsx(na,{open:p,onOpenChange:b,children:i.jsx(aa,{className:"max-w-2xl",children:d&&i.jsx(r9,{financial:d,formatCurrency:z})})})]})},Gj=({financial:e,onSubmit:t,candidates:r,isEdit:n=!1})=>{const[a,s]=w.useState({candidate_id:e?.candidate_id||"",type:e?.type||"",amount:e?.amount?.toString()||"",currency:e?.currency||"UGX",status:e?.status||"pending",date:e?.date||new Date().toISOString().split("T")[0],description:e?.description||"",notes:e?.notes||""}),[o,l]=w.useState({}),[c,u]=w.useState(!1),d=[{value:"service_fee",label:"Service Fee"},{value:"employer_fee",label:"Employer Fee"},{value:"agent_commission",label:"Agent Commission"},{value:"refund",label:"Refund Payment"}],f=[{value:"UGX",label:"Uganda Shilling (UGX)"},{value:"USD",label:"US Dollar (USD)"},{value:"AED",label:"UAE Dirham (AED)"},{value:"SAR",label:"Saudi Riyal (SAR)"},{value:"QAR",label:"Qatari Riyal (QAR)"}],h=[{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"processing",label:"Processing"},{value:"overdue",label:"Overdue"}],m=()=>{const p={};return a.candidate_id||(p.candidate_id="Candidate is required"),a.type||(p.type="Transaction type is required"),(!a.amount||parseFloat(a.amount.toString())<=0)&&(p.amount="Valid amount is required"),l(p),Object.keys(p).length===0},v=async p=>{if(p.preventDefault(),u(!0),!m()){u(!1);return}try{const g={...a,amount:parseFloat(a.amount)};await t(g)}catch(g){console.error("Form submission error:",g)}finally{u(!1)}},y=(p,b)=>{s(g=>({...g,[p]:b})),o[p]&&l(g=>({...g,[p]:null}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ps,{children:[i.jsx(ms,{children:n?"Edit Financial Transaction":"Add New Financial Transaction"}),i.jsx(Iu,{children:n?"Update transaction information":"Record a new financial transaction in the system"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"type",children:"Transaction Type *"}),i.jsxs(lt,{value:a.type,onValueChange:p=>y("type",p),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select transaction type"})}),i.jsx(dt,{children:d.map(p=>i.jsx(ye,{value:p.value,children:p.label},p.value))})]}),o.type&&i.jsx("p",{className:"text-sm text-destructive",children:o.type})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"amount",children:"Amount *"}),i.jsx(fe,{id:"amount",type:"number",min:"0",step:"0.01",value:a.amount,onChange:p=>y("amount",p.target.value),placeholder:"0.00"}),o.amount&&i.jsx("p",{className:"text-sm text-destructive",children:o.amount})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"currency",children:"Currency"}),i.jsxs(lt,{value:a.currency,onValueChange:p=>y("currency",p),children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsx(dt,{children:f.map(p=>i.jsx(ye,{value:p.value,children:p.label},p.value))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"status",children:"Status"}),i.jsxs(lt,{value:a.status,onValueChange:p=>y("status",p),children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsx(dt,{children:h.map(p=>i.jsx(ye,{value:p.value,children:p.label},p.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"date",children:"Date"}),i.jsx(fe,{id:"date",type:"date",value:a.date,onChange:p=>y("date",p.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"description",children:"Description"}),i.jsx(fe,{id:"description",value:a.description,onChange:p=>y("description",p.target.value),placeholder:"Brief description of the transaction"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"notes",children:"Additional Notes"}),i.jsx(Du,{id:"notes",value:a.notes,onChange:p=>y("notes",p.target.value),placeholder:"Additional notes or comments",rows:3})]}),i.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:i.jsx(K,{type:"submit",disabled:c,className:"flex items-center",children:c?i.jsxs(i.Fragment,{children:[i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}),n?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cn,{className:"h-4 w-4 mr-2"}),n?"Update Transaction":"Create Transaction"]})})})]})]})},r9=({financial:e,formatCurrency:t})=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ps,{children:[i.jsxs(ms,{className:"flex items-center justify-between",children:["Transaction #",e.id,i.jsx(Ce,{className:e.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:e.status})]}),i.jsx(Iu,{children:"Complete information about this financial transaction"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsx(_e,{className:"text-base",children:"Transaction Information"})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),i.jsx("span",{className:"font-medium",children:e.id})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Type:"}),i.jsx("span",{children:e.type.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),i.jsx("span",{className:"font-medium text-green-600",children:t(e.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Currency:"}),i.jsx("span",{children:e.currency})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Date:"}),i.jsx("span",{children:e.date})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx(Ce,{className:e.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:e.status})]})]})]}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsx(_e,{className:"text-base",children:"Related Information"})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Candidate:"}),i.jsx("span",{className:"font-medium",children:e.candidate_name||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Candidate ID:"}),i.jsx("span",{children:e.candidate_id||"N/A"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Description:"}),i.jsx("p",{className:"text-sm bg-muted p-2 rounded",children:e.description||"No description available"})]})]})]})]}),e.notes&&i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsx(_e,{className:"text-base",children:"Additional Notes"})}),i.jsx(se,{children:i.jsx("p",{className:"text-sm",children:e.notes})})]})]}),n9=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,s]=w.useState(null),[o,l]=w.useState("passport");w.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),s(null);const p=await Te.getCandidates(),b={passport:[],interview:[],medical:[],training:[],visa:[],deployment:[]};p.candidates?.forEach(g=>{const x=g.stage||"passport";b[x]&&b[x].push({id:g.id,name:g.full_name||g.name,position:g.position||"Not specified",application_date:g.created_at?.split("T")[0]||"Unknown",deployment_date:g.deployment_date,stage:g.stage})}),t(b)}catch(p){console.error("Failed to fetch process data:",p),s("Failed to load process tracking data")}finally{n(!1)}},u=[{id:"passport",name:"Passport Collection",description:"Collecting and verifying passport documents",icon:qt,color:"bg-blue-50 border-blue-200 text-blue-700",iconColor:"text-blue-600"},{id:"interview",name:"Interview",description:"Candidate interview and assessment",icon:Ft,color:"bg-purple-50 border-purple-200 text-purple-700",iconColor:"text-purple-600"},{id:"medical",name:"Medical Examination",description:"Medical checkup and health verification",icon:dF,color:"bg-yellow-50 border-yellow-200 text-yellow-700",iconColor:"text-yellow-600"},{id:"training",name:"Training",description:"Skills training and preparation",icon:A5,color:"bg-orange-50 border-orange-200 text-orange-700",iconColor:"text-orange-600"},{id:"visa",name:"Visa Processing",description:"Visa application and processing",icon:Pv,color:"bg-indigo-50 border-indigo-200 text-indigo-700",iconColor:"text-indigo-600"},{id:"deployment",name:"Deployment",description:"Final deployment and travel arrangements",icon:X5,color:"bg-green-50 border-green-200 text-green-700",iconColor:"text-green-600"}],d=()=>e?Object.values(e).reduce((p,b)=>p+(b?.length||0),0):0,f=p=>{const b=d();if(b===0)return 0;const g=e[p]?.length||0;return Math.round(g/b*100)},h=()=>"52 days",m=()=>{if(!e)return null;let p=0,b=null;return Object.entries(e).forEach(([g,x])=>{g!=="deployed"&&(x?.length||0)>p&&(p=x?.length||0,b=u.find(_=>_.id===g))}),b};if(r)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($e,{className:"h-5 w-5 animate-spin text-primary"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading process data..."})]})})})});if(a)return i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{className:"border-destructive",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{className:"text-destructive",children:a})]}),i.jsx(K,{onClick:c,variant:"outline",children:"Retry"})]})})})});const v=m(),y=d();return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(_e,{className:"text-2xl",children:"Process Tracking"}),i.jsx(Fe,{className:"mt-1",children:"Monitor candidate flow through the recruitment pipeline"})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:c,children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total in Pipeline"}),i.jsx("p",{className:"text-2xl font-semibold",children:y})]}),i.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:i.jsx(Ft,{className:"h-5 w-5 text-blue-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Successfully Deployed"}),i.jsx("p",{className:"text-2xl font-semibold text-green-600",children:e?.deployed?.length||0})]}),i.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:i.jsx(gr,{className:"h-5 w-5 text-green-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Processing Time"}),i.jsx("p",{className:"text-2xl font-semibold",children:h()})]}),i.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:i.jsx(Qi,{className:"h-5 w-5 text-orange-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Current Bottleneck"}),i.jsx("p",{className:"text-lg font-semibold text-red-600",children:v?v.name:"None"})]}),i.jsx("div",{className:"bg-red-50 p-2 rounded-lg",children:i.jsx(Or,{className:"h-5 w-5 text-red-600"})})]})})})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Process Flow Pipeline"}),i.jsx(Fe,{children:"Visual representation of candidates moving through each stage"})]}),i.jsx(se,{className:"p-6",children:i.jsx("div",{className:"space-y-6",children:u.map((p,b)=>{const g=e[p.id]?.length||0,x=f(p.id),_=p.icon;return i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:`border-2 rounded-lg p-6 cursor-pointer transition-all duration-200 hover:shadow-md ${o===p.id?p.color+" border-current shadow-md":"bg-white border-gray-200 hover:border-gray-300"}`,onClick:()=>l(p.id),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full bg-white border-2 flex items-center justify-center ${o===p.id?"border-current":"border-gray-300"}`,children:i.jsx(_,{className:`h-6 w-6 ${o===p.id?p.iconColor:"text-gray-500"}`})}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${o===p.id?"text-current":"text-gray-900"}`,children:p.name}),i.jsx("p",{className:`text-sm ${o===p.id?"text-current opacity-80":"text-muted-foreground"}`,children:p.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${o===p.id?"text-current":"text-gray-900"}`,children:g}),i.jsx("div",{className:`text-xs ${o===p.id?"text-current opacity-70":"text-muted-foreground"}`,children:"candidates"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`text-xl font-semibold ${o===p.id?"text-current":"text-gray-700"}`,children:[x,"%"]}),i.jsx("div",{className:`text-xs ${o===p.id?"text-current opacity-70":"text-muted-foreground"}`,children:"of total"})]}),i.jsxs(K,{variant:"outline",size:"sm",className:o===p.id?"border-current":"",children:[i.jsx(Ln,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx(uc,{value:x,className:`h-2 ${o===p.id?"opacity-100":"opacity-50"}`})})]}),b<u.length-1&&i.jsx("div",{className:"flex justify-center py-2",children:i.jsx(Kl,{className:"h-5 w-5 text-muted-foreground"})})]},p.id)})})})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{children:[u.find(p=>p.id===o)?.name," Details"]}),i.jsx(Fe,{children:"Candidates currently in this stage"})]}),i.jsx(se,{children:i.jsx(a9,{stageId:o,candidates:e[o]||[]})})]})]})},a9=({stageId:e,candidates:t})=>{if(t.length===0)return i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-muted-foreground mb-2",children:"No candidates in this stage"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"All candidates have moved to the next stage or this stage is currently empty."})]});const r=n=>{switch(e){case"pre_registration":return{status:"Documentation collection in progress",nextStep:"Complete medical examination scheduling",timeInStage:"3 days"};case"medical_pending":return{status:"Medical examination scheduled",nextStep:"Complete health screening",timeInStage:"7 days"};case"training":return{status:"Skills training in progress",nextStep:"Complete certification program",timeInStage:"21 days"};case"visa_processing":return{status:"Visa application submitted",nextStep:"Await visa approval",timeInStage:"14 days"};case"deployment_ready":return{status:"Ready for deployment",nextStep:"Travel arrangements",timeInStage:"2 days"};case"deployed":return{status:"Successfully deployed",nextStep:"Follow-up and support",timeInStage:n.deployment_date?`Deployed on ${n.deployment_date}`:"Recently deployed"};default:return{status:"In progress",nextStep:"Processing",timeInStage:"Unknown"}}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.slice(0,12).map(n=>{const a=r(n);return i.jsx(ie,{className:"hover:shadow-md transition-shadow",children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:n.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",n.id]})]}),i.jsx(Ce,{variant:"outline",className:"text-xs",children:n.position})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium",children:a.status})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Time in stage:"}),i.jsx("span",{children:a.timeInStage})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-muted-foreground mb-1",children:"Next step:"}),i.jsx("div",{className:"text-sm font-medium text-primary",children:a.nextStep})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t",children:[i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(Ic,{className:"h-3 w-3 mr-1"}),"Applied: ",n.application_date]}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Ln,{className:"h-3 w-3 mr-1"}),"View"]})]})]})},n.id)})}),t.length>12&&i.jsx("div",{className:"text-center pt-4",children:i.jsxs(K,{variant:"outline",children:["View All ",t.length," Candidates"]})})]})},i9=e=>{if(!e||e.length===0)return[];const t=e[0],r=[];return Object.keys(t).forEach(n=>{const a=n.toLowerCase();if((a.includes("url")||a.includes("photo")||a.includes("image")||a.includes("document")||a.includes("file")||a.includes("attachment")||a.includes("media")||a.includes("avatar")||a.includes("picture")||a.includes("pic")||a.includes("pdf")||a.includes("doc")||a.includes("video")||a.includes("audio"))&&e.some(l=>{const c=l[n];return c&&typeof c=="string"&&c.trim()!==""})){let l="generic";a.includes("photo")||a.includes("image")||a.includes("avatar")||a.includes("picture")||a.includes("pic")?l="image":a.includes("pdf")||a.includes("doc")||a.includes("document")?l="document":a.includes("video")?l="video":a.includes("audio")&&(l="audio"),r.push({key:n,fileType:l,count:e.filter(c=>{const u=c[n];return u&&typeof u=="string"&&u.trim()!==""}).length})}}),r},s9=(e,t)=>{if(!e||e.length===0)return[];const r=e[0],n=[];return Object.keys(r).forEach(a=>{const s=t.find(o=>o.key===a);s?n.push({key:a,header:Kj(a),isFileColumn:!0,fileType:s.fileType,sortable:!1}):n.push({key:a,header:Kj(a),sortable:!0,render:(o,l)=>{if(o==null)return i.jsx("span",{className:"text-muted-foreground italic",children:"null"});if(typeof o=="boolean")return i.jsx(Ce,{variant:o?"default":"secondary",children:o?"true":"false"});if(typeof o=="object")return i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:JSON.stringify(o)});const c=String(o);return c.length>50?i.jsxs("span",{title:c,children:[c.substring(0,47),"..."]}):c}})}),n},Kj=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),cT=({data:e,title:t="Query Results",description:r,loading:n=!1,onRefresh:a,className:s})=>{const[o,l]=w.useState(""),[c,u]=w.useState("asc"),[d,f]=w.useState(!1),{mediaColumns:h,columns:m}=w.useMemo(()=>{const b=i9(e),g=s9(e,b);return{mediaColumns:b,columns:g}},[e]),v=w.useMemo(()=>!o||!e?e:[...e].sort((b,g)=>{let x=b[o],_=g[o];return x==null&&_==null?0:x==null?1:_==null?-1:(typeof x=="string"&&typeof _=="string"&&(x=x.toLowerCase(),_=_.toLowerCase()),c==="asc"?x>_?1:-1:x<_?1:-1)}),[e,o,c]),y=(b,g)=>{l(b),u(g)},p=h.reduce((b,g)=>b+g.count,0);return i.jsx("div",{className:`${d?"fixed inset-0 z-50 bg-white":""}`,children:i.jsxs(ie,{className:`${s} ${d?"h-full flex flex-col":""}`,children:[i.jsxs(Ne,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(_e,{className:"flex items-center gap-2",children:[i.jsx(Ja,{className:"h-5 w-5"}),t]}),r&&i.jsx(Fe,{className:"mt-1",children:r})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[p>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ce,{variant:"secondary",className:"gap-1",children:[i.jsx(Dn,{className:"h-3 w-3"}),p," files"]}),h.map(b=>i.jsxs(Ce,{variant:"outline",className:"text-xs",children:[b.count," ",b.fileType]},b.key))]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>f(!d),className:"gap-2",title:d?"Exit Full Screen":"Enter Full Screen",children:[d?i.jsx(HE,{className:"h-4 w-4"}):i.jsx(qE,{className:"h-4 w-4"}),d?"Exit":"Full Screen"]}),a&&i.jsxs(K,{variant:"outline",size:"sm",onClick:a,disabled:n,className:"gap-2",children:[i.jsx($e,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e?.length||0," records"]}),m.length>0&&i.jsxs("span",{children:[m.length," columns"]}),h.length>0&&i.jsxs("span",{children:[h.length," media columns"]})]})]}),i.jsx(se,{className:`${d?"flex-1 overflow-hidden":""}`,children:e&&e.length>0?i.jsx("div",{className:`overflow-auto ${d?"h-full":"max-w-full"}`,style:{maxHeight:d?"none":"70vh"},children:i.jsx("div",{className:"min-w-full",children:i.jsx(Lu,{data:v,columns:m,loading:n,sortField:o,sortDirection:c,onSort:y,onRowClick:b=>{console.log("Row clicked:",b)}})})}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx($e,{className:"h-4 w-4 animate-spin"}),"Loading data..."]}):"No data to display"})})]})})},o9=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(""),[a,s]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState("all"),[h,m]=w.useState(""),[v,y]=w.useState([]),[p,b]=w.useState(!1),[g,x]=w.useState(null),[_,j]=w.useState("management");w.useEffect(()=>{S(),m(`-- Query all documents (basic query)
SELECT 
  id,
  candidate_id,
  doc_type,
  doc_name,
  doc_url,
  file_size,
  mime_type,
  is_verified,
  uploaded_at,
  expiry_date,
  uploaded_by
FROM documents
ORDER BY uploaded_at DESC
LIMIT 50;`)},[]);const S=async()=>{try{s(!0);const[I,F]=await Promise.all([Te.getDocuments(),Te.getCandidates()]);t(I.documents||[]),T(F.candidates||[])}catch(I){console.error("Error fetching documents:",I),me.error("Failed to load documents")}finally{s(!1)}},N=async I=>{try{console.log("Starting verification for document ID:",I),s(!0);const F=await Te.verifyDocument(I,{verified_by:"current_user"});console.log("Verification result:",F),me.success("Document verified successfully"),await S()}catch(F){console.error("Error verifying document:",F),me.error(`Failed to verify document: ${F.message||"Unknown error"}`)}finally{s(!1)}},k=I=>{if(I.doc_url.startsWith("http")){const F=document.createElement("a");F.href=I.doc_url,F.download=I.doc_name,document.body.appendChild(F),F.click(),document.body.removeChild(F)}else me.error("Document download not available")},[A,O]=w.useState(null),[P,T]=w.useState([]),[z,E]=w.useState(null),R=({document:I})=>{const[F,B]=w.useState(!0),[G,V]=w.useState(null),[de,U]=w.useState(null);w.useEffect(()=>{B(!0),V(null),U(null);const ae=setTimeout(()=>B(!1),500);return()=>clearTimeout(ae)},[I]);const Y=()=>{if(F)return i.jsx("div",{className:"flex items-center justify-center h-96 bg-muted rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx($e,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading document..."})]})});if(G)return i.jsx("div",{className:"flex items-center justify-center h-96 bg-red-50 rounded-lg border border-red-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Or,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),i.jsx("p",{className:"text-red-700 font-medium",children:"Preview Error"}),i.jsx("p",{className:"text-red-600 text-sm",children:G})]})});const ae=I.mime_type?.toLowerCase()||"",xe=I.doc_name?.split(".").pop()?.toLowerCase()||"";if(ae.startsWith("image/")||["jpg","jpeg","png","gif","webp","svg"].includes(xe))return i.jsx("div",{className:"flex justify-center bg-gray-50 rounded-lg p-4",children:i.jsx("img",{src:I.doc_url,alt:I.doc_name,className:"max-w-full max-h-96 object-contain rounded-lg shadow-lg",onError:()=>V("Failed to load image")})});if(ae==="application/pdf"||xe==="pdf")return i.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[i.jsx("iframe",{src:`${I.doc_url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-96 border-0",title:I.doc_name,onError:()=>V("PDF preview not available")}),i.jsx("div",{className:"p-2 bg-gray-100 text-xs text-gray-600 text-center",children:"PDF Preview - Use browser controls to navigate"})]});if(ae.includes("word")||ae.includes("document")||["doc","docx"].includes(xe)){const Le=`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(I.doc_url)}`;return i.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[i.jsx("iframe",{src:Le,className:"w-full h-96 border-0",title:I.doc_name,onError:()=>V("Word document preview not available")}),i.jsx("div",{className:"p-2 bg-blue-100 text-xs text-blue-700 text-center",children:"Word Document Preview via Office Online"})]})}if(ae.includes("sheet")||ae.includes("excel")||["xls","xlsx","csv"].includes(xe)){const Le=`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(I.doc_url)}`;return i.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[i.jsx("iframe",{src:Le,className:"w-full h-96 border-0",title:I.doc_name,onError:()=>V("Spreadsheet preview not available")}),i.jsx("div",{className:"p-2 bg-green-100 text-xs text-green-700 text-center",children:"Spreadsheet Preview via Office Online"})]})}if(ae.includes("presentation")||["ppt","pptx"].includes(xe)){const Le=`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(I.doc_url)}`;return i.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[i.jsx("iframe",{src:Le,className:"w-full h-96 border-0",title:I.doc_name,onError:()=>V("Presentation preview not available")}),i.jsx("div",{className:"p-2 bg-purple-100 text-xs text-purple-700 text-center",children:"Presentation Preview via Office Online"})]})}return ae.startsWith("text/")||["txt","md","json","xml","csv"].includes(xe)?i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsx("div",{className:"bg-white rounded border p-4 font-mono text-sm max-h-96 overflow-auto",children:i.jsx("iframe",{src:I.doc_url,className:"w-full h-80 border-0",title:I.doc_name,onError:()=>V("Text file preview not available")})})}):i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-8 text-center border border-yellow-200",children:[i.jsx(qt,{className:"h-16 w-16 text-yellow-600 mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:I.doc_name}),i.jsxs("p",{className:"text-yellow-700 mb-4",children:["Preview not available for ",ae||xe.toUpperCase()," files"]}),i.jsxs("div",{className:"space-y-2 text-sm text-yellow-700",children:[i.jsxs("p",{children:["File Type: ",ae||"Unknown"]}),i.jsxs("p",{children:["Size: ",(I.file_size/1024).toFixed(1)," KB"]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:[i.jsx("p",{className:"text-blue-800 text-sm font-medium mb-2",children:"Alternative Options:"}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(K,{size:"sm",variant:"outline",onClick:()=>window.open(I.doc_url,"_blank"),children:[i.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Open Externally"]}),i.jsxs(K,{size:"sm",onClick:()=>k(I),children:[i.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})};return i.jsxs("div",{className:"space-y-4",children:[Y(),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Type:"}),i.jsx("p",{className:"text-gray-600",children:I.doc_type})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Size:"}),i.jsxs("p",{className:"text-gray-600",children:[(I.file_size/1024).toFixed(1)," KB"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Format:"}),i.jsx("p",{className:"text-gray-600",children:I.mime_type||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),i.jsx(Ce,{variant:I.is_verified?"default":"secondary",children:I.is_verified?"Verified":"Pending"})]})]})]})},D=async I=>{E(I),u(!0)},$=async I=>{if(confirm("Are you sure you want to delete this document?"))try{s(!0),await Te.deleteDocument(I),me.success("Document deleted successfully"),await S()}catch(F){console.error("Error deleting document:",F),me.error("Failed to delete document")}finally{s(!1)}},C=async()=>{if(!h.trim()){x("Please enter a SQL query");return}try{b(!0),x(null);const I=await Te.executeSQLQuery(h);y(I.data||[]),I.data?.length===0&&x("Query executed successfully but returned no results. The documents table may be empty or not exist yet.")}catch(I){console.error("SQL query failed:",I);let F=I.message||"Failed to execute SQL query";if(F.includes("not an embedded resource")||F.includes("does not exist")||F.includes("404")||F.includes("endpoint")){x("SQL execution is not available yet. This feature requires database setup. Please use the sample data below to test the interface."),y([{id:1,candidate_id:"CND-001",doc_type:"passport",doc_name:"passport_john_doe.pdf",doc_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",file_size:2048576,mime_type:"application/pdf",is_verified:1,uploaded_at:"2024-01-15 10:30:00",expiry_date:"2030-06-15",uploaded_by:"admin",verified_by:"system",verified_at:"2024-01-15 11:00:00"},{id:2,candidate_id:"CND-002",doc_type:"medical_certificate",doc_name:"medical_jane_smith.pdf",doc_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",file_size:1536e3,mime_type:"application/pdf",is_verified:0,uploaded_at:"2024-01-20 14:15:00",expiry_date:"2025-01-20",uploaded_by:"agent_user",verified_by:null,verified_at:null},{id:3,candidate_id:"CND-003",doc_type:"photo",doc_name:"photo_david_wilson.jpg",doc_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=400&fit=crop&crop=face",file_size:256e3,mime_type:"image/jpeg",is_verified:1,uploaded_at:"2024-02-01 09:00:00",expiry_date:null,uploaded_by:null,verified_by:null,verified_at:"2024-02-01 09:30:00"}]);return}else F.includes("syntax error")&&(F="SQL syntax error. Please check your query syntax.");x(F),y([])}finally{b(!1)}},M=()=>{C()},q=I=>{const F={verified:"bg-green-100 text-green-800",pending_verification:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return i.jsx(Ce,{className:F[I]||F.pending_verification,children:I.replace("_"," ")})},Z=I=>({passport:i.jsx(Gd,{className:"h-4 w-4 text-blue-600"}),medical_certificate:i.jsx(BE,{className:"h-4 w-4 text-green-600"}),training_certificate:i.jsx(qt,{className:"h-4 w-4 text-purple-600"}),visa:i.jsx(qt,{className:"h-4 w-4 text-indigo-600"}),photo:i.jsx(zE,{className:"h-4 w-4 text-orange-600"})})[I]||i.jsx(qt,{className:"h-4 w-4 text-gray-600"}),te=I=>({passport:"Passport",medical_certificate:"Medical Certificate",training_certificate:"Training Certificate",visa:"Visa Document",photo:"Photograph"})[I]||I,ce=e.length,pe=e.filter(I=>I.status==="verified"||I.is_verified===1||I.is_verified===!0).length,J=e.filter(I=>I.status==="pending_verification"||I.is_verified===0||I.is_verified===!1).length,ne=e.filter(I=>I.status==="rejected").length,H=e.filter(I=>{const F=(I.name||I.doc_name)?.toLowerCase().includes(r.toLowerCase())||(I.type||I.doc_type)?.toLowerCase().includes(r.toLowerCase())||I.candidate_id?.toLowerCase().includes(r.toLowerCase()),B=I.type||I.doc_type,G=I.status||(I.is_verified?"verified":"pending_verification");return F&&(d==="all"||B===d||G===d)});return a?i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($e,{className:"h-5 w-5 animate-spin text-primary"}),i.jsx("span",{className:"text-muted-foreground",children:"Loading documents..."})]})})})}):o?i.jsx("div",{className:"space-y-6",children:i.jsx(ie,{className:"border-destructive",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{className:"text-destructive",children:o})]}),i.jsx(K,{onClick:S,variant:"outline",children:"Retry"})]})})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(_e,{className:"text-2xl",children:"Document Management"}),i.jsx(Fe,{className:"mt-1",children:"Manage, verify, and query candidate documents with SQL retrieval"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:S,children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(K,{onClick:()=>u(!0),children:[i.jsx(JE,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-0",children:i.jsxs(il,{value:_,onValueChange:j,className:"w-full",children:[i.jsx("div",{className:"border-b border-border px-6 pt-6",children:i.jsxs(sl,{className:"grid w-full grid-cols-2",children:[i.jsxs(xt,{value:"management",className:"flex items-center gap-2",children:[i.jsx(qt,{className:"h-4 w-4"}),"Document Management"]}),i.jsxs(xt,{value:"sql",className:"flex items-center gap-2",children:[i.jsx(Ja,{className:"h-4 w-4"}),"SQL Document Retrieval"]})]})}),i.jsxs(bt,{value:"management",className:"p-6 space-y-6 mt-0",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Documents"}),i.jsx("p",{className:"text-2xl font-semibold",children:ce})]}),i.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:i.jsx(qt,{className:"h-5 w-5 text-blue-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Verified"}),i.jsx("p",{className:"text-2xl font-semibold text-green-600",children:pe})]}),i.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:i.jsx(gr,{className:"h-5 w-5 text-green-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"}),i.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:J})]}),i.jsx("div",{className:"bg-yellow-50 p-2 rounded-lg",children:i.jsx(Qi,{className:"h-5 w-5 text-yellow-600"})})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rejected"}),i.jsx("p",{className:"text-2xl font-semibold text-red-600",children:ne})]}),i.jsx("div",{className:"bg-red-50 p-2 rounded-lg",children:i.jsx(gn,{className:"h-5 w-5 text-red-600"})})]})})})]}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(fe,{placeholder:"Search by filename, type, or candidate ID...",value:r,onChange:I=>n(I.target.value),className:"pl-10"})]}),i.jsxs("select",{className:"px-3 py-2 border border-input rounded-md text-sm bg-background",value:d,onChange:I=>f(I.target.value),children:[i.jsx("option",{value:"all",children:"All Documents"}),i.jsx("option",{value:"passport",children:"Passports"}),i.jsx("option",{value:"medical_certificate",children:"Medical Certificates"}),i.jsx("option",{value:"training_certificate",children:"Training Certificates"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"pending_verification",children:"Pending"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]})})}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{children:["All Documents (",H.length,")"]}),i.jsx(Fe,{children:"Complete list of uploaded and verified documents with download functionality"})]}),i.jsx(se,{children:i.jsx(Lu,{data:H,loading:a,onRowClick:I=>{console.log("Document clicked:",I),O(I)},columns:[{key:"doc_name",header:"Document Name",render:(I,F)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[Z(F.doc_type||F.type),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:F.doc_name||F.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",F.id]})]})]})},{key:"doc_url",header:"Document File",isFileColumn:!0,fileType:"document"},{key:"candidate_id",header:"Candidate",render:(I,F)=>{const B=P.find(G=>G.id===I);return i.jsx("div",{className:"font-medium",children:B?B.full_name||B.name:`Candidate ${I}`})}},{key:"doc_type",header:"Type",render:(I,F)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[Z(I||F.type),i.jsx("span",{children:te(I||F.type)})]})},{key:"is_verified",header:"Status",render:(I,F)=>{const B=I?"verified":"pending_verification";return q(F.status||B)}},{key:"uploaded_at",header:"Upload Date",render:(I,F)=>i.jsx("div",{className:"text-sm text-muted-foreground",children:I?new Date(I).toLocaleDateString():F.upload_date})},{key:"expiry_date",header:"Expiry Date",render:I=>i.jsx("div",{className:"text-sm text-muted-foreground",children:I?new Date(I).toLocaleDateString():"No expiry"})},{key:"actions",header:"Actions",render:(I,F)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:B=>{B.stopPropagation(),O(F)},children:i.jsx(Ln,{className:"h-4 w-4"})}),(F.status==="pending_verification"||!F.is_verified)&&i.jsxs(K,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:B=>{B.stopPropagation(),N(F.id.toString())},children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Verify"]}),i.jsx(K,{variant:"outline",size:"sm",onClick:B=>{B.stopPropagation(),D(F)},children:i.jsx(ep,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:B=>{B.stopPropagation(),$(F.id)},children:i.jsx(fs,{className:"h-4 w-4"})})]})}]})})]})]}),i.jsxs(bt,{value:"sql",className:"p-6 space-y-6 mt-0",children:[i.jsxs(ie,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center gap-2 text-blue-900",children:[i.jsx(Ja,{className:"h-5 w-5"}),"SQL Document Explorer"]}),i.jsx(Fe,{className:"text-blue-700",children:"Query and analyze document data with powerful SQL. Try the examples below or write your own queries!"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs(K,{variant:"outline",size:"sm",className:"h-auto py-3 px-4 flex flex-col items-center gap-2 bg-white hover:bg-blue-50 border-blue-200",onClick:()=>m(`-- All Documents Overview
SELECT 
  doc_type,
  COUNT(*) as total,
  SUM(CASE WHEN is_verified = 1 THEN 1 ELSE 0 END) as verified
FROM documents 
GROUP BY doc_type 
ORDER BY total DESC;`),children:[i.jsx(qt,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Overview"})]}),i.jsxs(K,{variant:"outline",size:"sm",className:"h-auto py-3 px-4 flex flex-col items-center gap-2 bg-white hover:bg-green-50 border-green-200",onClick:()=>m(`-- Verified Documents
SELECT 
  doc_name,
  doc_type,
  uploaded_at,
  verified_at
FROM documents 
WHERE is_verified = 1 
ORDER BY verified_at DESC 
LIMIT 20;`),children:[i.jsx(gr,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Verified"})]}),i.jsxs(K,{variant:"outline",size:"sm",className:"h-auto py-3 px-4 flex flex-col items-center gap-2 bg-white hover:bg-amber-50 border-amber-200",onClick:()=>m(`-- Expiring Documents
SELECT 
  doc_name,
  doc_type,
  expiry_date,
  CASE 
    WHEN expiry_date <= date('now', '+30 days') THEN 'Expires Soon'
    ELSE 'Valid'
  END as status
FROM documents 
WHERE expiry_date IS NOT NULL 
ORDER BY expiry_date ASC;`),children:[i.jsx(Qi,{className:"h-4 w-4 text-amber-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Expiring"})]}),i.jsxs(K,{variant:"outline",size:"sm",className:"h-auto py-3 px-4 flex flex-col items-center gap-2 bg-white hover:bg-purple-50 border-purple-200",onClick:()=>m(`-- Recent Activity
SELECT 
  doc_name,
  doc_type,
  uploaded_at,
  CASE 
    WHEN uploaded_at >= date('now', '-1 day') THEN 'Today'
    WHEN uploaded_at >= date('now', '-7 days') THEN 'This Week'
    ELSE 'Older'
  END as recency
FROM documents 
ORDER BY uploaded_at DESC 
LIMIT 15;`),children:[i.jsx(Ic,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Recent"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(re,{htmlFor:"sql-query",className:"text-sm font-medium text-gray-700",children:"Custom SQL Query"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>m(""),className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"}),i.jsxs(K,{onClick:C,disabled:p||!h.trim(),size:"sm",className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[p?i.jsx($e,{className:"h-3 w-3 animate-spin"}):i.jsx(U0,{className:"h-3 w-3"}),p?"Executing...":"Run Query"]})]})]}),i.jsx(Du,{id:"sql-query",placeholder:"Write your SQL query here... Try SELECT * FROM documents LIMIT 10;",value:h,onChange:I=>m(I.target.value),rows:6,className:"font-mono text-sm bg-white border-gray-200 focus:border-blue-400 focus:ring-blue-400/20"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-100 px-3 py-2 rounded-md",children:[i.jsx(Ja,{className:"h-3 w-3"}),i.jsx("span",{children:"Demo mode active - queries return sample data for testing"})]})]})]})]}),g&&i.jsx(ie,{className:"border-red-200 bg-red-50",children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx(Or,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Query Error"})]}),i.jsx("p",{className:"text-sm mt-1 text-red-700 font-mono",children:g}),i.jsx("div",{className:"mt-3 text-xs text-red-600",children:" Try one of the quick examples above or check your SQL syntax"})]})}),(v.length>0||p)&&i.jsxs(ie,{className:"border-green-200 bg-green-50/30",children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center gap-2 text-green-800",children:[i.jsx(gr,{className:"h-4 w-4"}),"Query Results"]}),i.jsx(Fe,{className:"text-green-700",children:p?"Executing query...":`Found ${v.length} records`})]}),i.jsx(se,{children:i.jsx(cT,{data:v,title:"",description:"",loading:p,onRefresh:M})})]}),!p&&v.length===0&&!g&&i.jsx(ie,{className:"border-blue-200 bg-blue-50/30",children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Getting Started"}),i.jsx("p",{className:"text-sm text-blue-800 mb-4",children:'Write a SQL query above and click "Execute Query" to see sample document data. All queries will return demo data until the database is properly configured.'}),i.jsxs("div",{className:"flex justify-center gap-2 text-xs text-blue-700",children:[i.jsx("span",{children:" Try the example queries above"}),i.jsx("span",{children:""}),i.jsx("span",{children:" Results include downloadable files"}),i.jsx("span",{children:""}),i.jsx("span",{children:" Automatic media detection"})]})]})})})]})]})})}),i.jsx(l9,{open:c,onClose:()=>u(!1),onSuccess:S}),A&&i.jsx(na,{open:!!A,onOpenChange:()=>O(null),children:i.jsxs(aa,{className:"max-w-6xl max-h-[95vh] overflow-auto",children:[i.jsxs(ps,{children:[i.jsxs(ms,{className:"flex items-center gap-2",children:[i.jsx(qt,{className:"h-5 w-5"}),A.doc_name]}),i.jsxs(Iu,{children:[A.doc_type,"  ",(A.file_size/1024).toFixed(1)," KB  ",A.mime_type]})]}),i.jsx("div",{className:"mt-4",children:i.jsx(R,{document:A})}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[i.jsxs(K,{variant:"outline",onClick:()=>k(A),children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Download"]}),!A.is_verified&&i.jsxs(K,{onClick:()=>{N(A.id.toString()),O(null)},className:"bg-green-600 hover:bg-green-700",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Mark as Verified"]})]})]})})]})},l9=({open:e,onClose:t,onSuccess:r})=>{const[n,a]=w.useState({candidate_id:"",doc_type:"",doc_name:"",doc_url:"",file_size:0,mime_type:"",is_verified:!1,verified_by:null,verified_at:null,expiry_date:"",uploaded_by:"",type:"",name:""}),[s,o]=w.useState(null),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(!1),[m,v]=w.useState(null),[y,p]=w.useState({}),[b,g]=w.useState(0);w.useEffect(()=>{e&&x()},[e]);const x=async()=>{try{const[k,A]=await Promise.all([Te.getCandidates(),Te.getProfiles()]);c(k?.candidates||k?.data||[]),d(A?.profiles||A?.data||[])}catch(k){console.error("Failed to fetch related data:",k)}},_=[{value:"passport",label:"Passport"},{value:"medical_certificate",label:"Medical Certificate"},{value:"training_certificate",label:"Training Certificate"},{value:"visa",label:"Visa Document"},{value:"photo",label:"Candidate Photo"},{value:"national_id",label:"National ID"},{value:"birth_certificate",label:"Birth Certificate"},{value:"education_certificate",label:"Education Certificate"},{value:"experience_letter",label:"Experience Letter"},{value:"police_clearance",label:"Police Clearance"}],j=()=>{const k={};return n.candidate_id||(k.candidate_id="Candidate is required"),n.doc_type||(k.doc_type="Document type is required"),s?(s.size>10*1024*1024&&(k.file="File size must be less than 10MB"),["application/pdf","image/jpeg","image/jpg","image/png"].includes(s.type)||(k.file="File must be PDF, JPG, or PNG")):k.file="File is required",p(k),Object.keys(k).length===0},S=k=>{const A=k.target.files?.[0];A&&(o(A),a(O=>({...O,doc_name:A.name,name:A.name,file_size:A.size,mime_type:A.type})),p(O=>{const P={...O};return delete P.file,P}))},N=async k=>{if(k.preventDefault(),!!j())try{h(!0),v(null);let A="";if(s)try{for(let T=0;T<=90;T+=10)g(T),await new Promise(z=>setTimeout(z,100));const P=await Te.uploadDocumentFile(s,n.candidate_id,n.doc_type);A=P?.url||P?.doc_url||P?.data?.url||"",g(95)}catch(P){console.error("File upload failed:",P),v("File upload failed. Please try again.");return}const O={...n,doc_url:A,is_verified:!1,uploaded_at:new Date().toISOString(),expiry_date:n.expiry_date||null,type:n.doc_type,status:"pending_verification"};await Te.createDocument(O),g(100),setTimeout(()=>{r(),t(),a({candidate_id:"",doc_type:"",doc_name:"",doc_url:"",file_size:0,mime_type:"",is_verified:!1,verified_by:null,verified_at:null,expiry_date:"",uploaded_by:"",type:"",name:""}),o(null),g(0)},1e3)}catch(A){console.error("Failed to upload document:",A),v(A.message||"Failed to upload document. Please try again.")}finally{h(!1)}};return e?i.jsx(na,{open:e,onOpenChange:t,children:i.jsxs(aa,{className:"max-w-md",children:[i.jsxs(ps,{children:[i.jsx(ms,{children:"Upload Document"}),i.jsx(Iu,{children:"Upload a new document for verification"})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[m&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:i.jsx("p",{className:"text-sm text-red-600",children:m})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("h3",{className:"font-medium text-lg",children:"Document Information"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic document details and candidate assignment"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Qd,{value:n.candidate_id,onValueChange:k=>a({...n,candidate_id:k}),placeholder:"Select candidate",label:"Candidate",items:l,displayField:"full_name",createTitle:"Create New Candidate",createDescription:"Add a new candidate to the system",error:y.candidate_id,createFields:[{key:"full_name",label:"Full Name",type:"text",required:!0,placeholder:"Enter candidate full name"},{key:"passport_number",label:"Passport Number",type:"text",required:!0,placeholder:"Enter passport number"},{key:"email",label:"Email",type:"email",required:!0,placeholder:"Enter email address"},{key:"phone",label:"Phone",type:"tel",required:!0,placeholder:"Enter phone number"},{key:"nationality",label:"Nationality",type:"select",required:!0,options:[{value:"Indian",label:"Indian"},{value:"Pakistani",label:"Pakistani"},{value:"Bangladeshi",label:"Bangladeshi"},{value:"Sri Lankan",label:"Sri Lankan"},{value:"Filipino",label:"Filipino"},{value:"Nepalese",label:"Nepalese"},{value:"Other",label:"Other"}]}],onCreateItem:async k=>{const A=await Te.createCandidate(k),O=A?.candidate||A?.data||A;return c(P=>[...P,O]),O}}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"doc_type",children:"Document Type *"}),i.jsxs("select",{id:"doc_type",className:`w-full px-3 py-2 border rounded-md text-sm bg-background ${y.doc_type?"border-destructive":"border-input"}`,value:n.doc_type,onChange:k=>{a({...n,doc_type:k.target.value,type:k.target.value}),p(A=>{const O={...A};return delete O.doc_type,O})},children:[i.jsx("option",{value:"",children:"Select document type"}),_.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))]}),y.doc_type&&i.jsx("p",{className:"text-sm text-destructive",children:y.doc_type})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"expiry_date",children:"Expiry Date (if applicable)"}),i.jsx(fe,{id:"expiry_date",type:"date",value:n.expiry_date,onChange:k=>a({...n,expiry_date:k.target.value}),min:new Date().toISOString().split("T")[0]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave blank if document doesn't expire"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("h3",{className:"font-medium text-lg",children:"File Upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the document file to upload"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"file",children:"Select File *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",id:"file",onChange:S,className:"absolute inset-0 opacity-0 cursor-pointer",accept:".pdf,.jpg,.jpeg,.png"}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${y.file?"border-destructive bg-destructive/5":s?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx(JE,{className:`h-8 w-8 mx-auto mb-2 ${s?"text-green-600":"text-gray-400"}`}),i.jsx("p",{className:"text-sm text-gray-600",children:s?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-medium text-green-600",children:s.name}),i.jsx("br",{}),i.jsxs("span",{className:"text-xs",children:[(s.size/1024/1024).toFixed(2)," MB  ",s.type]})]}):"Click to select file or drag and drop"}),!s&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG up to 10MB"})]})]}),y.file&&i.jsx("p",{className:"text-sm text-destructive",children:y.file})]})]}),f&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Uploading document..."}),i.jsxs("span",{children:[b,"%"]})]}),i.jsx(uc,{value:b,className:"h-2"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Cancel"}),i.jsx(K,{type:"submit",disabled:f||Object.keys(y).length>0,children:f?"Uploading...":"Upload Document"})]})]})]})}):null},c9=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,s]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(null),d=async()=>{try{n(!0),l(null);const g=await Te.getJobAnalytics();t(g.data||[]),u(new Date)}catch(g){console.error("Failed to fetch job analytics:",g),l("Failed to load job analytics data")}finally{n(!1)}},f=async()=>{try{s(!0),await Te.refreshJobAnalytics(),await d()}catch(g){console.error("Failed to refresh job analytics:",g),l("Failed to refresh analytics data")}finally{s(!1)}};w.useEffect(()=>{d()},[]);const h=g=>({passport:"bg-blue-100 text-blue-800",interview:"bg-yellow-100 text-yellow-800",medical:"bg-purple-100 text-purple-800",training:"bg-orange-100 text-orange-800",visa:"bg-indigo-100 text-indigo-800",deployment:"bg-green-100 text-green-800",completed:"bg-green-100 text-green-800"})[g]||"bg-gray-100 text-gray-800",m=g=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(g),v=()=>{const g=e.reduce((x,_)=>(x[_.company_name]||(x[_.company_name]={country:_.country,totalCandidates:0,activeCandidates:0,positions:new Set,stages:new Set}),x[_.company_name].totalCandidates+=_.total_candidates,x[_.company_name].activeCandidates+=_.active_candidates,x[_.company_name].positions.add(_.position_name||_.position_text||"Unknown Position"),x[_.company_name].stages.add(_.stage),x),{});return Object.entries(g).map(([x,_])=>({company:x,..._,positions:Array.from(_.positions),stages:Array.from(_.stages)}))},y=()=>{const g=e.reduce((x,_)=>(x[_.stage]||(x[_.stage]={totalCandidates:0,activeCandidates:0,avgDays:0,totalCost:0,companies:new Set}),x[_.stage].totalCandidates+=_.total_candidates,x[_.stage].activeCandidates+=_.active_candidates,x[_.stage].companies.add(_.company_name),_.avg_days_by_stage&&_.avg_days_by_stage[_.stage]&&(x[_.stage].avgDays=_.avg_days_by_stage[_.stage]),_.cost_by_stage&&_.cost_by_stage[_.stage]&&(x[_.stage].totalCost+=_.cost_by_stage[_.stage]),x),{});return Object.entries(g).map(([x,_])=>({stage:x,..._,companies:Array.from(_.companies)}))};if(r)return i.jsxs("div",{className:"flex items-center justify-center h-64",children:[i.jsx($e,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading job analytics..."})]});if(o)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[i.jsx("p",{className:"text-red-600 mb-4",children:o}),i.jsxs(K,{onClick:d,variant:"outline",children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Retry"]})]});const p=v(),b=y();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Job Analytics"}),i.jsx("p",{className:"text-gray-600",children:"Comprehensive recruitment performance metrics"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[c&&i.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",c.toLocaleTimeString()]}),i.jsxs(K,{onClick:f,disabled:a,variant:"outline",children:[i.jsx($e,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh Data"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ft,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Candidates"}),i.jsx("p",{className:"text-2xl font-bold",children:e.reduce((g,x)=>g+x.total_candidates,0)})]})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ar,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Candidates"}),i.jsx("p",{className:"text-2xl font-bold",children:e.reduce((g,x)=>g+x.active_candidates,0)})]})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(BE,{className:"h-8 w-8 text-purple-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified Documents"}),i.jsx("p",{className:"text-2xl font-bold",children:e.reduce((g,x)=>g+x.total_verified_documents,0)})]})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(cr,{className:"h-8 w-8 text-orange-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Companies"}),i.jsx("p",{className:"text-2xl font-bold",children:p.length})]})]})})})]}),i.jsxs(il,{defaultValue:"companies",className:"w-full",children:[i.jsxs(sl,{children:[i.jsx(xt,{value:"companies",children:"Companies"}),i.jsx(xt,{value:"stages",children:"Stages"}),i.jsx(xt,{value:"positions",children:"Positions"})]}),i.jsx(bt,{value:"companies",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:p.map(g=>i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center justify-between",children:[g.company,i.jsx(Ce,{variant:"outline",children:g.country})]}),i.jsxs(Fe,{children:[g.totalCandidates," total candidates  ",g.activeCandidates," active"]})]}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-2",children:["Positions (",g.positions.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:g.positions.map((x,_)=>i.jsx(Ce,{variant:"secondary",className:"text-xs",children:x},_))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Active Stages"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:g.stages.map((x,_)=>i.jsx(Ce,{className:`text-xs ${h(x)}`,children:x},_))})]})]})})]},g.company))})}),i.jsx(bt,{value:"stages",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:b.map(g=>i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"capitalize",children:[g.stage," Stage"]}),i.jsxs(Ce,{className:h(g.stage),children:[g.totalCandidates," candidates"]})]}),i.jsxs(Fe,{children:[g.activeCandidates," active  ",g.companies.length," companies"]})]}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qi,{className:"h-4 w-4 text-gray-500 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Days"}),i.jsx("p",{className:"font-medium",children:g.avgDays||"N/A"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(cr,{className:"h-4 w-4 text-gray-500 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"}),i.jsx("p",{className:"font-medium",children:g.totalCost?m(g.totalCost):"N/A"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Companies"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.companies.slice(0,3).map((x,_)=>i.jsx(Ce,{variant:"outline",className:"text-xs",children:x},_)),g.companies.length>3&&i.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",g.companies.length-3," more"]})]})]})]})})]},g.stage))})}),i.jsx(bt,{value:"positions",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:e.map((g,x)=>i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center justify-between",children:[g.position_name||g.position_text||"Unknown Position",i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ce,{className:h(g.stage),children:g.stage}),i.jsx(Ce,{variant:"outline",children:g.company_name})]})]}),i.jsxs(Fe,{children:[g.total_candidates," candidates  ",g.active_candidates," active"]})]}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Documents"}),i.jsxs("div",{className:"flex space-x-4 text-sm",children:[i.jsxs("span",{className:"text-green-600",children:[" ",g.total_verified_documents," verified"]}),i.jsxs("span",{className:"text-orange-600",children:[" ",g.total_unverified_documents," pending"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Performance"}),i.jsxs("div",{className:"text-sm text-gray-600",children:[g.avg_days_by_stage&&g.avg_days_by_stage[g.stage]&&i.jsxs("p",{children:["Avg. ",g.avg_days_by_stage[g.stage]," days in ",g.stage]}),g.cost_by_stage&&g.cost_by_stage[g.stage]&&i.jsxs("p",{children:["Cost: ",m(g.cost_by_stage[g.stage])]})]})]})]})})]},x))})})]})]})};var u9=Array.isArray,_r=u9,d9=typeof tr=="object"&&tr&&tr.Object===Object&&tr,uT=d9,f9=uT,h9=typeof self=="object"&&self&&self.Object===Object&&self,p9=f9||h9||Function("return this")(),zn=p9,m9=zn,g9=m9.Symbol,Fu=g9,Xj=Fu,dT=Object.prototype,v9=dT.hasOwnProperty,y9=dT.toString,Rl=Xj?Xj.toStringTag:void 0;function x9(e){var t=v9.call(e,Rl),r=e[Rl];try{e[Rl]=void 0;var n=!0}catch{}var a=y9.call(e);return n&&(t?e[Rl]=r:delete e[Rl]),a}var b9=x9,w9=Object.prototype,_9=w9.toString;function j9(e){return _9.call(e)}var S9=j9,Yj=Fu,N9=b9,k9=S9,C9="[object Null]",E9="[object Undefined]",Jj=Yj?Yj.toStringTag:void 0;function A9(e){return e==null?e===void 0?E9:C9:Jj&&Jj in Object(e)?N9(e):k9(e)}var ba=A9;function P9(e){return e!=null&&typeof e=="object"}var wa=P9,O9=ba,T9=wa,$9="[object Symbol]";function R9(e){return typeof e=="symbol"||T9(e)&&O9(e)==$9}var ul=R9,M9=_r,I9=ul,D9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L9=/^\w*$/;function F9(e,t){if(M9(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||I9(e)?!0:L9.test(e)||!D9.test(e)||t!=null&&e in Object(t)}var vb=F9;function U9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gi=U9;const dl=Ve(gi);var B9=ba,z9=gi,W9="[object AsyncFunction]",V9="[object Function]",q9="[object GeneratorFunction]",H9="[object Proxy]";function G9(e){if(!z9(e))return!1;var t=B9(e);return t==V9||t==q9||t==W9||t==H9}var yb=G9;const ke=Ve(yb);var K9=zn,X9=K9["__core-js_shared__"],Y9=X9,sg=Y9,Qj=function(){var e=/[^.]+$/.exec(sg&&sg.keys&&sg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function J9(e){return!!Qj&&Qj in e}var Q9=J9,Z9=Function.prototype,eV=Z9.toString;function tV(e){if(e!=null){try{return eV.call(e)}catch{}try{return e+""}catch{}}return""}var fT=tV,rV=yb,nV=Q9,aV=gi,iV=fT,sV=/[\\^$.*+?()[\]{}|]/g,oV=/^\[object .+?Constructor\]$/,lV=Function.prototype,cV=Object.prototype,uV=lV.toString,dV=cV.hasOwnProperty,fV=RegExp("^"+uV.call(dV).replace(sV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hV(e){if(!aV(e)||nV(e))return!1;var t=rV(e)?fV:oV;return t.test(iV(e))}var pV=hV;function mV(e,t){return e?.[t]}var gV=mV,vV=pV,yV=gV;function xV(e,t){var r=yV(e,t);return vV(r)?r:void 0}var gs=xV,bV=gs,wV=bV(Object,"create"),yp=wV,Zj=yp;function _V(){this.__data__=Zj?Zj(null):{},this.size=0}var jV=_V;function SV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NV=SV,kV=yp,CV="__lodash_hash_undefined__",EV=Object.prototype,AV=EV.hasOwnProperty;function PV(e){var t=this.__data__;if(kV){var r=t[e];return r===CV?void 0:r}return AV.call(t,e)?t[e]:void 0}var OV=PV,TV=yp,$V=Object.prototype,RV=$V.hasOwnProperty;function MV(e){var t=this.__data__;return TV?t[e]!==void 0:RV.call(t,e)}var IV=MV,DV=yp,LV="__lodash_hash_undefined__";function FV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=DV&&t===void 0?LV:t,this}var UV=FV,BV=jV,zV=NV,WV=OV,VV=IV,qV=UV;function fl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fl.prototype.clear=BV;fl.prototype.delete=zV;fl.prototype.get=WV;fl.prototype.has=VV;fl.prototype.set=qV;var HV=fl;function GV(){this.__data__=[],this.size=0}var KV=GV;function XV(e,t){return e===t||e!==e&&t!==t}var xb=XV,YV=xb;function JV(e,t){for(var r=e.length;r--;)if(YV(e[r][0],t))return r;return-1}var xp=JV,QV=xp,ZV=Array.prototype,eq=ZV.splice;function tq(e){var t=this.__data__,r=QV(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eq.call(t,r,1),--this.size,!0}var rq=tq,nq=xp;function aq(e){var t=this.__data__,r=nq(t,e);return r<0?void 0:t[r][1]}var iq=aq,sq=xp;function oq(e){return sq(this.__data__,e)>-1}var lq=oq,cq=xp;function uq(e,t){var r=this.__data__,n=cq(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var dq=uq,fq=KV,hq=rq,pq=iq,mq=lq,gq=dq;function hl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hl.prototype.clear=fq;hl.prototype.delete=hq;hl.prototype.get=pq;hl.prototype.has=mq;hl.prototype.set=gq;var bp=hl,vq=gs,yq=zn,xq=vq(yq,"Map"),bb=xq,e1=HV,bq=bp,wq=bb;function _q(){this.size=0,this.__data__={hash:new e1,map:new(wq||bq),string:new e1}}var jq=_q;function Sq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Nq=Sq,kq=Nq;function Cq(e,t){var r=e.__data__;return kq(t)?r[typeof t=="string"?"string":"hash"]:r.map}var wp=Cq,Eq=wp;function Aq(e){var t=Eq(this,e).delete(e);return this.size-=t?1:0,t}var Pq=Aq,Oq=wp;function Tq(e){return Oq(this,e).get(e)}var $q=Tq,Rq=wp;function Mq(e){return Rq(this,e).has(e)}var Iq=Mq,Dq=wp;function Lq(e,t){var r=Dq(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Fq=Lq,Uq=jq,Bq=Pq,zq=$q,Wq=Iq,Vq=Fq;function pl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pl.prototype.clear=Uq;pl.prototype.delete=Bq;pl.prototype.get=zq;pl.prototype.has=Wq;pl.prototype.set=Vq;var wb=pl,hT=wb,qq="Expected a function";function _b(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qq);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(_b.Cache||hT),r}_b.Cache=hT;var pT=_b;const Hq=Ve(pT);var Gq=pT,Kq=500;function Xq(e){var t=Gq(e,function(n){return r.size===Kq&&r.clear(),n}),r=t.cache;return t}var Yq=Xq,Jq=Yq,Qq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zq=/\\(\\)?/g,eH=Jq(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qq,function(r,n,a,s){t.push(a?s.replace(Zq,"$1"):n||r)}),t}),tH=eH;function rH(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var jb=rH,t1=Fu,nH=jb,aH=_r,iH=ul,r1=t1?t1.prototype:void 0,n1=r1?r1.toString:void 0;function mT(e){if(typeof e=="string")return e;if(aH(e))return nH(e,mT)+"";if(iH(e))return n1?n1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sH=mT,oH=sH;function lH(e){return e==null?"":oH(e)}var gT=lH,cH=_r,uH=vb,dH=tH,fH=gT;function hH(e,t){return cH(e)?e:uH(e,t)?[e]:dH(fH(e))}var vT=hH,pH=ul;function mH(e){if(typeof e=="string"||pH(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _p=mH,gH=vT,vH=_p;function yH(e,t){t=gH(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[vH(t[r++])];return r&&r==n?e:void 0}var Sb=yH,xH=Sb;function bH(e,t,r){var n=e==null?void 0:xH(e,t);return n===void 0?r:n}var yT=bH;const $r=Ve(yT);function wH(e){return e==null}var _H=wH;const Me=Ve(_H);var jH=ba,SH=_r,NH=wa,kH="[object String]";function CH(e){return typeof e=="string"||!SH(e)&&NH(e)&&jH(e)==kH}var EH=CH;const as=Ve(EH);var xT={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=Symbol.for("react.element"),kb=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),kp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),AH=Symbol.for("react.server_context"),Ep=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Tp=Symbol.for("react.lazy"),PH=Symbol.for("react.offscreen"),bT;bT=Symbol.for("react.module.reference");function Jr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nb:switch(e=e.type,e){case jp:case Np:case Sp:case Ap:case Pp:return e;default:switch(e=e&&e.$$typeof,e){case AH:case Cp:case Ep:case Tp:case Op:case kp:return e;default:return t}}case kb:return t}}}Ge.ContextConsumer=Cp;Ge.ContextProvider=kp;Ge.Element=Nb;Ge.ForwardRef=Ep;Ge.Fragment=jp;Ge.Lazy=Tp;Ge.Memo=Op;Ge.Portal=kb;Ge.Profiler=Np;Ge.StrictMode=Sp;Ge.Suspense=Ap;Ge.SuspenseList=Pp;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(e){return Jr(e)===Cp};Ge.isContextProvider=function(e){return Jr(e)===kp};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nb};Ge.isForwardRef=function(e){return Jr(e)===Ep};Ge.isFragment=function(e){return Jr(e)===jp};Ge.isLazy=function(e){return Jr(e)===Tp};Ge.isMemo=function(e){return Jr(e)===Op};Ge.isPortal=function(e){return Jr(e)===kb};Ge.isProfiler=function(e){return Jr(e)===Np};Ge.isStrictMode=function(e){return Jr(e)===Sp};Ge.isSuspense=function(e){return Jr(e)===Ap};Ge.isSuspenseList=function(e){return Jr(e)===Pp};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jp||e===Np||e===Sp||e===Ap||e===Pp||e===PH||typeof e=="object"&&e!==null&&(e.$$typeof===Tp||e.$$typeof===Op||e.$$typeof===kp||e.$$typeof===Cp||e.$$typeof===Ep||e.$$typeof===bT||e.getModuleId!==void 0)};Ge.typeOf=Jr;xT.exports=Ge;var OH=xT.exports,TH=ba,$H=wa,RH="[object Number]";function MH(e){return typeof e=="number"||$H(e)&&TH(e)==RH}var wT=MH;const IH=Ve(wT);var DH=wT;function LH(e){return DH(e)&&e!=+e}var FH=LH;const Uu=Ve(FH);var ir=function(t){return t===0?0:t>0?1:-1},Li=function(t){return as(t)&&t.indexOf("%")===t.length-1},ue=function(t){return IH(t)&&!Uu(t)},UH=function(t){return Me(t)},Ot=function(t){return ue(t)||as(t)},BH=0,Bu=function(t){var r=++BH;return"".concat(t||"").concat(r)},sr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!as(t))return n;var s;if(Li(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Uu(s)&&(s=n),a&&s>r&&(s=r),s},Da=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},zH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ta=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function oy(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$r(n,t))===r})}var WH=function(t,r){return ue(t)&&ue(r)?t-r:as(t)&&as(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function co(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}var VH=["viewBox","children"],qH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a1=["points","pathLength"],og={svg:VH,polygon:a1,polyline:a1},Cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Df=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!dl(n))return null;var a={};return Object.keys(n).forEach(function(s){Cb.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},HH=function(t,r,n){return function(a){return t(r,n,a),null}},is=function(t,r,n){if(!dl(t)||ly(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Cb.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=HH(o,r,n))}),a},GH=["children"],KH=["children"];function i1(e,t){if(e==null)return{};var r=XH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var s1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ia=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},o1=null,lg=null,Eb=function e(t){if(t===o1&&Array.isArray(lg))return lg;var r=[];return w.Children.forEach(t,function(n){Me(n)||(OH.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),lg=r,o1=t,r};function Gr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ia(a)}):n=[ia(t)],Eb(e).forEach(function(a){var s=$r(a,"type.displayName")||$r(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Nr(e,t){var r=Gr(e,t);return r&&r[0]}var l1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},YH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JH=function(t){return t&&t.type&&as(t.type)&&YH.indexOf(t.type)>=0},QH=function(t,r,n,a){var s,o=(s=og?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ke(t)&&(a&&o.includes(r)||qH.includes(r))||n&&Cb.includes(r)},Se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!dl(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;QH((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},cy=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return c1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!c1(s,o))return!1}return!0},c1=function(t,r){if(Me(t)&&Me(r))return!0;if(!Me(t)&&!Me(r)){var n=t.props||{},a=n.children,s=i1(n,GH),o=r.props||{},l=o.children,c=i1(o,KH);return a&&l?co(s,c)&&cy(a,l):!a&&!l?co(s,c):!1}return!1},u1=function(t,r){var n=[],a={};return Eb(t).forEach(function(s,o){if(JH(s))n.push(s);else if(s){var l=ia(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},ZH=function(t){var r=t&&t.type;return r&&s1[r]?s1[r]:null},eG=function(t,r){return Eb(r).indexOf(t)},tG=["children","width","height","viewBox","className","style","title","desc"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function rG(e,t){if(e==null)return{};var r=nG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dy(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=rG(e,tG),d=a||{width:r,height:n,x:0,y:0},f=Oe("recharts-surface",s);return L.createElement("svg",uy({},Se(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var aG=["children","className"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function iG(e,t){if(e==null)return{};var r=sG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qe=L.forwardRef(function(e,t){var r=e.children,n=e.className,a=iG(e,aG),s=Oe("recharts-layer",n);return L.createElement("g",fy({className:s},Se(a,!0),{ref:t}),r)}),pn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function oG(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var lG=oG,cG=lG;function uG(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:cG(e,t,r)}var dG=uG,fG="\\ud800-\\udfff",hG="\\u0300-\\u036f",pG="\\ufe20-\\ufe2f",mG="\\u20d0-\\u20ff",gG=hG+pG+mG,vG="\\ufe0e\\ufe0f",yG="\\u200d",xG=RegExp("["+yG+fG+gG+vG+"]");function bG(e){return xG.test(e)}var _T=bG;function wG(e){return e.split("")}var _G=wG,jT="\\ud800-\\udfff",jG="\\u0300-\\u036f",SG="\\ufe20-\\ufe2f",NG="\\u20d0-\\u20ff",kG=jG+SG+NG,CG="\\ufe0e\\ufe0f",EG="["+jT+"]",hy="["+kG+"]",py="\\ud83c[\\udffb-\\udfff]",AG="(?:"+hy+"|"+py+")",ST="[^"+jT+"]",NT="(?:\\ud83c[\\udde6-\\uddff]){2}",kT="[\\ud800-\\udbff][\\udc00-\\udfff]",PG="\\u200d",CT=AG+"?",ET="["+CG+"]?",OG="(?:"+PG+"(?:"+[ST,NT,kT].join("|")+")"+ET+CT+")*",TG=ET+CT+OG,$G="(?:"+[ST+hy+"?",hy,NT,kT,EG].join("|")+")",RG=RegExp(py+"(?="+py+")|"+$G+TG,"g");function MG(e){return e.match(RG)||[]}var IG=MG,DG=_G,LG=_T,FG=IG;function UG(e){return LG(e)?FG(e):DG(e)}var BG=UG,zG=dG,WG=_T,VG=BG,qG=gT;function HG(e){return function(t){t=qG(t);var r=WG(t)?VG(t):void 0,n=r?r[0]:t.charAt(0),a=r?zG(r,1).join(""):t.slice(1);return n[e]()+a}}var GG=HG,KG=GG,XG=KG("toUpperCase"),YG=XG;const $p=Ve(YG);function Ze(e){return function(){return e}}const AT=Math.cos,Lf=Math.sin,wn=Math.sqrt,Ff=Math.PI,Rp=2*Ff,my=Math.PI,gy=2*my,Ai=1e-6,JG=gy-Ai;function PT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function QG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PT;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ZG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PT:QG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ai)if(!(Math.abs(f*c-u*d)>Ai)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,y=c*c+u*u,p=m*m+v*v,b=Math.sqrt(y),g=Math.sqrt(h),x=s*Math.tan((my-Math.acos((y+h-p)/(2*b*g)))/2),_=x/g,j=x/b;Math.abs(_-1)>Ai&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ai||Math.abs(this._y1-d)>Ai)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%gy+gy),h>JG?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ai&&this._append`A${n},${n},0,${+(h>=my)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ab(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ZG(t)}function Pb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OT(e){this._context=e}OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mp(e){return new OT(e)}function TT(e){return e[0]}function $T(e){return e[1]}function RT(e,t){var r=Ze(!0),n=null,a=Mp,s=null,o=Ab(l);e=typeof e=="function"?e:e===void 0?TT:Ze(e),t=typeof t=="function"?t:t===void 0?$T:Ze(t);function l(c){var u,d=(c=Pb(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ze(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function bd(e,t,r){var n=null,a=Ze(!0),s=null,o=Mp,l=null,c=Ab(u);e=typeof e=="function"?e:e===void 0?TT:Ze(+e),t=typeof t=="function"?t:Ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$T:Ze(+r);function u(f){var h,m,v,y=(f=Pb(f)).length,p,b=!1,g,x=new Array(y),_=new Array(y);for(s==null&&(l=o(g=c())),h=0;h<=y;++h){if(!(h<y&&a(p=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(x[v],_[v]);l.lineEnd(),l.areaEnd()}b&&(x[h]=+e(p,h,f),_[h]=+t(p,h,f),l.point(n?+n(p,h,f):x[h],r?+r(p,h,f):_[h]))}if(g)return l=null,g+""||null}function d(){return RT().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ze(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class MT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eK(e){return new MT(e,!0)}function tK(e){return new MT(e,!1)}const Ob={draw(e,t){const r=wn(t/Ff);e.moveTo(r,0),e.arc(0,0,r,0,Rp)}},rK={draw(e,t){const r=wn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IT=wn(1/3),nK=IT*2,aK={draw(e,t){const r=wn(t/nK),n=r*IT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iK={draw(e,t){const r=wn(t),n=-r/2;e.rect(n,n,r,r)}},sK=.8908130915292852,DT=Lf(Ff/10)/Lf(7*Ff/10),oK=Lf(Rp/10)*DT,lK=-AT(Rp/10)*DT,cK={draw(e,t){const r=wn(t*sK),n=oK*r,a=lK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Rp*s/5,l=AT(o),c=Lf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},cg=wn(3),uK={draw(e,t){const r=-wn(t/(cg*3));e.moveTo(0,r*2),e.lineTo(-cg*r,-r),e.lineTo(cg*r,-r),e.closePath()}},Dr=-.5,Lr=wn(3)/2,vy=1/wn(12),dK=(vy/2+1)*3,fK={draw(e,t){const r=wn(t/dK),n=r/2,a=r*vy,s=n,o=r*vy+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Dr*n-Lr*a,Lr*n+Dr*a),e.lineTo(Dr*s-Lr*o,Lr*s+Dr*o),e.lineTo(Dr*l-Lr*c,Lr*l+Dr*c),e.lineTo(Dr*n+Lr*a,Dr*a-Lr*n),e.lineTo(Dr*s+Lr*o,Dr*o-Lr*s),e.lineTo(Dr*l+Lr*c,Dr*c-Lr*l),e.closePath()}};function hK(e,t){let r=null,n=Ab(a);e=typeof e=="function"?e:Ze(e||Ob),t=typeof t=="function"?t:Ze(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ze(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ze(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Uf(){}function Bf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LT(e){this._context=e}LT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pK(e){return new LT(e)}function FT(e){this._context=e}FT.prototype={areaStart:Uf,areaEnd:Uf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mK(e){return new FT(e)}function UT(e){this._context=e}UT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gK(e){return new UT(e)}function BT(e){this._context=e}BT.prototype={areaStart:Uf,areaEnd:Uf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vK(e){return new BT(e)}function d1(e){return e<0?-1:1}function f1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(d1(s)+d1(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function h1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ug(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ug(this,this._t0,h1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ug(this,h1(this,r=f1(this,e,t)),r);break;default:ug(this,this._t0,r=f1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zT(e){this._context=new WT(e)}(zT.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function WT(e){this._context=e}WT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function yK(e){return new zf(e)}function xK(e){return new zT(e)}function VT(e){this._context=e}VT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=p1(e),a=p1(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function p1(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function bK(e){return new VT(e)}function Ip(e,t){this._context=e,this._t=t}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wK(e){return new Ip(e,.5)}function _K(e){return new Ip(e,0)}function jK(e){return new Ip(e,1)}function So(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function yy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SK(e,t){return e[t]}function NK(e){const t=[];return t.key=e,t}function kK(){var e=Ze([]),t=yy,r=So,n=SK;function a(s){var o=Array.from(e.apply(this,arguments),NK),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Pb(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ze(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ze(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?yy:typeof s=="function"?s:Ze(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??So,a):r},a}function CK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}So(e,t)}}function EK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}So(e,t)}}function AK(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var y=e[t[v]],p=y[n][1]||0,b=y[n-1][1]||0;m+=p-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,So(e,t)}}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}var PK=["type","size","sizeType"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=$K(e,"string");return qc(t)=="symbol"?t:t+""}function $K(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RK(e,t){if(e==null)return{};var r=MK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qT={symbolCircle:Ob,symbolCross:rK,symbolDiamond:aK,symbolSquare:iK,symbolStar:cK,symbolTriangle:uK,symbolWye:fK},IK=Math.PI/180,DK=function(t){var r="symbol".concat($p(t));return qT[r]||Ob},LK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*IK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FK=function(t,r){qT["symbol".concat($p(t))]=r},Tb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=RK(t,PK),u=g1(g1({},c),{},{type:n,size:s,sizeType:l}),d=function(){var p=DK(n),b=hK().type(p).size(LK(s,l,n));return b()},f=u.className,h=u.cx,m=u.cy,v=Se(u,!0);return h===+h&&m===+m&&s===+s?L.createElement("path",xy({},v,{className:Oe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Tb.registerSymbol=FK;function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GT(n.key),n)}}function WK(e,t,r){return t&&zK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VK(e,t,r){return t=Wf(t),qK(e,HT()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function qK(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(e)}function HK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HT=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function GK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wy(e,t)}function Hc(e,t,r){return t=GT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GT(e){var t=KK(e,"string");return No(t)=="symbol"?t:t+""}function KK(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fr=32,$b=function(e){function t(){return BK(this,t),VK(this,t,arguments)}return GK(t,e),WK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Fr/2,o=Fr/6,l=Fr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Fr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Fr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=UK({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(Tb,{fill:c,cx:s,cy:s,size:Fr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Fr,height:Fr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var y=m.formatter||c,p=Oe(Hc(Hc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=ke(m.value)?null:m.value;pn(!ke(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return L.createElement("li",by({className:p,style:f,key:"legend-item-".concat(v)},is(n.props,m,v)),L.createElement(dy,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(b,m,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);Hc($b,"displayName","Legend");Hc($b,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XK=bp;function YK(){this.__data__=new XK,this.size=0}var JK=YK;function QK(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ZK=QK;function eX(e){return this.__data__.get(e)}var tX=eX;function rX(e){return this.__data__.has(e)}var nX=rX,aX=bp,iX=bb,sX=wb,oX=200;function lX(e,t){var r=this.__data__;if(r instanceof aX){var n=r.__data__;if(!iX||n.length<oX-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new sX(n)}return r.set(e,t),this.size=r.size,this}var cX=lX,uX=bp,dX=JK,fX=ZK,hX=tX,pX=nX,mX=cX;function ml(e){var t=this.__data__=new uX(e);this.size=t.size}ml.prototype.clear=dX;ml.prototype.delete=fX;ml.prototype.get=hX;ml.prototype.has=pX;ml.prototype.set=mX;var KT=ml,gX="__lodash_hash_undefined__";function vX(e){return this.__data__.set(e,gX),this}var yX=vX;function xX(e){return this.__data__.has(e)}var bX=xX,wX=wb,_X=yX,jX=bX;function Vf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new wX;++t<r;)this.add(e[t])}Vf.prototype.add=Vf.prototype.push=_X;Vf.prototype.has=jX;var XT=Vf;function SX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var YT=SX;function NX(e,t){return e.has(t)}var JT=NX,kX=XT,CX=YT,EX=JT,AX=1,PX=2;function OX(e,t,r,n,a,s){var o=r&AX,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&PX?new kX:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var v=e[f],y=t[f];if(n)var p=o?n(y,v,f,t,e,s):n(v,y,f,e,t,s);if(p!==void 0){if(p)continue;h=!1;break}if(m){if(!CX(t,function(b,g){if(!EX(m,g)&&(v===b||a(v,b,r,n,s)))return m.push(g)})){h=!1;break}}else if(!(v===y||a(v,y,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var QT=OX,TX=zn,$X=TX.Uint8Array,RX=$X;function MX(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var IX=MX;function DX(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Rb=DX,y1=Fu,x1=RX,LX=xb,FX=QT,UX=IX,BX=Rb,zX=1,WX=2,VX="[object Boolean]",qX="[object Date]",HX="[object Error]",GX="[object Map]",KX="[object Number]",XX="[object RegExp]",YX="[object Set]",JX="[object String]",QX="[object Symbol]",ZX="[object ArrayBuffer]",eY="[object DataView]",b1=y1?y1.prototype:void 0,dg=b1?b1.valueOf:void 0;function tY(e,t,r,n,a,s,o){switch(r){case eY:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZX:return!(e.byteLength!=t.byteLength||!s(new x1(e),new x1(t)));case VX:case qX:case KX:return LX(+e,+t);case HX:return e.name==t.name&&e.message==t.message;case XX:case JX:return e==t+"";case GX:var l=UX;case YX:var c=n&zX;if(l||(l=BX),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=WX,o.set(e,t);var d=FX(l(e),l(t),n,a,s,o);return o.delete(e),d;case QX:if(dg)return dg.call(e)==dg.call(t)}return!1}var rY=tY;function nY(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ZT=nY,aY=ZT,iY=_r;function sY(e,t,r){var n=t(e);return iY(e)?n:aY(n,r(e))}var oY=sY;function lY(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var cY=lY;function uY(){return[]}var dY=uY,fY=cY,hY=dY,pY=Object.prototype,mY=pY.propertyIsEnumerable,w1=Object.getOwnPropertySymbols,gY=w1?function(e){return e==null?[]:(e=Object(e),fY(w1(e),function(t){return mY.call(e,t)}))}:hY,vY=gY;function yY(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var xY=yY,bY=ba,wY=wa,_Y="[object Arguments]";function jY(e){return wY(e)&&bY(e)==_Y}var SY=jY,_1=SY,NY=wa,e$=Object.prototype,kY=e$.hasOwnProperty,CY=e$.propertyIsEnumerable,EY=_1(function(){return arguments}())?_1:function(e){return NY(e)&&kY.call(e,"callee")&&!CY.call(e,"callee")},Mb=EY,qf={exports:{}};function AY(){return!1}var PY=AY;qf.exports;(function(e,t){var r=zn,n=PY,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(qf,qf.exports);var t$=qf.exports,OY=9007199254740991,TY=/^(?:0|[1-9]\d*)$/;function $Y(e,t){var r=typeof e;return t=t??OY,!!t&&(r=="number"||r!="symbol"&&TY.test(e))&&e>-1&&e%1==0&&e<t}var Ib=$Y,RY=9007199254740991;function MY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=RY}var Db=MY,IY=ba,DY=Db,LY=wa,FY="[object Arguments]",UY="[object Array]",BY="[object Boolean]",zY="[object Date]",WY="[object Error]",VY="[object Function]",qY="[object Map]",HY="[object Number]",GY="[object Object]",KY="[object RegExp]",XY="[object Set]",YY="[object String]",JY="[object WeakMap]",QY="[object ArrayBuffer]",ZY="[object DataView]",eJ="[object Float32Array]",tJ="[object Float64Array]",rJ="[object Int8Array]",nJ="[object Int16Array]",aJ="[object Int32Array]",iJ="[object Uint8Array]",sJ="[object Uint8ClampedArray]",oJ="[object Uint16Array]",lJ="[object Uint32Array]",at={};at[eJ]=at[tJ]=at[rJ]=at[nJ]=at[aJ]=at[iJ]=at[sJ]=at[oJ]=at[lJ]=!0;at[FY]=at[UY]=at[QY]=at[BY]=at[ZY]=at[zY]=at[WY]=at[VY]=at[qY]=at[HY]=at[GY]=at[KY]=at[XY]=at[YY]=at[JY]=!1;function cJ(e){return LY(e)&&DY(e.length)&&!!at[IY(e)]}var uJ=cJ;function dJ(e){return function(t){return e(t)}}var r$=dJ,Hf={exports:{}};Hf.exports;(function(e,t){var r=uT,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Hf,Hf.exports);var fJ=Hf.exports,hJ=uJ,pJ=r$,j1=fJ,S1=j1&&j1.isTypedArray,mJ=S1?pJ(S1):hJ,n$=mJ,gJ=xY,vJ=Mb,yJ=_r,xJ=t$,bJ=Ib,wJ=n$,_J=Object.prototype,jJ=_J.hasOwnProperty;function SJ(e,t){var r=yJ(e),n=!r&&vJ(e),a=!r&&!n&&xJ(e),s=!r&&!n&&!a&&wJ(e),o=r||n||a||s,l=o?gJ(e.length,String):[],c=l.length;for(var u in e)(t||jJ.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bJ(u,c)))&&l.push(u);return l}var NJ=SJ,kJ=Object.prototype;function CJ(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kJ;return e===r}var EJ=CJ;function AJ(e,t){return function(r){return e(t(r))}}var a$=AJ,PJ=a$,OJ=PJ(Object.keys,Object),TJ=OJ,$J=EJ,RJ=TJ,MJ=Object.prototype,IJ=MJ.hasOwnProperty;function DJ(e){if(!$J(e))return RJ(e);var t=[];for(var r in Object(e))IJ.call(e,r)&&r!="constructor"&&t.push(r);return t}var LJ=DJ,FJ=yb,UJ=Db;function BJ(e){return e!=null&&UJ(e.length)&&!FJ(e)}var zu=BJ,zJ=NJ,WJ=LJ,VJ=zu;function qJ(e){return VJ(e)?zJ(e):WJ(e)}var Dp=qJ,HJ=oY,GJ=vY,KJ=Dp;function XJ(e){return HJ(e,KJ,GJ)}var YJ=XJ,N1=YJ,JJ=1,QJ=Object.prototype,ZJ=QJ.hasOwnProperty;function eQ(e,t,r,n,a,s){var o=r&JJ,l=N1(e),c=l.length,u=N1(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:ZJ.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var y=!0;s.set(e,t),s.set(t,e);for(var p=o;++f<c;){h=l[f];var b=e[h],g=t[h];if(n)var x=o?n(g,b,h,t,e,s):n(b,g,h,e,t,s);if(!(x===void 0?b===g||a(b,g,r,n,s):x)){y=!1;break}p||(p=h=="constructor")}if(y&&!p){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(y=!1)}return s.delete(e),s.delete(t),y}var tQ=eQ,rQ=gs,nQ=zn,aQ=rQ(nQ,"DataView"),iQ=aQ,sQ=gs,oQ=zn,lQ=sQ(oQ,"Promise"),cQ=lQ,uQ=gs,dQ=zn,fQ=uQ(dQ,"Set"),i$=fQ,hQ=gs,pQ=zn,mQ=hQ(pQ,"WeakMap"),gQ=mQ,_y=iQ,jy=bb,Sy=cQ,Ny=i$,ky=gQ,s$=ba,gl=fT,k1="[object Map]",vQ="[object Object]",C1="[object Promise]",E1="[object Set]",A1="[object WeakMap]",P1="[object DataView]",yQ=gl(_y),xQ=gl(jy),bQ=gl(Sy),wQ=gl(Ny),_Q=gl(ky),Pi=s$;(_y&&Pi(new _y(new ArrayBuffer(1)))!=P1||jy&&Pi(new jy)!=k1||Sy&&Pi(Sy.resolve())!=C1||Ny&&Pi(new Ny)!=E1||ky&&Pi(new ky)!=A1)&&(Pi=function(e){var t=s$(e),r=t==vQ?e.constructor:void 0,n=r?gl(r):"";if(n)switch(n){case yQ:return P1;case xQ:return k1;case bQ:return C1;case wQ:return E1;case _Q:return A1}return t});var jQ=Pi,fg=KT,SQ=QT,NQ=rY,kQ=tQ,O1=jQ,T1=_r,$1=t$,CQ=n$,EQ=1,R1="[object Arguments]",M1="[object Array]",wd="[object Object]",AQ=Object.prototype,I1=AQ.hasOwnProperty;function PQ(e,t,r,n,a,s){var o=T1(e),l=T1(t),c=o?M1:O1(e),u=l?M1:O1(t);c=c==R1?wd:c,u=u==R1?wd:u;var d=c==wd,f=u==wd,h=c==u;if(h&&$1(e)){if(!$1(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new fg),o||CQ(e)?SQ(e,t,r,n,a,s):NQ(e,t,c,r,n,a,s);if(!(r&EQ)){var m=d&&I1.call(e,"__wrapped__"),v=f&&I1.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,p=v?t.value():t;return s||(s=new fg),a(y,p,r,n,s)}}return h?(s||(s=new fg),kQ(e,t,r,n,a,s)):!1}var OQ=PQ,TQ=OQ,D1=wa;function o$(e,t,r,n,a){return e===t?!0:e==null||t==null||!D1(e)&&!D1(t)?e!==e&&t!==t:TQ(e,t,r,n,o$,a)}var Lb=o$,$Q=KT,RQ=Lb,MQ=1,IQ=2;function DQ(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new $Q;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?RQ(d,u,MQ|IQ,n,f):h))return!1}}return!0}var LQ=DQ,FQ=gi;function UQ(e){return e===e&&!FQ(e)}var l$=UQ,BQ=l$,zQ=Dp;function WQ(e){for(var t=zQ(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,BQ(a)]}return t}var VQ=WQ;function qQ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var c$=qQ,HQ=LQ,GQ=VQ,KQ=c$;function XQ(e){var t=GQ(e);return t.length==1&&t[0][2]?KQ(t[0][0],t[0][1]):function(r){return r===e||HQ(r,e,t)}}var YQ=XQ;function JQ(e,t){return e!=null&&t in Object(e)}var QQ=JQ,ZQ=vT,eZ=Mb,tZ=_r,rZ=Ib,nZ=Db,aZ=_p;function iZ(e,t,r){t=ZQ(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=aZ(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&nZ(a)&&rZ(o,a)&&(tZ(e)||eZ(e)))}var sZ=iZ,oZ=QQ,lZ=sZ;function cZ(e,t){return e!=null&&lZ(e,t,oZ)}var uZ=cZ,dZ=Lb,fZ=yT,hZ=uZ,pZ=vb,mZ=l$,gZ=c$,vZ=_p,yZ=1,xZ=2;function bZ(e,t){return pZ(e)&&mZ(t)?gZ(vZ(e),t):function(r){var n=fZ(r,e);return n===void 0&&n===t?hZ(r,e):dZ(t,n,yZ|xZ)}}var wZ=bZ;function _Z(e){return e}var vl=_Z;function jZ(e){return function(t){return t?.[e]}}var SZ=jZ,NZ=Sb;function kZ(e){return function(t){return NZ(t,e)}}var CZ=kZ,EZ=SZ,AZ=CZ,PZ=vb,OZ=_p;function TZ(e){return PZ(e)?EZ(OZ(e)):AZ(e)}var $Z=TZ,RZ=YQ,MZ=wZ,IZ=vl,DZ=_r,LZ=$Z;function FZ(e){return typeof e=="function"?e:e==null?IZ:typeof e=="object"?DZ(e)?MZ(e[0],e[1]):RZ(e):LZ(e)}var Wn=FZ;function UZ(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var u$=UZ;function BZ(e){return e!==e}var zZ=BZ;function WZ(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var VZ=WZ,qZ=u$,HZ=zZ,GZ=VZ;function KZ(e,t,r){return t===t?GZ(e,t,r):qZ(e,HZ,r)}var XZ=KZ,YZ=XZ;function JZ(e,t){var r=e==null?0:e.length;return!!r&&YZ(e,t,0)>-1}var QZ=JZ;function ZZ(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var eee=ZZ;function tee(){}var ree=tee,hg=i$,nee=ree,aee=Rb,iee=1/0,see=hg&&1/aee(new hg([,-0]))[1]==iee?function(e){return new hg(e)}:nee,oee=see,lee=XT,cee=QZ,uee=eee,dee=JT,fee=oee,hee=Rb,pee=200;function mee(e,t,r){var n=-1,a=cee,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=uee;else if(s>=pee){var u=t?null:fee(e);if(u)return hee(u);o=!1,a=dee,c=new lee}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var gee=mee,vee=Wn,yee=gee;function xee(e,t){return e&&e.length?yee(e,vee(t)):[]}var bee=xee;const L1=Ve(bee);function d$(e,t,r){return t===!0?L1(e,r):ke(t)?L1(e,t):e}function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}var wee=["ref"];function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){Lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h$(n.key),n)}}function jee(e,t,r){return t&&U1(e.prototype,t),r&&U1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function See(e,t,r){return t=Gf(t),Nee(e,f$()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function Nee(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kee(e)}function kee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function Cee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(e,t)}function Lp(e,t,r){return t=h$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=Eee(e,"string");return ko(t)=="symbol"?t:t+""}function Eee(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Aee(e,t){if(e==null)return{};var r=Pee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oee(e){return e.value}function Tee(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=Aee(t,wee);return L.createElement($b,r)}var B1=1,Vi=function(e){function t(){var r;_ee(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=See(this,t,[].concat(a)),Lp(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cee(t,e),jee(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>B1||Math.abs(a.height-this.lastBoundingBox.height)>B1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return qn(qn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=qn(qn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Tee(s,qn(qn({},this.props),{},{payload:d$(d,u,Oee)})))}}],[{key:"getWithHeight",value:function(n,a){var s=qn(qn({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ue(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);Lp(Vi,"displayName","Legend");Lp(Vi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var z1=Fu,$ee=Mb,Ree=_r,W1=z1?z1.isConcatSpreadable:void 0;function Mee(e){return Ree(e)||$ee(e)||!!(W1&&e&&e[W1])}var Iee=Mee,Dee=ZT,Lee=Iee;function p$(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Lee),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?p$(l,t-1,r,n,a):Dee(a,l):n||(a[a.length]=l)}return a}var m$=p$;function Fee(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Uee=Fee,Bee=Uee,zee=Bee(),Wee=zee,Vee=Wee,qee=Dp;function Hee(e,t){return e&&Vee(e,t,qee)}var g$=Hee,Gee=zu;function Kee(e,t){return function(r,n){if(r==null)return r;if(!Gee(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var Xee=Kee,Yee=g$,Jee=Xee,Qee=Jee(Yee),Fb=Qee,Zee=Fb,ete=zu;function tte(e,t){var r=-1,n=ete(e)?Array(e.length):[];return Zee(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var v$=tte;function rte(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var nte=rte,V1=ul;function ate(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=V1(e),o=t!==void 0,l=t===null,c=t===t,u=V1(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var ite=ate,ste=ite;function ote(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=ste(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var lte=ote,pg=jb,cte=Sb,ute=Wn,dte=v$,fte=nte,hte=r$,pte=lte,mte=vl,gte=_r;function vte(e,t,r){t.length?t=pg(t,function(s){return gte(s)?function(o){return cte(o,s.length===1?s[0]:s)}:s}):t=[mte];var n=-1;t=pg(t,hte(ute));var a=dte(e,function(s,o,l){var c=pg(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return fte(a,function(s,o){return pte(s,o,r)})}var yte=vte;function xte(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var bte=xte,wte=bte,q1=Math.max;function _te(e,t,r){return t=q1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=q1(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),wte(e,this,l)}}var jte=_te;function Ste(e){return function(){return e}}var Nte=Ste,kte=gs,Cte=function(){try{var e=kte(Object,"defineProperty");return e({},"",{}),e}catch{}}(),y$=Cte,Ete=Nte,H1=y$,Ate=vl,Pte=H1?function(e,t){return H1(e,"toString",{configurable:!0,enumerable:!1,value:Ete(t),writable:!0})}:Ate,Ote=Pte,Tte=800,$te=16,Rte=Date.now;function Mte(e){var t=0,r=0;return function(){var n=Rte(),a=$te-(n-r);if(r=n,a>0){if(++t>=Tte)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ite=Mte,Dte=Ote,Lte=Ite,Fte=Lte(Dte),Ute=Fte,Bte=vl,zte=jte,Wte=Ute;function Vte(e,t){return Wte(zte(e,t,Bte),e+"")}var qte=Vte,Hte=xb,Gte=zu,Kte=Ib,Xte=gi;function Yte(e,t,r){if(!Xte(r))return!1;var n=typeof t;return(n=="number"?Gte(r)&&Kte(t,r.length):n=="string"&&t in r)?Hte(r[t],e):!1}var Fp=Yte,Jte=m$,Qte=yte,Zte=qte,G1=Fp,ere=Zte(function(e,t){if(e==null)return[];var r=t.length;return r>1&&G1(e,t[0],t[1])?t=[]:r>2&&G1(t[0],t[1],t[2])&&(t=[t[0]]),Qte(e,Jte(t,1),[])}),tre=ere;const Ub=Ve(tre);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function rre(e,t){return sre(e)||ire(e,t)||are(e,t)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ire(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sre(e){if(Array.isArray(e))return e}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return t=lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return Gc(t)=="symbol"?t:t+""}function cre(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ure(e){return Array.isArray(e)&&Ot(e[0])&&Ot(e[1])?e.join(" ~ "):e}var dre=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,y=t.label,p=t.labelFormatter,b=t.accessibilityLayer,g=b===void 0?!1:b,x=function(){if(d&&d.length){var T={padding:0,margin:0},z=(h?Ub(d,h):d).map(function(E,R){if(E.type==="none")return null;var D=mg({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),$=E.formatter||f||ure,C=E.value,M=E.name,q=C,Z=M;if($&&q!=null&&Z!=null){var te=$(C,M,E,R,d);if(Array.isArray(te)){var ce=rre(te,2);q=ce[0],Z=ce[1]}else q=te}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:D},Ot(Z)?L.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ot(Z)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},q),L.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:T},z)}return null},_=mg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=mg({margin:0},u),S=!Me(y),N=S?y:"",k=Oe("recharts-default-tooltip",m),A=Oe("recharts-tooltip-label",v);S&&p&&d!==void 0&&d!==null&&(N=p(y,d));var O=g?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Ey({className:k,style:_},O),L.createElement("p",{className:A,style:j},L.isValidElement(N)?N:"".concat(N)),x())};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function _d(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return Kc(t)=="symbol"?t:t+""}function hre(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml="recharts-tooltip-wrapper",pre={visibility:"hidden"};function mre(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Oe(Ml,_d(_d(_d(_d({},"".concat(Ml,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(Ml,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(Ml,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(Ml,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function Y1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&ue(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,y=c[n]+u;return v>y?Math.max(d,c[n]):Math.max(f,c[n])}function gre(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function vre(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Y1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Y1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=gre({translateX:d,translateY:f,useTranslate3d:l})):u=pre,{cssProperties:u,cssClasses:mre({translateX:d,translateY:f,coordinate:r})}}function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){Py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b$(n.key),n)}}function bre(e,t,r){return t&&xre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wre(e,t,r){return t=Kf(t),_re(e,x$()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function _re(e,t){if(t&&(Co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jre(e)}function jre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function Sre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ay(e,t)}function Py(e,t,r){return t=b$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=Nre(e,"string");return Co(t)=="symbol"?t:t+""}function Nre(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z1=1,kre=function(e){function t(){var r;yre(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=wre(this,t,[].concat(a)),Py(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Py(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Sre(t,e),bre(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Z1||Math.abs(n.height-this.state.lastBoundingBox.height)>Z1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,y=a.reverseDirection,p=a.useTranslate3d,b=a.viewBox,g=a.wrapperStyle,x=vre({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:b}),_=x.cssClasses,j=x.cssProperties,S=Q1(Q1({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return L.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(w.PureComponent),Cre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yl={isSsr:Cre()};function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){Bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Are(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_$(n.key),n)}}function Pre(e,t,r){return t&&Are(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ore(e,t,r){return t=Xf(t),Tre(e,w$()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function Tre(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(e)}function $re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function Rre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oy(e,t)}function Oy(e,t){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oy(e,t)}function Bb(e,t,r){return t=_$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=Mre(e,"string");return Eo(t)=="symbol"?t:t+""}function Mre(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ire(e){return e.dataKey}function Dre(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(dre,t)}var ln=function(e){function t(){return Ere(this,t),Ore(this,t,arguments)}return Rre(t,e),Pre(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,y=a.payloadUniqBy,p=a.position,b=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,_=a.wrapperStyle,j=v??[];f&&j.length&&(j=d$(v.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),y,Ire));var S=j.length>0;return L.createElement(kre,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:p,reverseDirection:b,useTranslate3d:g,viewBox:x,wrapperStyle:_},Dre(u,tS(tS({},this.props),{},{payload:j})))}}])}(w.PureComponent);Bb(ln,"displayName","Tooltip");Bb(ln,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lre=zn,Fre=function(){return Lre.Date.now()},Ure=Fre,Bre=/\s/;function zre(e){for(var t=e.length;t--&&Bre.test(e.charAt(t)););return t}var Wre=zre,Vre=Wre,qre=/^\s+/;function Hre(e){return e&&e.slice(0,Vre(e)+1).replace(qre,"")}var Gre=Hre,Kre=Gre,rS=gi,Xre=ul,nS=NaN,Yre=/^[-+]0x[0-9a-f]+$/i,Jre=/^0b[01]+$/i,Qre=/^0o[0-7]+$/i,Zre=parseInt;function ene(e){if(typeof e=="number")return e;if(Xre(e))return nS;if(rS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Kre(e);var r=Jre.test(e);return r||Qre.test(e)?Zre(e.slice(2),r?2:8):Yre.test(e)?nS:+e}var j$=ene,tne=gi,gg=Ure,aS=j$,rne="Expected a function",nne=Math.max,ane=Math.min;function ine(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(rne);t=aS(t)||0,tne(r)&&(d=!!r.leading,f="maxWait"in r,s=f?nne(aS(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=a;return n=a=void 0,u=S,o=e.apply(k,N),o}function v(S){return u=S,l=setTimeout(b,t),d?m(S):o}function y(S){var N=S-c,k=S-u,A=t-N;return f?ane(A,s-k):A}function p(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=s}function b(){var S=gg();if(p(S))return g(S);l=setTimeout(b,y(S))}function g(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:g(gg())}function j(){var S=gg(),N=p(S);if(n=arguments,a=this,c=S,N){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=x,j.flush=_,j}var sne=ine,one=sne,lne=gi,cne="Expected a function";function une(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(cne);return lne(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),one(e,t,{leading:n,maxWait:t,trailing:a})}var dne=une;const S$=Ve(dne);function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return t=hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=pne(e,"string");return Xc(t)=="symbol"?t:t+""}function pne(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){return xne(e)||yne(e,t)||vne(e,t)||gne()}function gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(e,t){if(e){if(typeof e=="string")return sS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sS(e,t)}}function sS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xne(e){if(Array.isArray(e))return e}var oS=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,y=v===void 0?0:v,p=e.id,b=e.className,g=e.onResize,x=e.style,_=x===void 0?{}:x,j=w.useRef(null),S=w.useRef();S.current=g,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=w.useState({containerWidth:a.width,containerHeight:a.height}),k=mne(N,2),A=k[0],O=k[1],P=w.useCallback(function(z,E){O(function(R){var D=Math.round(z),$=Math.round(E);return R.containerWidth===D&&R.containerHeight===$?R:{containerWidth:D,containerHeight:$}})},[]);w.useEffect(function(){var z=function(M){var q,Z=M[0].contentRect,te=Z.width,ce=Z.height;P(te,ce),(q=S.current)===null||q===void 0||q.call(S,te,ce)};y>0&&(z=S$(z,y,{trailing:!0,leading:!1}));var E=new ResizeObserver(z),R=j.current.getBoundingClientRect(),D=R.width,$=R.height;return P(D,$),E.observe(j.current),function(){E.disconnect()}},[P,y]);var T=w.useMemo(function(){var z=A.containerWidth,E=A.containerHeight;if(z<0||E<0)return null;pn(Li(o)||Li(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),pn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Li(o)?z:o,D=Li(c)?E:c;r&&r>0&&(R?D=R/r:D&&(R=D*r),h&&D>h&&(D=h)),pn(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,o,c,d,f,r);var $=!Array.isArray(m)&&ia(m.type).endsWith("Chart");return L.Children.map(m,function(C){return L.isValidElement(C)?w.cloneElement(C,jd({width:R,height:D},$?{style:jd({height:"100%",width:"100%",maxHeight:D,maxWidth:R},C.props.style)}:{})):C})},[r,m,c,h,f,d,A,o]);return L.createElement("div",{id:p?"".concat(p):void 0,className:Oe("recharts-responsive-container",b),style:jd(jd({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),zb=function(t){return null};zb.displayName="Cell";function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return t=wne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=_ne(e,"string");return Yc(t)=="symbol"?t:t+""}function _ne(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps={widthCache:{},cacheCount:0},jne=2e3,Sne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cS="recharts_measurement_span";function Nne(e){var t=Ty({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var dc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yl.isSsr)return{width:0,height:0};var n=Nne(r),a=JSON.stringify({text:t,copyStyle:n});if(Ps.widthCache[a])return Ps.widthCache[a];try{var s=document.getElementById(cS);s||(s=document.createElement("span"),s.setAttribute("id",cS),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ty(Ty({},Sne),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ps.widthCache[a]=c,++Ps.cacheCount>jne&&(Ps.cacheCount=0,Ps.widthCache={}),c}catch{return{width:0,height:0}}},kne=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Yf(e,t){return Pne(e)||Ane(e,t)||Ene(e,t)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(e,t){if(e){if(typeof e=="string")return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ane(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Pne(e){if(Array.isArray(e))return e}function One(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ne(n.key),n)}}function Tne(e,t,r){return t&&dS(e.prototype,t),r&&dS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ne(e){var t=Rne(e,"string");return Jc(t)=="symbol"?t:t+""}function Rne(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ine=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,N$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dne=Object.keys(N$),Ks="NaN";function Lne(e,t){return e*N$[t]}var Sd=function(){function e(t,r){One(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Mne.test(r)&&(this.num=NaN,this.unit=""),Dne.includes(r)&&(this.num=Lne(t,r),this.unit="px")}return Tne(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Ine.exec(r))!==null&&n!==void 0?n:[],s=Yf(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function k$(e){if(e.includes(Ks))return Ks;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=fS.exec(t))!==null&&r!==void 0?r:[],a=Yf(n,4),s=a[1],o=a[2],l=a[3],c=Sd.parse(s??""),u=Sd.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ks;t=t.replace(fS,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=hS.exec(t))!==null&&f!==void 0?f:[],m=Yf(h,4),v=m[1],y=m[2],p=m[3],b=Sd.parse(v??""),g=Sd.parse(p??""),x=y==="+"?b.add(g):b.subtract(g);if(x.isNaN())return Ks;t=t.replace(hS,x.toString())}return t}var pS=/\(([^()]*)\)/;function Fne(e){for(var t=e;t.includes("(");){var r=pS.exec(t),n=Yf(r,2),a=n[1];t=t.replace(pS,k$(a))}return t}function Une(e){var t=e.replace(/\s+/g,"");return t=Fne(t),t=k$(t),t}function Bne(e){try{return Une(e)}catch{return Ks}}function vg(e){var t=Bne(e.slice(5,-1));return t===Ks?"":t}var zne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wne=["dx","dy","angle","className","breakAll"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function mS(e,t){if(e==null)return{};var r=Vne(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gS(e,t){return Kne(e)||Gne(e,t)||Hne(e,t)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hne(e,t){if(e){if(typeof e=="string")return vS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(e,t)}}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Kne(e){if(Array.isArray(e))return e}var C$=/[ \f\n\r\t\v\u2028\u2029]+/,E$=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Me(r)||(n?s=r.toString().split(""):s=r.toString().split(C$));var o=s.map(function(c){return{word:c,width:dc(c,a).width}}),l=n?0:dc("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Xne=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ue(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(D,$){var C=$.word,M=$.width,q=D[D.length-1];if(q&&(a==null||s||q.width+M+n<Number(a)))q.words.push(C),q.width+=M+n;else{var Z={words:[C],width:M};D.push(Z)}return D},[])},m=h(r),v=function(R){return R.reduce(function(D,$){return D.width>$.width?D:$})};if(!d)return m;for(var y="",p=function(R){var D=f.slice(0,R),$=E$({breakAll:u,style:c,children:D+y}).wordsWithComputedWidth,C=h($),M=C.length>o||v(C).width>Number(a);return[M,C]},b=0,g=f.length-1,x=0,_;b<=g&&x<=f.length-1;){var j=Math.floor((b+g)/2),S=j-1,N=p(S),k=gS(N,2),A=k[0],O=k[1],P=p(j),T=gS(P,1),z=T[0];if(!A&&!z&&(b=j+1),A&&z&&(g=j-1),!A&&z){_=O;break}x++}return _||m},yS=function(t){var r=Me(t)?[]:t.toString().split(C$);return[{words:r}]},Yne=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!yl.isSsr){var c,u,d=E$({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return yS(a);return Xne({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return yS(a)},xS="#808080",ss=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,y=v===void 0?"end":v,p=t.fill,b=p===void 0?xS:p,g=mS(t,zne),x=w.useMemo(function(){return Yne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),_=g.dx,j=g.dy,S=g.angle,N=g.className,k=g.breakAll,A=mS(g,Wne);if(!Ot(n)||!Ot(s))return null;var O=n+(ue(_)?_:0),P=s+(ue(j)?j:0),T;switch(y){case"start":T=vg("calc(".concat(u,")"));break;case"middle":T=vg("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=vg("calc(".concat(x.length-1," * -").concat(l,")"));break}var z=[];if(f){var E=x[0].width,R=g.width;z.push("scale(".concat((ue(R)?R/E:1)/E,")"))}return S&&z.push("rotate(".concat(S,", ").concat(O,", ").concat(P,")")),z.length&&(A.transform=z.join(" ")),L.createElement("text",$y({},Se(A,!0),{x:O,y:P,className:Oe("recharts-text",N),textAnchor:m,fill:b.includes("url")?xS:b}),x.map(function(D,$){var C=D.words.join(k?"":" ");return L.createElement("tspan",{x:O,dy:$===0?T:l,key:"".concat(C,"-").concat($)},C)}))};function ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wb(e){let t,r,n;e.length!==2?(t=ti,r=(l,c)=>ti(e(l),c),n=(l,c)=>e(l)-c):(t=e===ti||e===Jne?e:Qne,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function Qne(){return 0}function A$(e){return e===null?NaN:+e}function*Zne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eae=Wb(ti),Wu=eae.right;Wb(A$).center;class bS extends Map{constructor(t,r=nae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(wS(this,t))}has(t){return super.has(wS(this,t))}set(t,r){return super.set(tae(this,t),r)}delete(t){return super.delete(rae(this,t))}}function wS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aae(e=ti){if(e===ti)return P$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function P$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iae=Math.sqrt(50),sae=Math.sqrt(10),oae=Math.sqrt(2);function Jf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=iae?10:s>=sae?5:s>=oae?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Jf(e,t,r*2):[l,c,u]}function Ry(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Jf(t,e,r):Jf(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function My(e,t,r){return t=+t,e=+e,r=+r,Jf(e,t,r)[2]}function Iy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?My(t,e,r):My(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _S(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function O$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?P$:aae(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));O$(e,t,m,v,a)}const s=e[t];let o=r,l=n;for(Il(e,r,t),a(e[n],s)>0&&Il(e,r,n);o<l;){for(Il(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Il(e,r,l):(++l,Il(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Il(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lae(e,t,r){if(e=Float64Array.from(Zne(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jS(e);if(t>=1)return _S(e);var n,a=(n-1)*t,s=Math.floor(a),o=_S(O$(e,s).subarray(0,s+1)),l=jS(e.subarray(s+1));return o+(l-o)*(a-s)}}function cae(e,t,r=A$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function uae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dy=Symbol("implicit");function Vb(){var e=new bS,t=[],r=[],n=Dy;function a(s){let o=e.get(s);if(o===void 0){if(n!==Dy)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new bS;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Vb(t,r).unknown(n)},Qr.apply(a,arguments),a}function Qc(){var e=Vb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,y=m?n:a;s=(y-v)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),v+=(y-v-s*(h-c))*d,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var p=uae(h).map(function(b){return v+s*b});return r(m?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Qc(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Qr.apply(f(),arguments)}function T$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T$(t())},e}function fc(){return T$(Qc.apply(null,arguments).paddingInner(1))}function qb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vu(){}var Zc=.7,Qf=1/Zc,uo="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dae=/^#([0-9a-f]{3,8})$/,fae=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),hae=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),pae=new RegExp(`^rgba\\(${uo},${uo},${uo},${eu}\\)$`),mae=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${eu}\\)$`),gae=new RegExp(`^hsl\\(${eu},${Mn},${Mn}\\)$`),vae=new RegExp(`^hsla\\(${eu},${Mn},${Mn},${eu}\\)$`),SS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qb(Vu,tu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NS,formatHex:NS,formatHex8:yae,formatHsl:xae,formatRgb:kS,toString:kS});function NS(){return this.rgb().formatHex()}function yae(){return this.rgb().formatHex8()}function xae(){return R$(this).formatHsl()}function kS(){return this.rgb().formatRgb()}function tu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CS(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fae.exec(e))?new yr(t[1],t[2],t[3],1):(t=hae.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pae.exec(e))?Nd(t[1],t[2],t[3],t[4]):(t=mae.exec(e))?Nd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gae.exec(e))?PS(t[1],t[2]/100,t[3]/100,1):(t=vae.exec(e))?PS(t[1],t[2]/100,t[3]/100,t[4]):SS.hasOwnProperty(e)?CS(SS[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function CS(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Nd(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function bae(e){return e instanceof Vu||(e=tu(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function Ly(e,t,r,n){return arguments.length===1?bae(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qb(yr,Ly,$$(Vu,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(qi(this.r),qi(this.g),qi(this.b),Zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ES,formatHex:ES,formatHex8:wae,formatRgb:AS,toString:AS}));function ES(){return`#${Fi(this.r)}${Fi(this.g)}${Fi(this.b)}`}function wae(){return`#${Fi(this.r)}${Fi(this.g)}${Fi(this.b)}${Fi((isNaN(this.opacity)?1:this.opacity)*255)}`}function AS(){const e=Zf(this.opacity);return`${e===1?"rgb(":"rgba("}${qi(this.r)}, ${qi(this.g)}, ${qi(this.b)}${e===1?")":`, ${e})`}`}function Zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fi(e){return e=qi(e),(e<16?"0":"")+e.toString(16)}function PS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new dn(e,t,r,n)}function R$(e){if(e instanceof dn)return new dn(e.h,e.s,e.l,e.opacity);if(e instanceof Vu||(e=tu(e)),!e)return new dn;if(e instanceof dn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new dn(o,l,c,e.opacity)}function _ae(e,t,r,n){return arguments.length===1?R$(e):new dn(e,t,r,n??1)}function dn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qb(dn,_ae,$$(Vu,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yr(yg(e>=240?e-240:e+120,a,n),yg(e,a,n),yg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new dn(OS(this.h),kd(this.s),kd(this.l),Zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zf(this.opacity);return`${e===1?"hsl(":"hsla("}${OS(this.h)}, ${kd(this.s)*100}%, ${kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OS(e){return e=(e||0)%360,e<0?e+360:e}function kd(e){return Math.max(0,Math.min(1,e||0))}function yg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hb=e=>()=>e;function jae(e,t){return function(r){return e+r*t}}function Sae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Nae(e){return(e=+e)==1?M$:function(t,r){return r-t?Sae(t,r,e):Hb(isNaN(t)?r:t)}}function M$(e,t){var r=t-e;return r?jae(e,r):Hb(isNaN(e)?t:e)}const TS=function e(t){var r=Nae(t);function n(a,s){var o=r((a=Ly(a)).r,(s=Ly(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=M$(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function kae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Cae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Eae(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=xl(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Aae(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function eh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Pae(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xg=new RegExp(Fy.source,"g");function Oae(e){return function(){return e}}function Tae(e){return function(t){return e(t)+""}}function $ae(e,t){var r=Fy.lastIndex=xg.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Fy.exec(e))&&(a=xg.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:eh(n,a)})),r=xg.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Tae(c[0].x):Oae(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function xl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hb(t):(r==="number"?eh:r==="string"?(n=tu(t))?(t=n,TS):$ae:t instanceof tu?TS:t instanceof Date?Aae:Cae(t)?kae:Array.isArray(t)?Eae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pae:eh)(e,t)}function Gb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Rae(e,t){t===void 0&&(t=e,e=xl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Mae(e){return function(){return e}}function th(e){return+e}var $S=[0,1];function or(e){return e}function Uy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Mae(isNaN(t)?NaN:.5)}function Iae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Dae(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Uy(a,n),s=r(o,s)):(n=Uy(n,a),s=r(s,o)),function(l){return s(n(l))}}function Lae(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Uy(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Wu(e,l,1,n)-1;return s[c](a[c](l))}}function qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Up(){var e=$S,t=$S,r=xl,n,a,s,o=or,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==or&&(o=Iae(e[0],e[h-1])),l=h>2?Lae:Dae,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),eh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,th),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Gb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:or,d()):o!==or},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function Kb(){return Up()(or,or)}function Fae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ao(e){return e=rh(Math.abs(e)),e?e[1]:NaN}function Uae(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Bae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ru(e){if(!(t=zae.exec(e)))throw new Error("invalid format: "+e);var t;return new Xb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ru.prototype=Xb.prototype;function Xb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wae(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var I$;function Vae(e,t){var r=rh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(I$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+rh(e,Math.max(0,t+s-1))[0]}function RS(e,t){var r=rh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const MS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RS(e*100,t),r:RS,s:Vae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IS(e){return e}var DS=Array.prototype.map,LS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qae(e){var t=e.grouping===void 0||e.thousands===void 0?IS:Uae(DS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?IS:Bae(DS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ru(f);var h=f.fill,m=f.align,v=f.sign,y=f.symbol,p=f.zero,b=f.width,g=f.comma,x=f.precision,_=f.trim,j=f.type;j==="n"?(g=!0,j="g"):MS[j]||(x===void 0&&(x=12),_=!0,j="g"),(p||h==="0"&&m==="=")&&(p=!0,h="0",m="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=y==="$"?n:/[%p]/.test(j)?o:"",k=MS[j],A=/[defgprs%]/.test(j);x=x===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(P){var T=S,z=N,E,R,D;if(j==="c")z=k(P)+z,P="";else{P=+P;var $=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),x),_&&(P=Wae(P)),$&&+P==0&&v!=="+"&&($=!1),T=($?v==="("?v:l:v==="-"||v==="("?"":v)+T,z=(j==="s"?LS[8+I$/3]:"")+z+($&&v==="("?")":""),A){for(E=-1,R=P.length;++E<R;)if(D=P.charCodeAt(E),48>D||D>57){z=(D===46?a+P.slice(E+1):P.slice(E))+z,P=P.slice(0,E);break}}}g&&!p&&(P=t(P,1/0));var C=T.length+P.length+z.length,M=C<b?new Array(b-C+1).join(h):"";switch(g&&p&&(P=t(M+P,M.length?b-z.length:1/0),M=""),m){case"<":P=T+P+z+M;break;case"=":P=T+M+P+z;break;case"^":P=M.slice(0,C=M.length>>1)+T+P+z+M.slice(C);break;default:P=M+T+P+z;break}return s(P)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=ru(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Ao(h)/3)))*3,y=Math.pow(10,-v),p=LS[8+v/3];return function(b){return m(y*b)+p}}return{format:u,formatPrefix:d}}var Cd,Yb,D$;Hae({thousands:",",grouping:[3],currency:["$",""]});function Hae(e){return Cd=qae(e),Yb=Cd.format,D$=Cd.formatPrefix,Cd}function Gae(e){return Math.max(0,-Ao(Math.abs(e)))}function Kae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ao(t)/3)))*3-Ao(Math.abs(e)))}function Xae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ao(t)-Ao(e))+1}function L$(e,t,r,n){var a=Iy(e,t,r),s;switch(n=ru(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Kae(a,o))&&(n.precision=s),D$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Xae(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Gae(a))&&(n.precision=s-(n.type==="%")*2);break}}return Yb(n)}function vi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ry(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return L$(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=My(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function nh(){var e=Kb();return e.copy=function(){return qu(e,nh())},Qr.apply(e,arguments),vi(e)}function F$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,th),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return F$(e).unknown(t)},e=arguments.length?Array.from(e,th):[0,1],vi(r)}function U$(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function FS(e){return Math.log(e)}function US(e){return Math.exp(e)}function Yae(e){return-Math.log(-e)}function Jae(e){return-Math.exp(-e)}function Qae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zae(e){return e===10?Qae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BS(e){return(t,r)=>-e(-t,r)}function Jb(e){const t=e(FS,US),r=t.domain;let n=10,a,s;function o(){return a=eie(n),s=Zae(n),r()[0]<0?(a=BS(a),s=BS(s),e(Yae,Jae)):e(FS,US),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,y;const p=l==null?10:+l;let b=[];if(!(n%1)&&m-h<p){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(y=h<0?v/s(-h):v*s(h),!(y<u)){if(y>d)break;b.push(y)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(y=h>0?v/s(-h):v*s(h),!(y<u)){if(y>d)break;b.push(y)}b.length*2<p&&(b=Ry(u,d,p))}else b=Ry(h,m,Math.min(m-h,p)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ru(c)).precision==null&&(c.trim=!0),c=Yb(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(U$(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function B$(){const e=Jb(Up()).domain([1,10]);return e.copy=()=>qu(e,B$()).base(e.base()),Qr.apply(e,arguments),e}function zS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function WS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qb(e){var t=1,r=e(zS(t),WS(t));return r.constant=function(n){return arguments.length?e(zS(t=+n),WS(t)):t},vi(r)}function z$(){var e=Qb(Up());return e.copy=function(){return qu(e,z$()).constant(e.constant())},Qr.apply(e,arguments)}function VS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rie(e){return e<0?-e*e:e*e}function Zb(e){var t=e(or,or),r=1;function n(){return r===1?e(or,or):r===.5?e(tie,rie):e(VS(r),VS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},vi(t)}function ew(){var e=Zb(Up());return e.copy=function(){return qu(e,ew()).exponent(e.exponent())},Qr.apply(e,arguments),e}function nie(){return ew.apply(null,arguments).exponent(.5)}function qS(e){return Math.sign(e)*e*e}function aie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function W$(){var e=Kb(),t=[0,1],r=!1,n;function a(s){var o=aie(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(qS(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,th)).map(qS)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return W$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qr.apply(a,arguments),vi(a)}function V$(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=cae(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Wu(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ti),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return V$().domain(e).range(t).unknown(n)},Qr.apply(s,arguments)}function q$(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Wu(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return q$().domain([e,t]).range(a).unknown(s)},Qr.apply(vi(o),arguments)}function H$(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Wu(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return H$().domain(e).range(t).unknown(r)},Qr.apply(a,arguments)}const bg=new Date,wg=new Date;function $t(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>$t(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(bg.setTime(+s),wg.setTime(+o),e(bg),e(wg),Math.floor(r(bg,wg))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const ah=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ah);ah.range;const Zn=1e3,qr=Zn*60,ea=qr*60,pa=ea*24,tw=pa*7,HS=pa*30,_g=pa*365,Ui=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCSeconds());Ui.range;const rw=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getMinutes());rw.range;const nw=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCMinutes());nw.range;const aw=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zn-e.getMinutes()*qr)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getHours());aw.range;const iw=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCHours());iw.range;const Hu=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qr)/pa,e=>e.getDate()-1);Hu.range;const Bp=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>e.getUTCDate()-1);Bp.range;const G$=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pa,e=>Math.floor(e/pa));G$.range;function vs(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qr)/tw)}const zp=vs(0),ih=vs(1),iie=vs(2),sie=vs(3),Po=vs(4),oie=vs(5),lie=vs(6);zp.range;ih.range;iie.range;sie.range;Po.range;oie.range;lie.range;function ys(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tw)}const Wp=ys(0),sh=ys(1),cie=ys(2),uie=ys(3),Oo=ys(4),die=ys(5),fie=ys(6);Wp.range;sh.range;cie.range;uie.range;Oo.range;die.range;fie.range;const sw=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sw.range;const ow=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ow.range;const ma=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ma.range;const ga=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ga.range;function K$(e,t,r,n,a,s){const o=[[Ui,1,Zn],[Ui,5,5*Zn],[Ui,15,15*Zn],[Ui,30,30*Zn],[s,1,qr],[s,5,5*qr],[s,15,15*qr],[s,30,30*qr],[a,1,ea],[a,3,3*ea],[a,6,6*ea],[a,12,12*ea],[n,1,pa],[n,2,2*pa],[r,1,tw],[t,1,HS],[t,3,3*HS],[e,1,_g]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=Wb(([,,p])=>p).right(o,h);if(m===o.length)return e.every(Iy(u/_g,d/_g,f));if(m===0)return ah.every(Math.max(Iy(u,d,f),1));const[v,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(y)}return[l,c]}const[hie,pie]=K$(ga,ow,Wp,G$,iw,nw),[mie,gie]=K$(ma,sw,zp,Hu,aw,rw);function jg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vie(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ll(a),d=Fl(a),f=Ll(s),h=Fl(s),m=Ll(o),v=Fl(o),y=Ll(l),p=Fl(l),b=Ll(c),g=Fl(c),x={a:$,A:C,b:M,B:q,c:null,d:QS,e:QS,f:Uie,g:Yie,G:Qie,H:Die,I:Lie,j:Fie,L:X$,m:Bie,M:zie,p:Z,q:te,Q:tN,s:rN,S:Wie,u:Vie,U:qie,V:Hie,w:Gie,W:Kie,x:null,X:null,y:Xie,Y:Jie,Z:Zie,"%":eN},_={a:ce,A:pe,b:J,B:ne,c:null,d:ZS,e:ZS,f:nse,g:hse,G:mse,H:ese,I:tse,j:rse,L:J$,m:ase,M:ise,p:H,q:I,Q:tN,s:rN,S:sse,u:ose,U:lse,V:cse,w:use,W:dse,x:null,X:null,y:fse,Y:pse,Z:gse,"%":eN},j={a:O,A:P,b:T,B:z,c:E,d:YS,e:YS,f:$ie,g:XS,G:KS,H:JS,I:JS,j:Aie,L:Tie,m:Eie,M:Pie,p:A,q:Cie,Q:Mie,s:Iie,S:Oie,u:_ie,U:jie,V:Sie,w:wie,W:Nie,x:R,X:D,y:XS,Y:KS,Z:kie,"%":Rie};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(F,B){return function(G){var V=[],de=-1,U=0,Y=F.length,ae,xe,Le;for(G instanceof Date||(G=new Date(+G));++de<Y;)F.charCodeAt(de)===37&&(V.push(F.slice(U,de)),(xe=GS[ae=F.charAt(++de)])!=null?ae=F.charAt(++de):xe=ae==="e"?" ":"0",(Le=B[ae])&&(ae=Le(G,xe)),V.push(ae),U=de+1);return V.push(F.slice(U,de)),V.join("")}}function N(F,B){return function(G){var V=Dl(1900,void 0,1),de=k(V,F,G+="",0),U,Y;if(de!=G.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(B&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(U=Sg(Dl(V.y,0,1)),Y=U.getUTCDay(),U=Y>4||Y===0?sh.ceil(U):sh(U),U=Bp.offset(U,(V.V-1)*7),V.y=U.getUTCFullYear(),V.m=U.getUTCMonth(),V.d=U.getUTCDate()+(V.w+6)%7):(U=jg(Dl(V.y,0,1)),Y=U.getDay(),U=Y>4||Y===0?ih.ceil(U):ih(U),U=Hu.offset(U,(V.V-1)*7),V.y=U.getFullYear(),V.m=U.getMonth(),V.d=U.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Y="Z"in V?Sg(Dl(V.y,0,1)).getUTCDay():jg(Dl(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Y+5)%7:V.w+V.U*7-(Y+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Sg(V)):jg(V)}}function k(F,B,G,V){for(var de=0,U=B.length,Y=G.length,ae,xe;de<U;){if(V>=Y)return-1;if(ae=B.charCodeAt(de++),ae===37){if(ae=B.charAt(de++),xe=j[ae in GS?B.charAt(de++):ae],!xe||(V=xe(F,G,V))<0)return-1}else if(ae!=G.charCodeAt(V++))return-1}return V}function A(F,B,G){var V=u.exec(B.slice(G));return V?(F.p=d.get(V[0].toLowerCase()),G+V[0].length):-1}function O(F,B,G){var V=m.exec(B.slice(G));return V?(F.w=v.get(V[0].toLowerCase()),G+V[0].length):-1}function P(F,B,G){var V=f.exec(B.slice(G));return V?(F.w=h.get(V[0].toLowerCase()),G+V[0].length):-1}function T(F,B,G){var V=b.exec(B.slice(G));return V?(F.m=g.get(V[0].toLowerCase()),G+V[0].length):-1}function z(F,B,G){var V=y.exec(B.slice(G));return V?(F.m=p.get(V[0].toLowerCase()),G+V[0].length):-1}function E(F,B,G){return k(F,t,B,G)}function R(F,B,G){return k(F,r,B,G)}function D(F,B,G){return k(F,n,B,G)}function $(F){return o[F.getDay()]}function C(F){return s[F.getDay()]}function M(F){return c[F.getMonth()]}function q(F){return l[F.getMonth()]}function Z(F){return a[+(F.getHours()>=12)]}function te(F){return 1+~~(F.getMonth()/3)}function ce(F){return o[F.getUTCDay()]}function pe(F){return s[F.getUTCDay()]}function J(F){return c[F.getUTCMonth()]}function ne(F){return l[F.getUTCMonth()]}function H(F){return a[+(F.getUTCHours()>=12)]}function I(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var B=S(F+="",x);return B.toString=function(){return F},B},parse:function(F){var B=N(F+="",!1);return B.toString=function(){return F},B},utcFormat:function(F){var B=S(F+="",_);return B.toString=function(){return F},B},utcParse:function(F){var B=N(F+="",!0);return B.toString=function(){return F},B}}}var GS={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,yie=/^%/,xie=/[\\^$*+?|[\]().{}]/g;function Be(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function bie(e){return e.replace(xie,"\\$&")}function Ll(e){return new RegExp("^(?:"+e.map(bie).join("|")+")","i")}function Fl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wie(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _ie(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function jie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function KS(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function XS(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Cie(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Eie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function YS(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Aie(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function JS(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Oie(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Tie(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $ie(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rie(e,t,r){var n=yie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Mie(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Iie(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function QS(e,t){return Be(e.getDate(),t,2)}function Die(e,t){return Be(e.getHours(),t,2)}function Lie(e,t){return Be(e.getHours()%12||12,t,2)}function Fie(e,t){return Be(1+Hu.count(ma(e),e),t,3)}function X$(e,t){return Be(e.getMilliseconds(),t,3)}function Uie(e,t){return X$(e,t)+"000"}function Bie(e,t){return Be(e.getMonth()+1,t,2)}function zie(e,t){return Be(e.getMinutes(),t,2)}function Wie(e,t){return Be(e.getSeconds(),t,2)}function Vie(e){var t=e.getDay();return t===0?7:t}function qie(e,t){return Be(zp.count(ma(e)-1,e),t,2)}function Y$(e){var t=e.getDay();return t>=4||t===0?Po(e):Po.ceil(e)}function Hie(e,t){return e=Y$(e),Be(Po.count(ma(e),e)+(ma(e).getDay()===4),t,2)}function Gie(e){return e.getDay()}function Kie(e,t){return Be(ih.count(ma(e)-1,e),t,2)}function Xie(e,t){return Be(e.getFullYear()%100,t,2)}function Yie(e,t){return e=Y$(e),Be(e.getFullYear()%100,t,2)}function Jie(e,t){return Be(e.getFullYear()%1e4,t,4)}function Qie(e,t){var r=e.getDay();return e=r>=4||r===0?Po(e):Po.ceil(e),Be(e.getFullYear()%1e4,t,4)}function Zie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function ZS(e,t){return Be(e.getUTCDate(),t,2)}function ese(e,t){return Be(e.getUTCHours(),t,2)}function tse(e,t){return Be(e.getUTCHours()%12||12,t,2)}function rse(e,t){return Be(1+Bp.count(ga(e),e),t,3)}function J$(e,t){return Be(e.getUTCMilliseconds(),t,3)}function nse(e,t){return J$(e,t)+"000"}function ase(e,t){return Be(e.getUTCMonth()+1,t,2)}function ise(e,t){return Be(e.getUTCMinutes(),t,2)}function sse(e,t){return Be(e.getUTCSeconds(),t,2)}function ose(e){var t=e.getUTCDay();return t===0?7:t}function lse(e,t){return Be(Wp.count(ga(e)-1,e),t,2)}function Q$(e){var t=e.getUTCDay();return t>=4||t===0?Oo(e):Oo.ceil(e)}function cse(e,t){return e=Q$(e),Be(Oo.count(ga(e),e)+(ga(e).getUTCDay()===4),t,2)}function use(e){return e.getUTCDay()}function dse(e,t){return Be(sh.count(ga(e)-1,e),t,2)}function fse(e,t){return Be(e.getUTCFullYear()%100,t,2)}function hse(e,t){return e=Q$(e),Be(e.getUTCFullYear()%100,t,2)}function pse(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function mse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Oo(e):Oo.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function gse(){return"+0000"}function eN(){return"%"}function tN(e){return+e}function rN(e){return Math.floor(+e/1e3)}var Os,Z$,eR;vse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vse(e){return Os=vie(e),Z$=Os.format,Os.parse,eR=Os.utcFormat,Os.utcParse,Os}function yse(e){return new Date(e)}function xse(e){return e instanceof Date?+e:+new Date(+e)}function lw(e,t,r,n,a,s,o,l,c,u){var d=Kb(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),p=u("%I %p"),b=u("%a %d"),g=u("%b %d"),x=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?y:s(S)<S?p:n(S)<S?a(S)<S?b:g:r(S)<S?x:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,xse)):h().map(yse)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(U$(N,S)):d},d.copy=function(){return qu(d,lw(e,t,r,n,a,s,o,l,c,u))},d}function bse(){return Qr.apply(lw(mie,gie,ma,sw,zp,Hu,aw,rw,Ui,Z$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wse(){return Qr.apply(lw(hie,pie,ga,ow,Wp,Bp,iw,nw,Ui,eR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vp(){var e=0,t=1,r,n,a,s,o=or,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(xl),u.rangeRound=d(Gb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function yi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tR(){var e=vi(Vp()(or));return e.copy=function(){return yi(e,tR())},_a.apply(e,arguments)}function rR(){var e=Jb(Vp()).domain([1,10]);return e.copy=function(){return yi(e,rR()).base(e.base())},_a.apply(e,arguments)}function nR(){var e=Qb(Vp());return e.copy=function(){return yi(e,nR()).constant(e.constant())},_a.apply(e,arguments)}function cw(){var e=Zb(Vp());return e.copy=function(){return yi(e,cw()).exponent(e.exponent())},_a.apply(e,arguments)}function _se(){return cw.apply(null,arguments).exponent(.5)}function aR(){var e=[],t=or;function r(n){if(n!=null&&!isNaN(n=+n))return t((Wu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ti),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>lae(e,s/n))},r.copy=function(){return aR(t).domain(e)},_a.apply(r,arguments)}function qp(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=or,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function v(y){return function(p){var b,g,x;return arguments.length?([b,g,x]=p,u=Rae(y,[b,g,x]),m):[u(0),u(.5),u(1)]}}return m.range=v(xl),m.rangeRound=v(Gb),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,a=y(e),s=y(t),o=y(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function iR(){var e=vi(qp()(or));return e.copy=function(){return yi(e,iR())},_a.apply(e,arguments)}function sR(){var e=Jb(qp()).domain([.1,1,10]);return e.copy=function(){return yi(e,sR()).base(e.base())},_a.apply(e,arguments)}function oR(){var e=Qb(qp());return e.copy=function(){return yi(e,oR()).constant(e.constant())},_a.apply(e,arguments)}function uw(){var e=Zb(qp());return e.copy=function(){return yi(e,uw()).exponent(e.exponent())},_a.apply(e,arguments)}function jse(){return uw.apply(null,arguments).exponent(.5)}const nN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qc,scaleDiverging:iR,scaleDivergingLog:sR,scaleDivergingPow:uw,scaleDivergingSqrt:jse,scaleDivergingSymlog:oR,scaleIdentity:F$,scaleImplicit:Dy,scaleLinear:nh,scaleLog:B$,scaleOrdinal:Vb,scalePoint:fc,scalePow:ew,scaleQuantile:V$,scaleQuantize:q$,scaleRadial:W$,scaleSequential:tR,scaleSequentialLog:rR,scaleSequentialPow:cw,scaleSequentialQuantile:aR,scaleSequentialSqrt:_se,scaleSequentialSymlog:nR,scaleSqrt:nie,scaleSymlog:z$,scaleThreshold:H$,scaleTime:bse,scaleUtc:wse,tickFormat:L$},Symbol.toStringTag,{value:"Module"}));var Sse=ul;function Nse(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Sse(o):r(o,l)))var l=o,c=s}return c}var Hp=Nse;function kse(e,t){return e>t}var lR=kse,Cse=Hp,Ese=lR,Ase=vl;function Pse(e){return e&&e.length?Cse(e,Ase,Ese):void 0}var Ose=Pse;const Gp=Ve(Ose);function Tse(e,t){return e<t}var cR=Tse,$se=Hp,Rse=cR,Mse=vl;function Ise(e){return e&&e.length?$se(e,Mse,Rse):void 0}var Dse=Ise;const Kp=Ve(Dse);var Lse=jb,Fse=Wn,Use=v$,Bse=_r;function zse(e,t){var r=Bse(e)?Lse:Use;return r(e,Fse(t))}var Wse=zse,Vse=m$,qse=Wse;function Hse(e,t){return Vse(qse(e,t),1)}var Gse=Hse;const Kse=Ve(Gse);var Xse=Lb;function Yse(e,t){return Xse(e,t)}var Jse=Yse;const Xp=Ve(Jse);var bl=1e9,Qse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fw,ft=!0,Yr="[DecimalError] ",Hi=Yr+"Invalid argument: ",dw=Yr+"Exponent out of range: ",wl=Math.floor,Oi=Math.pow,Zse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,Mt=1e7,it=7,uR=9007199254740991,oh=wl(uR/it),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*it;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(e){return sa(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,r=t.constructor;return Ye(sa(t,new r(e),0,1),r.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return St(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(Yr+"NaN");if(r.s<1)throw Error(Yr+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(ft=!1,t=sa(nu(r,s),nu(e,s),s),ft=!0,Ye(t,a))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hR(t,e):dR(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yr+"NaN");return r.s?(ft=!1,t=sa(r,e,0,1).times(e),ft=!0,r.minus(t)):Ye(new n(r),a)};ve.naturalExponential=ve.exp=function(){return fR(this)};ve.naturalLogarithm=ve.ln=function(){return nu(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dR(t,e):hR(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hi+e);if(t=St(a)+1,n=a.d.length-1,r=n*it+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ve.squareRoot=ve.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yr+"NaN")}for(e=St(l),ft=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=On(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(sa(l,s,o+2)).times(.5),On(s.d).slice(0,o)===(t=On(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ye(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return ft=!0,Ye(n,r)};ve.times=ve.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Mt|0,t=l/Mt|0;s[a]=(s[a]+t)%Mt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,ft?Ye(e,f.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Un(e,0,bl),t===void 0?t=n.rounding:Un(t,0,8),Ye(r,e+St(r)+1,t))};ve.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=os(n,!0):(Un(e,0,bl),t===void 0?t=a.rounding:Un(t,0,8),n=Ye(new a(n),e+1,t),r=os(n,!0,e+1)),r};ve.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?os(a):(Un(e,0,bl),t===void 0?t=s.rounding:Un(t,0,8),n=Ye(new s(a),e+St(a)+1,t),r=os(n.abs(),!1,e+St(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return Ye(new t(e),St(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Yr+"Infinity");return l}if(l.eq(Cr))return l;if(n=c.precision,e.eq(Cr))return Ye(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=uR){for(a=new c(Cr),t=Math.ceil(n/it+4),ft=!1;r%2&&(a=a.times(l),iN(a.d,t)),r=wl(r/2),r!==0;)l=l.times(l),iN(l.d,t);return ft=!0,e.s<0?new c(Cr).div(a):Ye(a,n)}}else if(s<0)throw Error(Yr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ft=!1,a=e.times(nu(l,n+u)),ft=!0,a=fR(a),a.s=s,a};ve.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=St(a),n=os(a,r<=s.toExpNeg||r>=s.toExpPos)):(Un(e,1,bl),t===void 0?t=s.rounding:Un(t,0,8),a=Ye(new s(a),e,t),r=St(a),n=os(a,e<=r||r<=s.toExpNeg,e)),n};ve.toSignificantDigits=ve.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Un(e,1,bl),t===void 0?t=n.rounding:Un(t,0,8)),Ye(new n(r),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=St(e),r=e.constructor;return os(e,t<=r.toExpNeg||t>=r.toExpPos)};function dR(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ft?Ye(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/it),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Mt|0,c[s]%=Mt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ft?Ye(t,f):t}function Un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hi+e)}function On(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=it-n.length,r&&(s+=$a(r)),s+=n;o=e[t],n=o+"",r=it-n.length,r&&(s+=$a(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var sa=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Mt|0,o=s/Mt|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Mt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,v,y,p,b,g,x,_,j,S,N,k,A=n.constructor,O=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Yr+"Division by zero");for(c=n.e-a.e,N=T.length,j=P.length,m=new A(O),v=m.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,s==null?g=s=A.precision:o?g=s+(St(n)-St(a))+1:g=s,g<0)return new A(0);if(g=g/it+2|0,u=0,N==1)for(d=0,T=T[0],g++;(u<j||d)&&g--;u++)x=d*Mt+(P[u]||0),v[u]=x/T|0,d=x%T|0;else{for(d=Mt/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),N=T.length,j=P.length),_=N,y=P.slice(0,N),p=y.length;p<N;)y[p++]=0;k=T.slice(),k.unshift(0),S=T[0],T[1]>=Mt/2&&++S;do d=0,l=t(T,y,N,p),l<0?(b=y[0],N!=p&&(b=b*Mt+(y[1]||0)),d=b/S|0,d>1?(d>=Mt&&(d=Mt-1),f=e(T,d),h=f.length,p=y.length,l=t(f,y,h,p),l==1&&(d--,r(f,N<h?k:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<p&&f.unshift(0),r(y,f,p),l==-1&&(p=y.length,l=t(T,y,N,p),l<1&&(d++,r(y,N<p?k:T,p))),p=y.length):l===0&&(d++,y=[0]),v[u++]=d,l&&y[0]?y[p++]=P[_]||0:(y=[P[_]],p=1);while((_++<j||y[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=c,Ye(m,o?s+St(m)+1:s)}}();function fR(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(St(e)>16)throw Error(dw+St(e));if(!e.s)return new d(Cr);for(ft=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Oi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Cr),d.precision=l;;){if(a=Ye(a.times(e),l),r=r.times(++c),o=s.plus(sa(a,r,l)),On(o.d).slice(0,l)===On(s.d).slice(0,l)){for(;u--;)s=Ye(s.times(s),l);return d.precision=f,t==null?(ft=!0,Ye(s,f)):s}s=o}}function St(e){for(var t=e.e*it,r=e.d[0];r>=10;r/=10)t++;return t}function Ng(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(Yr+"LN10 precision limit exceeded");return Ye(new e(e.LN10),t)}function $a(e){for(var t="";e--;)t+="0";return t}function nu(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,v=m.d,y=m.constructor,p=y.precision;if(m.s<1)throw Error(Yr+(m.s?"NaN":"-Infinity"));if(m.eq(Cr))return new y(0);if(t==null?(ft=!1,u=p):u=t,m.eq(10))return t==null&&(ft=!0),Ng(y,u);if(u+=h,y.precision=u,r=On(v),n=r.charAt(0),s=St(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=On(m.d),n=r.charAt(0),f++;s=St(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1))}else return c=Ng(y,u+2,p).times(s+""),m=nu(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=p,t==null?(ft=!0,Ye(m,p)):m;for(l=o=m=sa(m.minus(Cr),m.plus(Cr),u),d=Ye(m.times(m),u),a=3;;){if(o=Ye(o.times(d),u),c=l.plus(sa(o,new y(a),u)),On(c.d).slice(0,u)===On(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Ng(y,u+2,p).times(s+""))),l=sa(l,new y(f),u),y.precision=p,t==null?(ft=!0,Ye(l,p)):l;l=c,a+=2}}function aN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wl(r/it),e.d=[],n=(r+1)%it,r<0&&(n+=it),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=it;n<a;)e.d.push(+t.slice(n,n+=it));t=t.slice(n),n=it-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ft&&(e.e>oh||e.e<-oh))throw Error(dw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ye(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=it,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/it),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=it,a=n-it+o}if(r!==void 0&&(s=Oi(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Oi(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=St(e),f.length=1,t=t-s-1,f[0]=Oi(10,(it-t%it)%it),e.e=wl(-t/it)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Oi(10,it-n),f[d]=a>0?(u/Oi(10,o-a)%Oi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Mt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Mt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(ft&&(e.e>oh||e.e<-oh))throw Error(dw+St(e));return e}function hR(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ft?Ye(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/it),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Mt-1;--c[s],c[a]+=Mt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ft?Ye(t,m):t):new h(0)}function os(e,t,r){var n,a=St(e),s=On(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+$a(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+$a(-a-1)+s,r&&(n=r-o)>0&&(s+=$a(n))):a>=o?(s+=$a(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+$a(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=$a(n))),e.s<0?"-"+s:s}function iN(e,t){if(e.length>t)return e.length=t,!0}function pR(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hi+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return aN(o,s.toString())}else if(typeof s!="string")throw Error(Hi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Zse.test(s))aN(o,s);else throw Error(Hi+s)}if(a.prototype=ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=pR,a.config=a.set=eoe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function eoe(e){if(!e||typeof e!="object")throw Error(Yr+"Object expected");var t,r,n,a=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hi+r+": "+n);return this}var fw=pR(Qse);Cr=new fw(1);const Ke=fw;function toe(e){return ioe(e)||aoe(e)||noe(e)||roe()}function roe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function noe(e,t){if(e){if(typeof e=="string")return By(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(e,t)}}function aoe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ioe(e){if(Array.isArray(e))return By(e)}function By(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var soe=function(t){return t},mR={},gR=function(t){return t===mR},sN=function(t){return function r(){return arguments.length===0||arguments.length===1&&gR(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ooe=function e(t,r){return t===1?r:sN(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==mR}).length;return o>=t?r.apply(void 0,a):e(t-o,sN(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return gR(f)?c.shift():f});return r.apply(void 0,toe(d).concat(c))}))})},Yp=function(t){return ooe(t.length,t)},zy=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},loe=Yp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),coe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return soe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Wy=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vR=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function uoe(e){var t;return e===0?t=1:t=Math.floor(new Ke(e).abs().log(10).toNumber())+1,t}function doe(e,t,r){for(var n=new Ke(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var foe=Yp(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),hoe=Yp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),poe=Yp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Jp={rangeStep:doe,getDigitCount:uoe,interpolateNumber:foe,uninterpolateNumber:hoe,uninterpolateTruncation:poe};function Vy(e){return voe(e)||goe(e)||yR(e)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function voe(e){if(Array.isArray(e))return qy(e)}function au(e,t){return boe(e)||xoe(e,t)||yR(e,t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(e,t){if(e){if(typeof e=="string")return qy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qy(e,t)}}function qy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xoe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function boe(e){if(Array.isArray(e))return e}function xR(e){var t=au(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function bR(e,t,r){if(e.lte(0))return new Ke(0);var n=Jp.getDigitCount(e.toNumber()),a=new Ke(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Ke(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ke(Math.ceil(c))}function woe(e,t,r){var n=1,a=new Ke(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ke(10).pow(Jp.getDigitCount(e)-1),a=new Ke(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ke(Math.floor(e)))}else e===0?a=new Ke(Math.floor((t-1)/2)):r||(a=new Ke(Math.floor(e)));var o=Math.floor((t-1)/2),l=coe(loe(function(c){return a.add(new Ke(c-o).mul(n)).toNumber()}),zy);return l(0,t)}function wR(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var s=bR(new Ke(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Ke(0):(o=new Ke(e).add(t).div(2),o=o.sub(new Ke(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ke(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?wR(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Ke(l).mul(s)),tickMax:o.add(new Ke(c).mul(s))})}function _oe(e){var t=au(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=xR([r,n]),c=au(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Vy(zy(0,a-1).map(function(){return 1/0}))):[].concat(Vy(zy(0,a-1).map(function(){return-1/0})),[d]);return r>n?Wy(f):f}if(u===d)return woe(u,a,s);var h=wR(u,d,o,s),m=h.step,v=h.tickMin,y=h.tickMax,p=Jp.rangeStep(v,y.add(new Ke(.1).mul(m)),m);return r>n?Wy(p):p}function joe(e,t){var r=au(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xR([n,a]),l=au(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=bR(new Ke(u).sub(c).div(d-1),s,0),h=[].concat(Vy(Jp.rangeStep(new Ke(c),new Ke(u).sub(new Ke(.99).mul(f)),f)),[u]);return n>a?Wy(h):h}var Soe=vR(_oe),Noe=vR(joe),koe="Invariant failed";function ls(e,t){throw new Error(koe)}var Coe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}function Eoe(e,t){return Toe(e)||Ooe(e,t)||Poe(e,t)||Aoe()}function Aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ooe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Toe(e){if(Array.isArray(e))return e}function $oe(e,t){if(e==null)return{};var r=Roe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ioe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SR(n.key),n)}}function Doe(e,t,r){return t&&Ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Loe(e,t,r){return t=ch(t),Foe(e,_R()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function Foe(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(e)}function Uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function Boe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hy(e,t)}function jR(e,t,r){return t=SR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SR(e){var t=zoe(e,"string");return To(t)=="symbol"?t:t+""}function zoe(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qp=function(e){function t(){return Moe(this,t),Loe(this,t,arguments)}return Boe(t,e),Doe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=$oe(n,Coe),m=Se(h,!1);this.props.direction==="x"&&d.type!=="number"&&ls();var v=c.map(function(y){var p=u(y,l),b=p.x,g=p.y,x=p.value,_=p.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=Eoe(_,2);S=k[0],N=k[1]}else S=N=_;if(s==="vertical"){var A=d.scale,O=g+a,P=O+o,T=O-o,z=A(x-S),E=A(x+N);j.push({x1:E,y1:P,x2:E,y2:T}),j.push({x1:z,y1:O,x2:E,y2:O}),j.push({x1:z,y1:P,x2:z,y2:T})}else if(s==="horizontal"){var R=f.scale,D=b+a,$=D-o,C=D+o,M=R(x-S),q=R(x+N);j.push({x1:$,y1:q,x2:C,y2:q}),j.push({x1:D,y1:M,x2:D,y2:q}),j.push({x1:$,y1:M,x2:C,y2:M})}return L.createElement(qe,lh({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),j.map(function(Z){return L.createElement("line",lh({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return L.createElement(qe,{className:"recharts-errorBars"},v)}}])}(L.Component);jR(Qp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jR(Qp,"displayName","ErrorBar");function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){Woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Woe(e,t,r){return t=Voe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Voe(e){var t=qoe(e,"string");return iu(t)=="symbol"?t:t+""}function qoe(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NR=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Nr(r,Vi);if(!o)return null;var l=Vi.defaultProps,c=l!==void 0?_i(_i({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?_i(_i({},h),f.props):{},v=m.dataKey,y=m.name,p=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||p||"square",color:hw(f),value:y||v,payload:m}}),_i(_i(_i({},c),Vi.getWithHeight(o,a)),{},{payload:u,item:o})};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function cN(e){return Xoe(e)||Koe(e)||Goe(e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function Koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xoe(e){if(Array.isArray(e))return Gy(e)}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fo(e,t,r){return t=Yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yoe(e){var t=Joe(e,"string");return su(t)=="symbol"?t:t+""}function Joe(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,r){return Me(e)||Me(t)?r:Ot(t)?$r(e,t,r):ke(t)?t(e):r}function hc(e,t,r,n){var a=Kse(e,function(l){return er(l,t)});if(r==="number"){var s=a.filter(function(l){return ue(l)||parseFloat(l)});return s.length?[Kp(s),Gp(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Me(l)}):a;return o.map(function(l){return Ot(l)||l instanceof Date?l:""})}var Qoe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ir(f-d)!==ir(h-f)){var v=[];if(ir(h-f)===ir(c[1]-c[0])){m=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{m=d;var p=h+c[1]-c[0];v[0]=Math.min(f,(p+f)/2),v[1]=Math.max(f,(p+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var g=Math.min(d,h),x=Math.max(d,h);if(t>(g+f)/2&&t<=(x+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},hw=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Zoe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],y=v.items,p=v.cateAxisId,b=y.filter(function(N){return ia(N.type).indexOf("Bar")>=0});if(b&&b.length){var g=b[0].type.defaultProps,x=g!==void 0?vt(vt({},g),b[0].props):b[0].props,_=x.barSize,j=x[p];o[j]||(o[j]=[]);var S=Me(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:Me(S)?void 0:sr(S,n,0)})}}return o},ele=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=sr(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(_,j){return _+j.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var y=(a-v)/2>>0,p={offset:y-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:p.offset+p.size+u,size:h?m:j.barSize}},N=[].concat(cN(_),[S]);return p=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:p})}),N},f)}else{var b=sr(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var g=(a-2*b-(c-1)*u)/c;g>1&&(g>>=0);var x=l===+l?Math.min(g,l):g;d=o.reduce(function(_,j,S){var N=[].concat(cN(_),[{item:j.item,position:{offset:b+(g+u)*S+(g-x)/2,size:x}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},tle=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=NR({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&m!=="center"&&ue(t[m]))return vt(vt({},t),{},fo({},m,t[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&v!=="middle"&&ue(t[v]))return vt(vt({},t),{},fo({},v,t[v]+(h||0)))}return t},rle=function(t,r,n){return Me(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kR=function(t,r,n,a,s){var o=r.props.children,l=Gr(o,Qp).filter(function(u){return rle(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=er(d,n);if(Me(f))return u;var h=Array.isArray(f)?[Kp(f),Gp(f)]:[f,f],m=c.reduce(function(v,y){var p=er(d,y,0),b=h[0]-Math.abs(Array.isArray(p)?p[0]:p),g=h[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(b,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},nle=function(t,r,n,a,s){var o=r.map(function(l){return kR(t,l,n,s,a)}).filter(function(l){return!Me(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},CR=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&kR(t,c,u,a)||hc(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},ER=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},AR=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},ta=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ir(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Uu(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},kg=new WeakMap,Ed=function(t,r){if(typeof r!="function")return t;kg.has(t)||kg.set(t,new WeakMap);var n=kg.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},PR=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nh(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:fc(),realScaleType:"point"}:s==="category"?{scale:Qc(),realScaleType:"band"}:{scale:nh(),realScaleType:"linear"};if(as(a)){var c="scale".concat($p(a));return{scale:(nN[c]||fc)(),realScaleType:nN[c]?c:"point"}}return ke(a)?{scale:a}:{scale:fc(),realScaleType:"point"}},dN=1e-4,OR=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-dN,o=Math.max(a[0],a[1])+dN,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},ale=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ile=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(s[0]=n),(!ue(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},sle=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Uu(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},ole=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Uu(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},lle={sign:sle,expand:CK,none:So,silhouette:EK,wiggle:AK,positive:ole},cle=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=lle[n],o=kK().keys(a).value(function(l,c){return+er(l,c,0)}).order(yy).offset(s);return o(t)},ule=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?vt(vt({},h.type.defaultProps),h.props):h.props,y=v.stackId,p=v.hide;if(p)return f;var b=v[n],g=f[b]||{hasStack:!1,stackGroups:{}};if(Ot(y)){var x=g.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[y]=x}else g.stackGroups[Bu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return vt(vt({},f),{},fo({},b,g))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,p){var b=m.stackGroups[p];return vt(vt({},y),{},fo({},p,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:cle(t,b.items,s)}))},v)}return vt(vt({},f),{},fo({},h,m))},d)},TR=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Soe(u,s,l);return t.domain([Kp(d),Gp(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=Noe(f,s,l);return{niceTicks:h}}return null},fN=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=er(o,r.dataKey,r.domain[l]);return Me(c)?null:r.scale(c)-s/2+a},dle=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},fle=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Ot(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},hle=function(t){return t.reduce(function(r,n){return[Kp(n.concat([r[0]]).filter(ue)),Gp(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},$R=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=hle(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},hN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ky=function(t,r,n){if(ke(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(hN.test(t[0])){var s=+hN.exec(t[0])[1];a[0]=r[0]-s}else ke(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(pN.test(t[1])){var o=+pN.exec(t[1])[1];a[1]=r[1]+o}else ke(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},uh=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Ub(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},mN=function(t,r,n){return!t||!t.length||Xp(t,$r(n,"type.defaultProps.domain"))?r:t},RR=function(t,r){var n=t.type.defaultProps?vt(vt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return vt(vt({},Se(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:hw(t),value:er(r,a),type:c,payload:r,chartType:u,hide:d})};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){MR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MR(e,t,r){return t=ple(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=mle(e,"string");return ou(t)=="symbol"?t:t+""}function mle(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gle(e,t){return ble(e)||xle(e,t)||yle(e,t)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(e,t){if(e){if(typeof e=="string")return vN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(e,t)}}function vN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ble(e){if(Array.isArray(e))return e}var dh=Math.PI/180,wle=function(t){return t*180/Math.PI},tt=function(t,r,n,a){return{x:t+Math.cos(-dh*a)*n,y:r+Math.sin(-dh*a)*n}},IR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_le=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=sr(t.cx,o,o/2),f=sr(t.cy,l,l/2),h=IR(o,l,n),m=sr(t.innerRadius,h,0),v=sr(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(p,b){var g=r[b],x=g.domain,_=g.reversed,j;if(Me(g.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,v]),_&&(j=[j[1],j[0]]);else{j=g.range;var S=j,N=gle(S,2);c=N[0],u=N[1]}var k=PR(g,s),A=k.realScaleType,O=k.scale;O.domain(x).range(j),OR(O);var P=TR(O,Xn(Xn({},g),{},{realScaleType:A})),T=Xn(Xn(Xn({},g),P),{},{range:j,radius:v,realScaleType:A,scale:O,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Xn(Xn({},p),{},MR({},b,T))},{})},jle=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Sle=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=jle({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:wle(u),angleInRadian:u}},Nle=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},kle=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},yN=function(t,r){var n=t.x,a=t.y,s=Sle({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Nle(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Xn(Xn({},r),{},{radius:o,angle:kle(m,r)}):null},DR=function(t){return!w.isValidElement(t)&&!ke(t)&&typeof t!="boolean"?t.className:""};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var Cle=["offset"];function Ele(e){return Tle(e)||Ole(e)||Ple(e)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(e,t){if(e){if(typeof e=="string")return Xy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(e,t)}}function Ole(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tle(e){if(Array.isArray(e))return Xy(e)}function Xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $le(e,t){if(e==null)return{};var r=Rle(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return t=Ile(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ile(e){var t=Dle(e,"string");return lu(t)=="symbol"?t:t+""}function Dle(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}var Lle=function(t){var r=t.value,n=t.formatter,a=Me(t.children)?r:t.children;return ke(n)?n(a):a},Fle=function(t,r){var n=ir(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Ule=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,y=c.clockWise,p=(f+h)/2,b=Fle(m,v),g=b>=0?1:-1,x,_;a==="insideStart"?(x=m+g*o,_=y):a==="insideEnd"?(x=v-g*o,_=!y):a==="end"&&(x=v+g*o,_=y),_=b<=0?_:!_;var j=tt(u,d,p,x),S=tt(u,d,p,x+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Me(t.id)?Bu("recharts-radial-line-"):t.id;return L.createElement("text",cu({},n,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:k,d:N})),L.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Ble=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=tt(o,l,u+n,h),v=m.x,y=m.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,b=tt(o,l,p,h),g=b.x,x=b.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},zle=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,p=y*a,b=y>0?"end":"start",g=y>0?"start":"end";if(s==="top"){var x={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return kt(kt({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return kt(kt({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-p,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return kt(kt({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+p,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return kt(kt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?kt({x:l+p,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},N):s==="insideRight"?kt({x:l+u-p,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideTop"?kt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):s==="insideBottom"?kt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?kt({x:l+p,y:c+h,textAnchor:g,verticalAnchor:v},N):s==="insideTopRight"?kt({x:l+u-p,y:c+h,textAnchor:b,verticalAnchor:v},N):s==="insideBottomLeft"?kt({x:l+p,y:c+d-h,textAnchor:g,verticalAnchor:m},N):s==="insideBottomRight"?kt({x:l+u-p,y:c+d-h,textAnchor:b,verticalAnchor:m},N):dl(s)&&(ue(s.x)||Li(s.x))&&(ue(s.y)||Li(s.y))?kt({x:l+sr(s.x,u),y:c+sr(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):kt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Wle=function(t){return"cx"in t&&ue(t.cx)};function Dt(e){var t=e.offset,r=t===void 0?5:t,n=$le(e,Cle),a=kt({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Me(l)&&Me(c)&&!w.isValidElement(u)&&!ke(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var m;if(ke(u)){if(m=w.createElement(u,a),w.isValidElement(m))return m}else m=Lle(a);var v=Wle(s),y=Se(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ule(a,m,y);var p=v?Ble(a):zle(a);return L.createElement(ss,cu({className:Oe("recharts-label",f)},y,p,{breakAll:h}),m)}Dt.displayName="Label";var LR=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,y=t.width,p=t.height,b=t.clockWise,g=t.labelViewBox;if(g)return g;if(ue(y)&&ue(p)){if(ue(f)&&ue(h))return{x:f,y:h,width:y,height:p};if(ue(m)&&ue(v))return{x:m,y:v,width:y,height:p}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Vle=function(t,r){return t?t===!0?L.createElement(Dt,{key:"label-implicit",viewBox:r}):Ot(t)?L.createElement(Dt,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Dt?w.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):ke(t)?L.createElement(Dt,{key:"label-implicit",content:t,viewBox:r}):dl(t)?L.createElement(Dt,cu({viewBox:r},t,{key:"label-implicit"})):null:null},qle=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=LR(t),o=Gr(a,Dt).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=Vle(t.label,r||s);return[l].concat(Ele(o))};Dt.parseViewBox=LR;Dt.renderCallByParent=qle;function Hle(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Gle=Hle;const Kle=Ve(Gle);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Xle=["valueAccessor"],Yle=["data","dataKey","clockWise","id","textBreakAll"];function Jle(e){return tce(e)||ece(e)||Zle(e)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(e,t){if(e){if(typeof e=="string")return Yy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(e,t)}}function ece(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tce(e){if(Array.isArray(e))return Yy(e)}function Yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){rce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rce(e,t,r){return t=nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=ace(e,"string");return uu(t)=="symbol"?t:t+""}function ace(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _N(e,t){if(e==null)return{};var r=ice(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ice(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sce=function(t){return Array.isArray(t.value)?Kle(t.value):t.value};function ri(e){var t=e.valueAccessor,r=t===void 0?sce:t,n=_N(e,Xle),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=_N(n,Yle);return!a||!a.length?null:L.createElement(qe,{className:"recharts-label-list"},a.map(function(d,f){var h=Me(s)?r(d,f):er(d&&d.payload,s),m=Me(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Dt,fh({},Se(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Dt.parseViewBox(Me(o)?d:wN(wN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ri.displayName="LabelList";function oce(e,t){return e?e===!0?L.createElement(ri,{key:"labelList-implicit",data:t}):L.isValidElement(e)||ke(e)?L.createElement(ri,{key:"labelList-implicit",data:t,content:e}):dl(e)?L.createElement(ri,fh({data:t},e,{key:"labelList-implicit"})):null:null}function lce(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Gr(n,ri).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=oce(e.label,t);return[s].concat(Jle(a))}ri.renderCallByParent=lce;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){cce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cce(e,t,r){return t=uce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uce(e){var t=dce(e,"string");return du(t)=="symbol"?t:t+""}function dce(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fce=function(t,r){var n=ir(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ad=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/dh,h=u?s:s+o*f,m=tt(r,n,d,h),v=tt(r,n,a,h),y=u?s-o*f:s,p=tt(r,n,d*Math.cos(f*dh),y);return{center:m,circleTangency:v,lineTangency:p,theta:f}},FR=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=fce(o,l),u=o+c,d=tt(r,n,s,o),f=tt(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=tt(r,n,a,o),v=tt(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},hce=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ir(d-u),h=Ad({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,y=h.theta,p=Ad({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=p.circleTangency,g=p.lineTangency,x=p.theta,_=c?Math.abs(u-d):Math.abs(u-d)-y-x;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var S=Ad({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,A=S.theta,O=Ad({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,T=O.lineTangency,z=O.theta,E=c?Math.abs(u-d):Math.abs(u-d)-A-z;if(E<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},pce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UR=function(t){var r=SN(SN({},pce),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Oe("recharts-sector",h),v=o-s,y=sr(l,v,0,!0),p;return y>0&&Math.abs(d-f)<360?p=hce({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=FR({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",Jy({},Se(r,!0),{className:m,d:p,role:"img"}))};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t,r){return t=gce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gce(e){var t=vce(e,"string");return fu(t)=="symbol"?t:t+""}function vce(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CN={curveBasisClosed:mK,curveBasisOpen:gK,curveBasis:pK,curveBumpX:eK,curveBumpY:tK,curveLinearClosed:vK,curveLinear:Mp,curveMonotoneX:yK,curveMonotoneY:xK,curveNatural:bK,curveStep:wK,curveStepAfter:jK,curveStepBefore:_K},Pd=function(t){return t.x===+t.x&&t.y===+t.y},Ul=function(t){return t.x},Bl=function(t){return t.y},yce=function(t,r){if(ke(t))return t;var n="curve".concat($p(t));return(n==="curveMonotone"||n==="curveBump")&&r?CN["".concat(n).concat(r==="vertical"?"Y":"X")]:CN[n]||Mp},xce=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=yce(n,l),f=u?s.filter(function(y){return Pd(y)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(y){return Pd(y)}):o,v=f.map(function(y,p){return kN(kN({},y),{},{base:m[p]})});return l==="vertical"?h=bd().y(Bl).x1(Ul).x0(function(y){return y.base.x}):h=bd().x(Ul).y1(Bl).y0(function(y){return y.base.y}),h.defined(Pd).curve(d),h(v)}return l==="vertical"&&ue(o)?h=bd().y(Bl).x1(Ul).x0(o):ue(o)?h=bd().x(Ul).y1(Bl).y0(o):h=RT().x(Ul).y(Bl),h.defined(Pd).curve(d),h(f)},Zy=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?xce(t):a;return w.createElement("path",Qy({},Se(t,!1),Df(t),{className:Oe("recharts-curve",r),d:o,ref:s}))},BR={exports:{}},bce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wce=bce,_ce=wce;function zR(){}function WR(){}WR.resetWarningCache=zR;var jce=function(){function e(n,a,s,o,l,c){if(c!==_ce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WR,resetWarningCache:zR};return r.PropTypes=r,r};BR.exports=jce();var Sce=BR.exports;const We=Ve(Sce);var Nce=Object.getOwnPropertyNames,kce=Object.getOwnPropertySymbols,Cce=Object.prototype.hasOwnProperty;function EN(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Od(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function AN(e){return Nce(e).concat(kce(e))}var Ece=Object.hasOwn||function(e,t){return Cce.call(e,t)};function xs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ace="__v",Pce="__o",Oce="_owner",PN=Object.getOwnPropertyDescriptor,ON=Object.keys;function Tce(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $ce(e,t){return xs(e.getTime(),t.getTime())}function Rce(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Mce(e,t){return e===t}function TN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ice=xs;function Dce(e,t,r){var n=ON(e),a=n.length;if(ON(t).length!==a)return!1;for(;a-- >0;)if(!VR(e,t,r,n[a]))return!1;return!0}function zl(e,t,r){var n=AN(e),a=n.length;if(AN(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!VR(e,t,r,s)||(o=PN(e,s),l=PN(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Lce(e,t){return xs(e.valueOf(),t.valueOf())}function Fce(e,t){return e.source===t.source&&e.flags===t.flags}function $N(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Uce(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Bce(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VR(e,t,r,n){return(n===Oce||n===Pce||n===Ace)&&(e.$$typeof||t.$$typeof)?!0:Ece(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var zce="[object Arguments]",Wce="[object Boolean]",Vce="[object Date]",qce="[object Error]",Hce="[object Map]",Gce="[object Number]",Kce="[object Object]",Xce="[object RegExp]",Yce="[object Set]",Jce="[object String]",Qce="[object URL]",Zce=Array.isArray,RN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,MN=Object.assign,eue=Object.prototype.toString.call.bind(Object.prototype.toString);function tue(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,y,p){if(v===y)return!0;if(v==null||y==null)return!1;var b=typeof v;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?o(v,y,p):b==="function"?a(v,y,p):!1;var g=v.constructor;if(g!==y.constructor)return!1;if(g===Object)return l(v,y,p);if(Zce(v))return t(v,y,p);if(RN!=null&&RN(v))return f(v,y,p);if(g===Date)return r(v,y,p);if(g===RegExp)return u(v,y,p);if(g===Map)return s(v,y,p);if(g===Set)return d(v,y,p);var x=eue(v);return x===Vce?r(v,y,p):x===Xce?u(v,y,p):x===Hce?s(v,y,p):x===Yce?d(v,y,p):x===Kce?typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,p):x===Qce?h(v,y,p):x===qce?n(v,y,p):x===zce?l(v,y,p):x===Wce||x===Gce||x===Jce?c(v,y,p):!1}}function rue(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?zl:Tce,areDatesEqual:$ce,areErrorsEqual:Rce,areFunctionsEqual:Mce,areMapsEqual:n?EN(TN,zl):TN,areNumbersEqual:Ice,areObjectsEqual:n?zl:Dce,arePrimitiveWrappersEqual:Lce,areRegExpsEqual:Fce,areSetsEqual:n?EN($N,zl):$N,areTypedArraysEqual:n?zl:Uce,areUrlsEqual:Bce};if(r&&(a=MN({},a,r(a))),t){var s=Od(a.areArraysEqual),o=Od(a.areMapsEqual),l=Od(a.areObjectsEqual),c=Od(a.areSetsEqual);a=MN({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function nue(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function aue(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var iue=xi();xi({strict:!0});xi({circular:!0});xi({circular:!0,strict:!0});xi({createInternalComparator:function(){return xs}});xi({strict:!0,createInternalComparator:function(){return xs}});xi({circular:!0,createInternalComparator:function(){return xs}});xi({circular:!0,createInternalComparator:function(){return xs},strict:!0});function xi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=rue(e),c=tue(l),u=n?n(c):nue(c);return aue({circular:r,comparator:c,createState:a,equals:u,strict:o})}function sue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):sue(a)};requestAnimationFrame(n)}function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function oue(e){return due(e)||uue(e)||cue(e)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(e,t){if(e){if(typeof e=="string")return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(e,t)}}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function due(e){if(Array.isArray(e))return e}function fue(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=oue(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IN(a.bind(null,u),c);return}a(c),IN(a.bind(null,u));return}ex(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){qR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qR(e,t,r){return t=hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hue(e){var t=pue(e,"string");return hu(t)==="symbol"?t:String(t)}function pue(e,t){if(hu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mue=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},gue=function(t){return t},vue=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pc=function(t,r){return Object.keys(r).reduce(function(n,a){return FN(FN({},n),{},qR({},a,t(a,r[a])))},{})},UN=function(t,r,n){return t.map(function(a){return"".concat(vue(a)," ").concat(r,"ms ").concat(n)}).join(",")};function yue(e,t){return wue(e)||bue(e,t)||HR(e,t)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wue(e){if(Array.isArray(e))return e}function _ue(e){return Nue(e)||Sue(e)||HR(e)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HR(e,t){if(e){if(typeof e=="string")return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}function Sue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nue(e){if(Array.isArray(e))return tx(e)}function tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hh=1e-4,GR=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KR=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BN=function(t,r){return function(n){var a=GR(t,r);return KR(a,n)}},kue=function(t,r){return function(n){var a=GR(t,r),s=[].concat(_ue(a.map(function(o,l){return o*l}).slice(1)),[0]);return KR(s,n)}},zN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=yue(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=BN(a,o),h=BN(s,l),m=kue(a,o),v=function(b){return b>1?1:b<0?0:b},y=function(b){for(var g=b>1?1:b,x=g,_=0;_<8;++_){var j=f(x)-g,S=m(x);if(Math.abs(j-g)<hh||S<hh)return h(x);x=v(x-j/S)}return h(x)};return y.isStepper=!1,y},Cue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,v=h*s,y=h+(m-v)*l/1e3,p=h*l/1e3+d;return Math.abs(p-f)<hh&&Math.abs(y)<hh?[f,0]:[p,y]};return c.isStepper=!0,c.dt=l,c},Eue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zN(a);case"spring":return Cue();default:if(a.split("(")[0]==="cubic-bezier")return zN(a)}return typeof a=="function"?a:null};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function WN(e){return Oue(e)||Pue(e)||XR(e)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oue(e){if(Array.isArray(e))return nx(e)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rx(e,t,r){return t=Tue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tue(e){var t=$ue(e,"string");return pu(t)==="symbol"?t:String(t)}function $ue(e,t){if(pu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e,t){return Due(e)||Iue(e,t)||XR(e,t)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XR(e,t){if(e){if(typeof e=="string")return nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(e,t)}}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Due(e){if(Array.isArray(e))return e}var ph=function(t,r,n){return t+(r-t)*n},ax=function(t){var r=t.from,n=t.to;return r!==n},Lue=function e(t,r,n){var a=pc(function(s,o){if(ax(o)){var l=t(o.from,o.to,o.velocity),c=Rue(l,2),u=c[0],d=c[1];return Wt(Wt({},o),{},{from:u,velocity:d})}return o},r);return n<1?pc(function(s,o){return ax(o)?Wt(Wt({},o),{},{velocity:ph(o.velocity,a[s].velocity,n),from:ph(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const Fue=function(e,t,r,n,a){var s=mue(e,t),o=s.reduce(function(p,b){return Wt(Wt({},p),{},rx({},b,[e[b],t[b]]))},{}),l=s.reduce(function(p,b){return Wt(Wt({},p),{},rx({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return pc(function(b,g){return g.from},l)},m=function(){return!Object.values(l).filter(ax).length},v=function(b){u||(u=b);var g=b-u,x=g/r.dt;l=Lue(r,l,x),a(Wt(Wt(Wt({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},y=function(b){d||(d=b);var g=(b-d)/n,x=pc(function(j,S){return ph.apply(void 0,WN(S).concat([r(g)]))},o);if(a(Wt(Wt(Wt({},e),t),x)),g<1)c=requestAnimationFrame(f);else{var _=pc(function(j,S){return ph.apply(void 0,WN(S).concat([r(1)]))},o);a(Wt(Wt(Wt({},e),t),_))}};return f=r.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}var Uue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bue(e,t){if(e==null)return{};var r=zue(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zue(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Cg(e){return Hue(e)||que(e)||Vue(e)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function que(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hue(e){if(Array.isArray(e))return ix(e)}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jl(e,t,r){return t=YR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YR(n.key),n)}}function Xue(e,t,r){return t&&Kue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YR(e){var t=Yue(e,"string");return $o(t)==="symbol"?t:String(t)}function Yue(e,t){if($o(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sx(e,t)}function Que(e){var t=Zue();return function(){var n=mh(e),a;if(t){var s=mh(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return ox(this,a)}}function ox(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lx(e)}function lx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}var va=function(e){Jue(r,e);var t=Que(r);function r(n,a){var s;Gue(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(lx(s)),s.changeStyle=s.changeStyle.bind(lx(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),ox(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},ox(s);s.state={style:c?Jl({},c,u):u}}else s.state={style:{}};return s}return Xue(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?Jl({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(iue(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:a.to;if(this.state&&h){var p={style:c?Jl({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(p)}this.runAnimation(tn(tn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Fue(o,l,Eue(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,p,b){if(b===0)return y;var g=p.duration,x=p.easing,_=x===void 0?"ease":x,j=p.style,S=p.properties,N=p.onAnimationEnd,k=b>0?o[b-1]:p,A=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(Cg(y),[s.runJSAnimation.bind(s,{from:k.style,to:j,duration:g,easing:_}),g]);var O=UN(A,g,_),P=tn(tn(tn({},k.style),j),{},{transition:O});return[].concat(Cg(y),[P,g,N]).filter(gue)};return this.manager.start([c].concat(Cg(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=fue());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=l?Jl({},l,c):c,p=UN(Object.keys(y),o,u);v.start([d,s,tn(tn({},y),{},{transition:p}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Bue(a,Uue),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var v=m.props,y=v.style,p=y===void 0?{}:y,b=v.className,g=w.cloneElement(m,tn(tn({},c),{},{style:tn(tn({},p),d),className:b}));return g};return u===1?f(w.Children.only(s)):L.createElement("div",null,w.Children.map(s,function(h){return f(h)}))}}]),r}(w.PureComponent);va.displayName="Animate";va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};va.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function ede(e,t){return ade(e)||nde(e,t)||rde(e,t)||tde()}function tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rde(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ade(e){if(Array.isArray(e))return e}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ide(e,t,r){return t=sde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sde(e){var t=ode(e,"string");return mu(t)=="symbol"?t:t+""}function ode(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XN=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},lde=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},cde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pw=function(t){var r=KN(KN({},cde),t),n=w.useRef(),a=w.useState(-1),s=ede(a,2),o=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,y=r.animationDuration,p=r.animationBegin,b=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var x=Oe("recharts-rectangle",m);return g?L.createElement(va,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:g},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return L.createElement(va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:y,isActive:b,easing:v},L.createElement("path",gh({},Se(r,!0),{className:x,d:XN(N,k,j,S,h),ref:n})))}):L.createElement("path",gh({},Se(r,!0),{className:x,d:XN(c,u,d,f,h)}))},ude=["points","className","baseLinePoints","connectNulls"];function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(this,arguments)}function dde(e,t){if(e==null)return{};var r=fde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YN(e){return gde(e)||mde(e)||pde(e)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(e,t){if(e){if(typeof e=="string")return cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(e,t)}}function mde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gde(e){if(Array.isArray(e))return cx(e)}function cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JN=function(t){return t&&t.x===+t.x&&t.y===+t.y},vde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){JN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mc=function(t,r){var n=vde(t);r&&(n=[n.reduce(function(s,o){return[].concat(YN(s),YN(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},yde=function(t,r,n){var a=mc(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(mc(r.reverse(),n).slice(1))},xde=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=dde(t,ude);if(!r||!r.length)return null;var l=Oe("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=yde(r,a,s);return L.createElement("g",{className:l},L.createElement("path",Xs({},Se(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Xs({},Se(o,!0),{fill:"none",d:mc(r,s)})):null,c?L.createElement("path",Xs({},Se(o,!0),{fill:"none",d:mc(a,s)})):null)}var d=mc(r,s);return L.createElement("path",Xs({},Se(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(this,arguments)}var mw=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Oe("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",ux({},Se(t,!1),Df(t),{className:o,cx:r,cy:n,r:a})):null};function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}var bde=["x","y","top","left","width","height","className"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return t=jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=Sde(e,"string");return gu(t)=="symbol"?t:t+""}function Sde(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nde(e,t){if(e==null)return{};var r=kde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cde=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Ede=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,y=Nde(t,bde),p=wde({x:n,y:s,top:l,left:u,width:f,height:m},y);return!ue(n)||!ue(s)||!ue(f)||!ue(m)||!ue(l)||!ue(u)?null:L.createElement("path",dx({},Se(p,!0),{className:Oe("recharts-cross",v),d:Cde(n,s,f,m,l,u)}))},Ade=Hp,Pde=lR,Ode=Wn;function Tde(e,t){return e&&e.length?Ade(e,Ode(t),Pde):void 0}var $de=Tde;const Rde=Ve($de);var Mde=Hp,Ide=Wn,Dde=cR;function Lde(e,t){return e&&e.length?Mde(e,Ide(t),Dde):void 0}var Fde=Lde;const Ude=Ve(Fde);var Bde=["cx","cy","angle","ticks","axisLine"],zde=["ticks","tick","angle","tickFormatter","stroke"];function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){Zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t){if(e==null)return{};var r=Wde(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QR(n.key),n)}}function qde(e,t,r){return t&&tk(e.prototype,t),r&&tk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hde(e,t,r){return t=vh(t),Gde(e,JR()?Reflect.construct(t,r||[],vh(e).constructor):t.apply(e,r))}function Gde(e,t){if(t&&(Ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(e)}function Kde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(e)}function Xde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fx(e,t)}function fx(e,t){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fx(e,t)}function Zp(e,t,r){return t=QR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e){var t=Yde(e,"string");return Ro(t)=="symbol"?t:t+""}function Yde(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var em=function(e){function t(){return Vde(this,t),Hde(this,t,arguments)}return Xde(t,e),qde(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return tt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Rde(l,function(d){return d.coordinate||0}),u=Ude(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=ek(n,Bde),d=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=tt(a,s,d[0],o),h=tt(a,s,d[1],o),m=ji(ji(ji({},Se(u,!1)),{},{fill:"none"},Se(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",gc({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=ek(a,zde),f=this.getTickTextAnchor(),h=Se(d,!1),m=Se(o,!1),v=s.map(function(y,p){var b=n.getTickValueCoord(y),g=ji(ji(ji(ji({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:p},b),{},{payload:y});return L.createElement(qe,gc({className:Oe("recharts-polar-radius-axis-tick",DR(o)),key:"tick-".concat(y.coordinate)},is(n.props,y,p)),t.renderTickItem(o,g,c?c(y.value,p):y.value))});return L.createElement(qe,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:L.createElement(qe,{className:Oe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):ke(n)?o=n(a):o=L.createElement(ss,gc({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(w.PureComponent);Zp(em,"displayName","PolarRadiusAxis");Zp(em,"axisType","radiusAxis");Zp(em,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function Qde(e,t,r){return t&&nk(e.prototype,t),r&&nk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zde(e,t,r){return t=yh(t),efe(e,ZR()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function efe(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tfe(e)}function tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(e)}function rfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(e,t)}function tm(e,t,r){return t=eM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=nfe(e,"string");return Mo(t)=="symbol"?t:t+""}function nfe(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var afe=Math.PI/180,ak=1e-5,rm=function(e){function t(){return Jde(this,t),Zde(this,t,arguments)}return rfe(t,e),Qde(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=tt(s,o,l,n.coordinate),h=tt(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*afe),o;return s>ak?o=a==="outer"?"start":"end":s<-ak?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Si(Si({},Se(this.props,!1)),{},{fill:"none"},Se(l,!1));if(c==="circle")return L.createElement(mw,Ri({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return tt(a,s,o,h.coordinate)});return L.createElement(xde,Ri({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Se(this.props,!1),f=Se(o,!1),h=Si(Si({},d),{},{fill:"none"},Se(l,!1)),m=s.map(function(v,y){var p=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),g=Si(Si(Si({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:p.x2,y:p.y2});return L.createElement(qe,Ri({className:Oe("recharts-polar-angle-axis-tick",DR(o)),key:"tick-".concat(v.coordinate)},is(n.props,v,y)),l&&L.createElement("line",Ri({className:"recharts-polar-angle-axis-tick-line"},h,p)),o&&t.renderTickItem(o,g,c?c(v.value,y):v.value))});return L.createElement(qe,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:L.createElement(qe,{className:Oe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,a):ke(n)?o=n(a):o=L.createElement(ss,Ri({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(w.PureComponent);tm(rm,"displayName","PolarAngleAxis");tm(rm,"axisType","angleAxis");tm(rm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ife=a$,sfe=ife(Object.getPrototypeOf,Object),ofe=sfe,lfe=ba,cfe=ofe,ufe=wa,dfe="[object Object]",ffe=Function.prototype,hfe=Object.prototype,tM=ffe.toString,pfe=hfe.hasOwnProperty,mfe=tM.call(Object);function gfe(e){if(!ufe(e)||lfe(e)!=dfe)return!1;var t=cfe(e);if(t===null)return!0;var r=pfe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&tM.call(r)==mfe}var vfe=gfe;const yfe=Ve(vfe);var xfe=ba,bfe=wa,wfe="[object Boolean]";function _fe(e){return e===!0||e===!1||bfe(e)&&xfe(e)==wfe}var jfe=_fe;const Sfe=Ve(jfe);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(this,arguments)}function Nfe(e,t){return Afe(e)||Efe(e,t)||Cfe(e,t)||kfe()}function kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cfe(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Efe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Afe(e){if(Array.isArray(e))return e}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){Pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pfe(e,t,r){return t=Ofe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ofe(e){var t=Tfe(e,"string");return vu(t)=="symbol"?t:t+""}function Tfe(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lk=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},$fe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rfe=function(t){var r=ok(ok({},$fe),t),n=w.useRef(),a=w.useState(-1),s=Nfe(a,2),o=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,y=r.animationDuration,p=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=Oe("recharts-trapezoid",m);return b?L.createElement(va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:b},function(x){var _=x.upperWidth,j=x.lowerWidth,S=x.height,N=x.x,k=x.y;return L.createElement(va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:y,easing:v},L.createElement("path",xh({},Se(r,!0),{className:g,d:lk(N,k,_,j,S),ref:n})))}):L.createElement("g",null,L.createElement("path",xh({},Se(r,!0),{className:g,d:lk(c,u,d,f,h)})))},Mfe=["option","shapeType","propTransformer","activeClassName","isActive"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function Ife(e,t){if(e==null)return{};var r=Dfe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){Lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lfe(e,t,r){return t=Ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ffe(e){var t=Ufe(e,"string");return yu(t)=="symbol"?t:t+""}function Ufe(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e,t){return bh(bh({},t),e)}function zfe(e,t){return e==="symbols"}function uk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(pw,r);case"trapezoid":return L.createElement(Rfe,r);case"sector":return L.createElement(UR,r);case"symbols":if(zfe(t))return L.createElement(Tb,r);break;default:return null}}function Wfe(e){return w.isValidElement(e)?e.props:e}function rM(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Bfe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Ife(e,Mfe),u;if(w.isValidElement(t))u=w.cloneElement(t,bh(bh({},c),Wfe(t)));else if(ke(t))u=t(c);else if(yfe(t)&&!Sfe(t)){var d=a(t,c);u=L.createElement(uk,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(uk,{shapeType:r,elementProps:f})}return l?L.createElement(qe,{className:o},u):u}function nm(e,t){return t!=null&&"trapezoids"in e.props}function am(e,t){return t!=null&&"sectors"in e.props}function xu(e,t){return t!=null&&"points"in e.props}function Vfe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function qfe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Hfe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Gfe(e,t){var r;return nm(e,t)?r=Vfe:am(e,t)?r=qfe:xu(e,t)&&(r=Hfe),r}function Kfe(e,t){var r;return nm(e,t)?r="trapezoids":am(e,t)?r="sectors":xu(e,t)&&(r="points"),r}function Xfe(e,t){if(nm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(am(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xu(e,t)?t.payload:{}}function Yfe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Kfe(r,t),s=Xfe(r,t),o=n.filter(function(c,u){var d=Xp(s,c),f=r.props[a].filter(function(v){var y=Gfe(r,t);return y(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var ef;function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aM(n.key),n)}}function Qfe(e,t,r){return t&&fk(e.prototype,t),r&&fk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zfe(e,t,r){return t=wh(t),ehe(e,nM()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function ehe(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return the(e)}function the(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&px(e,t)}function px(e,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},px(e,t)}function Wr(e,t,r){return t=aM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aM(e){var t=nhe(e,"string");return Io(t)=="symbol"?t:t+""}function nhe(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ja=function(e){function t(r){var n;return Jfe(this,t),n=Zfe(this,t,[r]),Wr(n,"pieRef",null),Wr(n,"sectorRefs",[]),Wr(n,"id",Bu("recharts-pie-")),Wr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ke(a)&&a()}),Wr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ke(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return rhe(t,e),Qfe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Se(this.props,!1),f=Se(o,!1),h=Se(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(y,p){var b=(y.startAngle+y.endAngle)/2,g=tt(y.cx,y.cy,y.outerRadius+m,b),x=Qe(Qe(Qe(Qe({},d),y),{},{stroke:"none"},f),{},{index:p,textAnchor:t.getTextAnchor(g.x,y.cx)},g),_=Qe(Qe(Qe(Qe({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:p,points:[tt(y.cx,y.cy,y.outerRadius,b),g]}),j=c;return Me(c)&&Me(u)?j="value":Me(c)&&(j=u),L.createElement(qe,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(p)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,x,er(y,j)))});return L.createElement(qe,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=Qe(Qe({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(qe,Ys({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},is(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(rM,Ys({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(va,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,p=[],b=s&&s[0],g=b.startAngle;return s.forEach(function(x,_){var j=h&&h[_],S=_>0?$r(x,"paddingAngle",0):0;if(j){var N=Ta(j.endAngle-j.startAngle,x.endAngle-x.startAngle),k=Qe(Qe({},x),{},{startAngle:g+S,endAngle:g+N(y)+S});p.push(k),g=k.endAngle}else{var A=x.endAngle,O=x.startAngle,P=Ta(0,A-O),T=P(y),z=Qe(Qe({},x),{},{startAngle:g+S,endAngle:g+T+S});p.push(z),g=z.endAngle}}),L.createElement(qe,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Xp(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!ue(u)||!ue(d)||!ue(f)||!ue(h))return null;var y=Oe("recharts-pie",l);return L.createElement(qe,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Dt.renderCallByParent(this.props,null,!1),(!m||v)&&ri.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);if(ke(n))return n(a);var o=Oe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(Zy,Ys({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);var o=s;if(ke(n)&&(o=n(a),L.isValidElement(o)))return o;var l=Oe("recharts-pie-label-text",typeof n!="boolean"&&!ke(n)?n.className:"");return L.createElement(ss,Ys({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(w.PureComponent);ef=ja;Wr(ja,"displayName","Pie");Wr(ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!yl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wr(ja,"parseDeltaAngle",function(e,t){var r=ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Wr(ja,"getRealPieData",function(e){var t=e.data,r=e.children,n=Se(e,!1),a=Gr(r,zb);return t&&t.length?t.map(function(s,o){return Qe(Qe(Qe({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Qe(Qe({},n),s.props)}):[]});Wr(ja,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=IR(a,s),l=n+sr(e.cx,a,a/2),c=r+sr(e.cy,s,s/2),u=sr(e.innerRadius,o,0),d=sr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Wr(ja,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Qe(Qe({},t.type.defaultProps),t.props):t.props,a=ef.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=ef.parseCoordinateOfPie(n,r),y=ef.parseDeltaAngle(o,l),p=Math.abs(y),b=u;Me(u)&&Me(f)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Me(u)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var g=a.filter(function(k){return er(k,b,0)!==0}).length,x=(p>=360?g:g-1)*c,_=p-g*m-x,j=a.reduce(function(k,A){var O=er(A,b,0);return k+(ue(O)?O:0)},0),S;if(j>0){var N;S=a.map(function(k,A){var O=er(k,b,0),P=er(k,d,A),T=(ue(O)?O:0)/j,z;A?z=N.endAngle+ir(y)*c*(O!==0?1:0):z=o;var E=z+ir(y)*((O!==0?m:0)+T*_),R=(z+E)/2,D=(v.innerRadius+v.outerRadius)/2,$=[{name:P,value:O,payload:k,dataKey:b,type:h}],C=tt(v.cx,v.cy,D,R);return N=Qe(Qe(Qe({percent:T,cornerRadius:s,name:P,tooltipPayload:$,midAngle:R,middleRadius:D,tooltipPosition:C},k),v),{},{value:er(k,b),startAngle:z,endAngle:E,payload:k,paddingAngle:ir(y)*c}),N})}return Qe(Qe({},v),{},{sectors:S,data:a})});var ahe=Math.ceil,ihe=Math.max;function she(e,t,r,n){for(var a=-1,s=ihe(ahe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var ohe=she,lhe=j$,hk=1/0,che=17976931348623157e292;function uhe(e){if(!e)return e===0?e:0;if(e=lhe(e),e===hk||e===-hk){var t=e<0?-1:1;return t*che}return e===e?e:0}var iM=uhe,dhe=ohe,fhe=Fp,Eg=iM;function hhe(e){return function(t,r,n){return n&&typeof n!="number"&&fhe(t,r,n)&&(r=n=void 0),t=Eg(t),r===void 0?(r=t,t=0):r=Eg(r),n=n===void 0?t<r?1:-1:Eg(n),dhe(t,r,n,e)}}var phe=hhe,mhe=phe,ghe=mhe(),vhe=ghe;const _h=Ve(vhe);function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){sM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sM(e,t,r){return t=yhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yhe(e){var t=xhe(e,"string");return bu(t)=="symbol"?t:t+""}function xhe(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bhe=["Webkit","Moz","O","ms"],whe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=bhe.reduce(function(s,o){return mk(mk({},s),{},sM({},o+n,r))},{});return a[t]=r,a};function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lM(n.key),n)}}function jhe(e,t,r){return t&&vk(e.prototype,t),r&&vk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function She(e,t,r){return t=Sh(t),Nhe(e,oM()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function Nhe(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return khe(e)}function khe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!e})()}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(e)}function Che(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mx(e,t)}function mx(e,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mx(e,t)}function jr(e,t,r){return t=lM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lM(e){var t=Ehe(e,"string");return Do(t)=="symbol"?t:t+""}function Ehe(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ahe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=fc().domain(_h(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},yk=function(t){return t.changedTouches&&!!t.changedTouches.length},Lo=function(e){function t(r){var n;return _he(this,t),n=She(this,t,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var s=yk(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Che(t,e),jhe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=er(s[n],l,n);return ke(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var p=this.getIndex({startX:o+y,endX:l+y});(p.startIndex!==h||p.endIndex!==m)&&v&&v(p),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=yk(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,y=d.gap,p=d.data,b={startX:this.state.startX,endX:this.state.endX},g=n.pageX-s;g>0?g=Math.min(g,f+h-m-u):g<0&&(g=Math.max(g,f-u)),b[o]=u+g;var x=this.getIndex(b),_=x.startIndex,j=x.endIndex,S=function(){var k=p.length-1;return o==="startX"&&(l>c?_%y===0:j%y===0)||l<c&&j===k||o==="endX"&&(l>c?j%y===0:_%y===0)||l>c&&j===k};this.setState(jr(jr({},o,u+g),"brushMoveStartX",n.pageX),function(){v&&S()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(jr({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?L.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,y=c.startIndex,p=c.endIndex,b=Math.max(n,this.props.x),g=Ag(Ag({},Se(this.props,!1)),{},{x:b,y:u,width:d,height:f}),x=m||"Min value: ".concat((s=v[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[p])===null||o===void 0?void 0:o.name);return L.createElement(qe,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return L.createElement(qe,{className:"recharts-brush-texts"},L.createElement(ss,jh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),L.createElement(ss,jh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,y=h.isTextActive,p=h.isSlideMoving,b=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ue(l)||!ue(c)||!ue(u)||!ue(d)||u<=0||d<=0)return null;var x=Oe("recharts-brush",s),_=L.Children.count(o)===1,j=whe("userSelect","none");return L.createElement(qe,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(y||p||b||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return L.isValidElement(n)?s=L.cloneElement(n,a):ke(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Ag({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Ahe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(w.PureComponent);jr(Lo,"displayName","Brush");jr(Lo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Phe=Fb;function Ohe(e,t){var r;return Phe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var The=Ohe,$he=YT,Rhe=Wn,Mhe=The,Ihe=_r,Dhe=Fp;function Lhe(e,t,r){var n=Ihe(e)?$he:Mhe;return r&&Dhe(e,t,r)&&(t=void 0),n(e,Rhe(t))}var Fhe=Lhe;const Uhe=Ve(Fhe);var In=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},xk=y$;function Bhe(e,t,r){t=="__proto__"&&xk?xk(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var zhe=Bhe,Whe=zhe,Vhe=g$,qhe=Wn;function Hhe(e,t){var r={};return t=qhe(t),Vhe(e,function(n,a,s){Whe(r,a,t(n,a,s))}),r}var Ghe=Hhe;const Khe=Ve(Ghe);function Xhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Yhe=Xhe,Jhe=Fb;function Qhe(e,t){var r=!0;return Jhe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var Zhe=Qhe,epe=Yhe,tpe=Zhe,rpe=Wn,npe=_r,ape=Fp;function ipe(e,t,r){var n=npe(e)?epe:tpe;return r&&ape(e,t,r)&&(t=void 0),n(e,rpe(t))}var spe=ipe;const cM=Ve(spe);var ope=["x","y"];function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lpe(e,t,r){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cpe(e){var t=upe(e,"string");return wu(t)=="symbol"?t:t+""}function upe(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dpe(e,t){if(e==null)return{};var r=fpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hpe(e,t){var r=e.x,n=e.y,a=dpe(e,ope),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wl(Wl(Wl(Wl(Wl({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function wk(e){return L.createElement(rM,gx({shapeType:"rectangle",propTransformer:hpe,activeClassName:"recharts-active-bar"},e))}var ppe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=ue(n)||UH(n);return s?t(n,a):(s||ls(),r)}},mpe=["value","background"],uM;function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function gpe(e,t){if(e==null)return{};var r=vpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ype(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fM(n.key),n)}}function xpe(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bpe(e,t,r){return t=kh(t),wpe(e,dM()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function wpe(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(e)}function _pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(e)}function jpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vx(e,t)}function Ba(e,t,r){return t=fM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fM(e){var t=Spe(e,"string");return Fo(t)=="symbol"?t:t+""}function Spe(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bs=function(e){function t(){var r;ype(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=bpe(this,t,[].concat(a)),Ba(r,"state",{isAnimationFinished:!1}),Ba(r,"id",Bu("recharts-bar-")),Ba(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ba(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jpe(t,e),xpe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Se(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:o,y=_t(_t(_t({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(qe,Nh({className:"recharts-bar-rectangle"},is(a.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),L.createElement(wk,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return L.createElement(va,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=s.map(function(p,b){var g=h&&h[b];if(g){var x=Ta(g.x,p.x),_=Ta(g.y,p.y),j=Ta(g.width,p.width),S=Ta(g.height,p.height);return _t(_t({},p),{},{x:x(v),y:_(v),width:j(v),height:S(v)})}if(o==="horizontal"){var N=Ta(0,p.height),k=N(v);return _t(_t({},p),{},{y:p.y+p.height-k,height:k})}var A=Ta(0,p.width),O=A(v);return _t(_t({},p),{},{width:O})});return L.createElement(qe,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Xp(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Se(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=gpe(u,mpe);if(!f)return null;var m=_t(_t(_t(_t(_t({},h),{},{fill:"#eee"},f),c),is(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(wk,Nh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Gr(d,Qp);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(p,b){var g=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:g,errorVal:er(p,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return L.createElement(qe,v,f.map(function(y){return L.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,y=n.id;if(a||!s||!s.length)return null;var p=this.state.isAnimationFinished,b=Oe("recharts-bar",o),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=g||x,j=Me(y)?this.id:y;return L.createElement(qe,{className:b},g||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(j)},L.createElement("rect",{x:g?u:u-f/2,y:x?d:d-h/2,width:g?f:f*2,height:x?h:h*2}))):null,L.createElement(qe,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||p)&&ri.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);uM=bs;Ba(bs,"displayName","Bar");Ba(bs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ba(bs,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=ale(n,r);if(!m)return null;var v=t.layout,y=r.type.defaultProps,p=y!==void 0?_t(_t({},y),r.props):r.props,b=p.dataKey,g=p.children,x=p.minPointSize,_=v==="horizontal"?o:s,j=u?_.scale.domain():null,S=dle({numericAxis:_}),N=Gr(g,zb),k=f.map(function(A,O){var P,T,z,E,R,D;u?P=ile(u[d+O],j):(P=er(A,b),Array.isArray(P)||(P=[S,P]));var $=ppe(x,uM.defaultProps.minPointSize)(P[1],O);if(v==="horizontal"){var C,M=[o.scale(P[0]),o.scale(P[1])],q=M[0],Z=M[1];T=fN({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:A,index:O}),z=(C=Z??q)!==null&&C!==void 0?C:void 0,E=m.size;var te=q-Z;if(R=Number.isNaN(te)?0:te,D={x:T,y:o.y,width:E,height:o.height},Math.abs($)>0&&Math.abs(R)<Math.abs($)){var ce=ir(R||$)*(Math.abs($)-Math.abs(R));z-=ce,R+=ce}}else{var pe=[s.scale(P[0]),s.scale(P[1])],J=pe[0],ne=pe[1];if(T=J,z=fN({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:A,index:O}),E=ne-J,R=m.size,D={x:s.x,y:z,width:s.width,height:R},Math.abs($)>0&&Math.abs(E)<Math.abs($)){var H=ir(E||$)*(Math.abs($)-Math.abs(E));E+=H}}return _t(_t(_t({},A),{},{x:T,y:z,width:E,height:R,value:u?P:P[1],payload:A,background:D},N&&N[O]&&N[O].props),{},{tooltipPayload:[RR(r,A)],tooltipPosition:{x:T+E/2,y:z+R/2}})});return _t({data:k,layout:v},h)});function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Npe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hM(n.key),n)}}function kpe(e,t,r){return t&&Sk(e.prototype,t),r&&Sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){im(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t,r){return t=hM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hM(e){var t=Cpe(e,"string");return _u(t)=="symbol"?t:t+""}function Cpe(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Epe=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Nr(u,bs);return d.reduce(function(m,v){var y=r[v],p=y.orientation,b=y.domain,g=y.padding,x=g===void 0?{}:g,_=y.mirror,j=y.reversed,S="".concat(p).concat(_?"Mirror":""),N,k,A,O,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=b[1]-b[0],z=1/0,E=y.categoricalDomain.sort(WH);if(E.forEach(function(pe,J){J>0&&(z=Math.min((pe||0)-(E[J-1]||0),z))}),Number.isFinite(z)){var R=z/T,D=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(N=R*D/2),y.padding==="no-gap"){var $=sr(t.barCategoryGap,R*D),C=R*D/2;N=C-$-(C-$)/D*$}}}a==="xAxis"?k=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:k=y.range,j&&(k=[k[1],k[0]]);var M=PR(y,s,h),q=M.scale,Z=M.realScaleType;q.domain(b).range(k),OR(q);var te=TR(q,cn(cn({},y),{},{realScaleType:Z}));a==="xAxis"?(P=p==="top"&&!_||p==="bottom"&&_,A=n.left,O=f[S]-P*y.height):a==="yAxis"&&(P=p==="left"&&!_||p==="right"&&_,A=f[S]-P*y.width,O=n.top);var ce=cn(cn(cn({},y),te),{},{realScaleType:Z,x:A,y:O,scale:q,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return ce.bandSize=uh(ce,te),!y.hide&&a==="xAxis"?f[S]+=(P?-1:1)*ce.height:y.hide||(f[S]+=(P?-1:1)*ce.width),cn(cn({},m),{},im({},v,ce))},{})},pM=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},Ape=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return pM({x:r,y:n},{x:a,y:s})},mM=function(){function e(t){Npe(this,e),this.scale=t}return kpe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();im(mM,"EPS",1e-4);var gw=function(t){var r=Object.keys(t).reduce(function(n,a){return cn(cn({},n),{},im({},a,mM.create(t[a])))},{});return cn(cn({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Khe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return cM(a,function(s,o){return r[o].isInRange(s)})}})};function Ppe(e){return(e%180+180)%180}var Ope=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ppe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Tpe=Wn,$pe=zu,Rpe=Dp;function Mpe(e){return function(t,r,n){var a=Object(t);if(!$pe(t)){var s=Tpe(r);t=Rpe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var Ipe=Mpe,Dpe=iM;function Lpe(e){var t=Dpe(e),r=t%1;return t===t?r?t-r:t:0}var Fpe=Lpe,Upe=u$,Bpe=Wn,zpe=Fpe,Wpe=Math.max;function Vpe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:zpe(r);return a<0&&(a=Wpe(n+a,0)),Upe(e,Bpe(t),a)}var qpe=Vpe,Hpe=Ipe,Gpe=qpe,Kpe=Hpe(Gpe),Xpe=Kpe;const Ype=Ve(Xpe);var Jpe=Hq(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vw=w.createContext(void 0),yw=w.createContext(void 0),gM=w.createContext(void 0),vM=w.createContext({}),yM=w.createContext(void 0),xM=w.createContext(0),bM=w.createContext(0),kk=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Jpe(s);return L.createElement(vw.Provider,{value:n},L.createElement(yw.Provider,{value:a},L.createElement(vM.Provider,{value:s},L.createElement(gM.Provider,{value:d},L.createElement(yM.Provider,{value:o},L.createElement(xM.Provider,{value:u},L.createElement(bM.Provider,{value:c},l)))))))},Qpe=function(){return w.useContext(yM)},wM=function(t){var r=w.useContext(vw);r==null&&ls();var n=r[t];return n==null&&ls(),n},Zpe=function(){var t=w.useContext(vw);return Da(t)},eme=function(){var t=w.useContext(yw),r=Ype(t,function(n){return cM(n.domain,Number.isFinite)});return r||Da(t)},_M=function(t){var r=w.useContext(yw);r==null&&ls();var n=r[t];return n==null&&ls(),n},tme=function(){var t=w.useContext(gM);return t},rme=function(){return w.useContext(vM)},xw=function(){return w.useContext(bM)},bw=function(){return w.useContext(xM)};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ame(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SM(n.key),n)}}function ime(e,t,r){return t&&ame(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sme(e,t,r){return t=Ch(t),ome(e,jM()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function ome(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lme(e)}function lme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function cme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yx(e,t)}function yx(e,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yx(e,t)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ww(e,t,r){return t=SM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SM(e){var t=ume(e,"string");return Uo(t)=="symbol"?t:t+""}function ume(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dme(e,t){return mme(e)||pme(e,t)||hme(e,t)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return Ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(e,t)}}function Ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mme(e){if(Array.isArray(e))return e}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(this,arguments)}var gme=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):ke(t)?n=t(r):n=L.createElement("line",xx({},r,{className:"recharts-reference-line-line"})),n},vme=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var v=u.y,y=t.y.apply(v,{position:o});if(In(u,"discard")&&!t.y.isInRange(y))return null;var p=[{x:d+h,y},{x:d,y}];return c==="left"?p.reverse():p}if(r){var b=u.x,g=t.x.apply(b,{position:o});if(In(u,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?x.reverse():x}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return In(u,"discard")&&Uhe(j,function(S){return!t.isInRange(S)})?null:j}return null};function yme(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Qpe(),d=wM(a),f=_M(s),h=tme();if(!u||!h)return null;pn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=gw({x:d.scale,y:f.scale}),v=Ot(t),y=Ot(r),p=n&&n.length===2,b=vme(m,v,y,p,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var g=dme(b,2),x=g[0],_=x.x,j=x.y,S=g[1],N=S.x,k=S.y,A=In(e,"hidden")?"url(#".concat(u,")"):void 0,O=Ek(Ek({clipPath:A},Se(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return L.createElement(qe,{className:Oe("recharts-reference-line",l)},gme(o,O),Dt.renderCallByParent(e,Ape({x1:_,y1:j,x2:N,y2:k})))}var _w=function(e){function t(){return nme(this,t),sme(this,t,arguments)}return cme(t,e),ime(t,[{key:"render",value:function(){return L.createElement(yme,this.props)}}])}(L.Component);ww(_w,"displayName","ReferenceLine");ww(_w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(this,arguments)}function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){sm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kM(n.key),n)}}function wme(e,t,r){return t&&bme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _me(e,t,r){return t=Eh(t),jme(e,NM()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function jme(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sme(e)}function Sme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(e)}function Nme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wx(e,t)}function wx(e,t){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(e,t)}function sm(e,t,r){return t=kM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e){var t=kme(e,"string");return Bo(t)=="symbol"?t:t+""}function kme(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cme=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=gw({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return In(t,"discard")&&!o.isInRange(l)?null:l},om=function(e){function t(){return xme(this,t),_me(this,t,arguments)}return Nme(t,e),wme(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ot(a),d=Ot(s);if(pn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Cme(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,y=v.shape,p=v.className,b=In(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=Ok(Ok({clipPath:b},Se(this.props,!0)),{},{cx:h,cy:m});return L.createElement(qe,{className:Oe("recharts-reference-dot",p)},t.renderDot(y,g),Dt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);sm(om,"displayName","ReferenceDot");sm(om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sm(om,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ke(e)?r=e(t):r=L.createElement(mw,bx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(this,arguments)}function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ame(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EM(n.key),n)}}function Pme(e,t,r){return t&&Ame(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ome(e,t,r){return t=Ah(t),Tme(e,CM()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function Tme(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $me(e)}function $me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function Rme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jx(e,t)}function lm(e,t,r){return t=EM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EM(e){var t=Mme(e,"string");return zo(t)=="symbol"?t:t+""}function Mme(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ime=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=gw({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return In(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:pM(m,v)},cm=function(e){function t(){return Eme(this,t),Ome(this,t,arguments)}return Rme(t,e),Pme(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ot(a),h=Ot(s),m=Ot(o),v=Ot(l),y=this.props.shape;if(!f&&!h&&!m&&!v&&!y)return null;var p=Ime(f,h,m,v,this.props);if(!p&&!y)return null;var b=In(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(qe,{className:Oe("recharts-reference-area",c)},t.renderRect(y,$k($k({clipPath:b},Se(this.props,!0)),p)),Dt.renderCallByParent(this.props,p))}}])}(L.Component);lm(cm,"displayName","ReferenceArea");lm(cm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lm(cm,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):ke(e)?r=e(t):r=L.createElement(pw,_x({},t,{className:"recharts-reference-area-rect"})),r});function AM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Dme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Ope(n,r)}function Lme(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ph(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Fme(e,t){return AM(e,t+1)}function Ume(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n?.[c];if(v===void 0)return{v:AM(n,u)};var y=c,p,b=function(){return p===void 0&&(p=r(v,y)),p},g=v.coordinate,x=c===0||Ph(e,g,b,d,l);x||(c=0,d=o,u+=1),x&&(d=g+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Bme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bme(e,t,r){return t=zme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Wme(e,"string");return ju(t)=="symbol"?t:t+""}function Wme(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vme(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],v,y=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var p=e*(m.coordinate+e*y()/2-c);s[h]=m=Jt(Jt({},m),{},{tickCoord:p>0?m.coordinate-p*e:m.coordinate})}else s[h]=m=Jt(Jt({},m),{},{tickCoord:m.coordinate});var b=Ph(e,m.tickCoord,y,l,c);b&&(c=m.tickCoord-e*(y()/2+a),s[h]=Jt(Jt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function qme(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Jt(Jt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ph(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Jt(Jt({},d),{},{isShow:!0}))}for(var v=s?l-1:l,y=function(g){var x=o[g],_,j=function(){return _===void 0&&(_=r(x,g)),_};if(g===0){var S=e*(x.coordinate-e*j()/2-c);o[g]=x=Jt(Jt({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[g]=x=Jt(Jt({},x),{},{tickCoord:x.coordinate});var N=Ph(e,x.tickCoord,j,c,u);N&&(c=x.tickCoord+e*(j()/2+a),o[g]=Jt(Jt({},x),{},{isShow:!0}))},p=0;p<v;p++)y(p);return o}function jw(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ue(c)||yl.isSsr)return Fme(a,typeof c=="number"&&ue(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?dc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(x,_){var j=ke(u)?u(x.value,_):x.value;return m==="width"?Dme(dc(j,{fontSize:t,letterSpacing:r}),v,f):dc(j,{fontSize:t,letterSpacing:r})[m]},p=a.length>=2?ir(a[1].coordinate-a[0].coordinate):1,b=Lme(s,p,m);return c==="equidistantPreserveStart"?Ume(p,b,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=qme(p,b,y,a,o,c==="preserveStartEnd"):h=Vme(p,b,y,a,o),h.filter(function(g){return g.isShow}))}var Hme=["viewBox"],Gme=["viewBox"],Kme=["ticks"];function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Js.apply(this,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){Sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pg(e,t){if(e==null)return{};var r=Xme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OM(n.key),n)}}function Jme(e,t,r){return t&&Ik(e.prototype,t),r&&Ik(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qme(e,t,r){return t=Oh(t),Zme(e,PM()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Zme(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ege(e)}function ege(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(e)}function tge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sx(e,t)}function Sw(e,t,r){return t=OM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OM(e){var t=rge(e,"string");return Wo(t)=="symbol"?t:t+""}function rge(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=function(e){function t(r){var n;return Yme(this,t),n=Qme(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return tge(t,e),Jme(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Pg(n,Hme),l=this.props,c=l.viewBox,u=Pg(l,Gme);return!co(s,c)||!co(o,u)||!co(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,y,p,b,g,x=f?-1:1,_=n.tickSize||d,j=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,p=o+ +!f*c,y=p-x*_,g=y-x*h,b=j;break;case"left":y=p=n.coordinate,v=s+ +!f*l,m=v-x*_,b=m-x*h,g=j;break;case"right":y=p=n.coordinate,v=s+ +f*l,m=v+x*_,b=m+x*h,g=j;break;default:m=v=n.coordinate,p=o+ +f*c,y=p+x*_,g=y+x*h,b=j;break}return{line:{x1:m,y1:y,x2:v,y2:p},tick:{x:b,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Nt(Nt(Nt({},Se(this.props,!1)),Se(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Nt(Nt({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Nt(Nt({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return L.createElement("line",Js({},f,{className:Oe("recharts-cartesian-axis-line",$r(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=jw(Nt(Nt({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),p=Se(this.props,!1),b=Se(d,!1),g=Nt(Nt({},p),{},{fill:"none"},Se(c,!1)),x=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,A=Nt(Nt(Nt(Nt({textAnchor:v,verticalAnchor:y},p),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(qe,Js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},is(o.props,_,j)),c&&L.createElement("line",Js({},g,N,{className:Oe("recharts-cartesian-axis-tick-line",$r(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(ke(f)?f(_.value,j):_.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Pg(f,Kme),v=h;return ke(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:L.createElement(qe,{className:Oe("recharts-cartesian-axis",u),ref:function(p){n.layerReference=p}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Oe(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Nt(Nt({},a),{},{className:l})):ke(n)?o=n(Nt(Nt({},a),{},{className:l})):o=L.createElement(ss,Js({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(w.Component);Sw(_l,"displayName","CartesianAxis");Sw(_l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nge=["x1","y1","x2","y2","key"],age=["offset"];function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){ige(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ige(e,t,r){return t=sge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sge(e){var t=oge(e,"string");return cs(t)=="symbol"?t:t+""}function oge(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function Lk(e,t){if(e==null)return{};var r=lge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cge=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TM(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(ke(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=Lk(t,nge),u=Se(c,!1);u.offset;var d=Lk(u,age);r=L.createElement("line",Bi({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function uge(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Zt(Zt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return TM(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dge(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Zt(Zt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return TM(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fge(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?a+o-h:d[m+1]-h;if(y<=0)return null;var p=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:y,width:s,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function hge(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?s+l-h:d[m+1]-h;if(y<=0)return null;var p=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:y,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var pge=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return AR(jw(Zt(Zt(Zt({},_l.defaultProps),n),{},{ticks:ta(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},mge=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return AR(jw(Zt(Zt(Zt({},_l.defaultProps),n),{},{ticks:ta(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Ts={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $M(e){var t,r,n,a,s,o,l=xw(),c=bw(),u=rme(),d=Zt(Zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ts.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ts.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ts.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ts.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Ts.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ts.verticalFill,x:ue(e.x)?e.x:u.left,y:ue(e.y)?e.y:u.top,width:ue(e.width)?e.width:u.width,height:ue(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,y=d.syncWithTicks,p=d.horizontalValues,b=d.verticalValues,g=Zpe(),x=eme();if(!ue(m)||m<=0||!ue(v)||v<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||pge,j=d.horizontalCoordinatesGenerator||mge,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&ke(j)){var k=p&&p.length,A=j({yAxis:x?Zt(Zt({},x),{},{ticks:k?p:x.ticks}):void 0,width:l,height:c,offset:u},k?!0:y);pn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cs(A),"]")),Array.isArray(A)&&(S=A)}if((!N||!N.length)&&ke(_)){var O=b&&b.length,P=_({xAxis:g?Zt(Zt({},g),{},{ticks:O?b:g.ticks}):void 0,width:l,height:c,offset:u},O?!0:y);pn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cs(P),"]")),Array.isArray(P)&&(N=P)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(cge,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(uge,Bi({},d,{offset:u,horizontalPoints:S,xAxis:g,yAxis:x})),L.createElement(dge,Bi({},d,{offset:u,verticalPoints:N,xAxis:g,yAxis:x})),L.createElement(fge,Bi({},d,{horizontalPoints:S})),L.createElement(hge,Bi({},d,{verticalPoints:N})))}$M.displayName="CartesianGrid";function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IM(n.key),n)}}function yge(e,t,r){return t&&vge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xge(e,t,r){return t=Th(t),bge(e,RM()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function bge(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wge(e)}function wge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(e)}function _ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nx(e,t)}function MM(e,t,r){return t=IM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){var t=jge(e,"string");return Vo(t)=="symbol"?t:t+""}function jge(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}function Sge(e){var t=e.xAxisId,r=xw(),n=bw(),a=wM(t);return a==null?null:w.createElement(_l,kx({},a,{className:Oe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ta(o,!0)}}))}var um=function(e){function t(){return gge(this,t),xge(this,t,arguments)}return _ge(t,e),yge(t,[{key:"render",value:function(){return w.createElement(Sge,this.props)}}])}(w.Component);MM(um,"displayName","XAxis");MM(um,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FM(n.key),n)}}function Cge(e,t,r){return t&&kge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ege(e,t,r){return t=$h(t),Age(e,DM()?Reflect.construct(t,r||[],$h(e).constructor):t.apply(e,r))}function Age(e,t){if(t&&(qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(e)}function Pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!e})()}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(e)}function Oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cx(e,t)}function LM(e,t,r){return t=FM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FM(e){var t=Tge(e,"string");return qo(t)=="symbol"?t:t+""}function Tge(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}var $ge=function(t){var r=t.yAxisId,n=xw(),a=bw(),s=_M(r);return s==null?null:w.createElement(_l,Ex({},s,{className:Oe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ta(l,!0)}}))},dm=function(e){function t(){return Nge(this,t),Ege(this,t,arguments)}return Oge(t,e),Cge(t,[{key:"render",value:function(){return w.createElement($ge,this.props)}}])}(w.Component);LM(dm,"displayName","YAxis");LM(dm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Fk(e){return Dge(e)||Ige(e)||Mge(e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(e,t){if(e){if(typeof e=="string")return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(e,t)}}function Ige(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dge(e){if(Array.isArray(e))return Ax(e)}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Px=function(t,r,n,a,s){var o=Gr(t,_w),l=Gr(t,om),c=[].concat(Fk(o),Fk(l)),u=Gr(t,cm),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(y,p){if(p.props[d]===n&&In(p.props,"extendDomain")&&ue(p.props[f])){var b=p.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,p){if(p.props[d]===n&&In(p.props,"extendDomain")&&ue(p.props[m])&&ue(p.props[v])){var b=p.props[m],g=p.props[v];return[Math.min(y[0],b,g),Math.max(y[1],b,g)]}return y},h)}return s&&s.length&&(h=s.reduce(function(y,p){return ue(p)?[Math.min(y[0],p),Math.max(y[1],p)]:y},h)),h},UM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var y=r?r+u:u;if(!this._events[y])return!1;var p=this._events[y],b=arguments.length,g,x;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,h),!0;case 5:return p.fn.call(p.context,d,f,h,m),!0;case 6:return p.fn.call(p.context,d,f,h,m,v),!0}for(x=1,g=new Array(b-1);x<b;x++)g[x-1]=arguments[x];p.fn.apply(p.context,g)}else{var _=p.length,j;for(x=0;x<_;x++)switch(p[x].once&&this.removeListener(u,p[x].fn,void 0,!0),b){case 1:p[x].fn.call(p[x].context);break;case 2:p[x].fn.call(p[x].context,d);break;case 3:p[x].fn.call(p[x].context,d,f);break;case 4:p[x].fn.call(p[x].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(b-1);j<b;j++)g[j-1]=arguments[j];p[x].fn.apply(p[x].context,g)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,p=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&p.push(v[y]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(UM);var Lge=UM.exports;const Fge=Ve(Lge);var Og=new Fge,Tg="recharts.syncMouseEvents";function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function Uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BM(n.key),n)}}function zge(e,t,r){return t&&Bge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $g(e,t,r){return t=BM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BM(e){var t=Wge(e,"string");return Su(t)=="symbol"?t:t+""}function Wge(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vge=function(){function e(){Uge(this,e),$g(this,"activeIndex",0),$g(this,"coordinateList",[]),$g(this,"layout","horizontal")}return zge(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function qge(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function Hge(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zM(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=tt(t,r,n,a),l=tt(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Gge(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=tt(l,c,u,f),m=tt(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return zM(t);return[{x:n,y:a},{x:s,y:o}]}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){Kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kge(e,t,r){return t=Xge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xge(e){var t=Yge(e,"string");return Nu(t)=="symbol"?t:t+""}function Yge(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jge(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,y=Zy;if(h==="ScatterChart")v=o,y=Ede;else if(h==="BarChart")v=Hge(f,o,c,d),y=pw;else if(f==="radial"){var p=zM(o),b=p.cx,g=p.cy,x=p.radius,_=p.startAngle,j=p.endAngle;v={cx:b,cy:g,startAngle:_,endAngle:j,innerRadius:x,outerRadius:x},y=UR}else v={points:Gge(f,o,c)},y=Zy;var S=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},c),v),Se(m,!1)),{},{payload:l,payloadIndex:u,className:Oe("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(y,S)}var Qge=["item"],Zge=["children","className","width","height","style","compact","title","desc"];function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qs.apply(this,arguments)}function Bk(e,t){return rve(e)||tve(e,t)||VM(e,t)||eve()}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rve(e){if(Array.isArray(e))return e}function zk(e,t){if(e==null)return{};var r=nve(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ive(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qM(n.key),n)}}function sve(e,t,r){return t&&ive(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ove(e,t,r){return t=Rh(t),lve(e,WM()?Reflect.construct(t,r||[],Rh(e).constructor):t.apply(e,r))}function lve(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cve(e)}function cve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!e})()}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(e)}function uve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ox(e,t)}function Go(e){return hve(e)||fve(e)||VM(e)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(e,t){if(e){if(typeof e=="string")return Tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(e,t)}}function fve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hve(e){if(Array.isArray(e))return Tx(e)}function Tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e,t,r){return t=qM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qM(e){var t=pve(e,"string");return Ho(t)=="symbol"?t:t+""}function pve(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mve={xAxis:["bottom","top"],yAxis:["left","right"]},gve={width:"100%",height:"100%"},HM={x:0,y:0};function $d(e){return e}var vve=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},yve=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Q(Q(Q({},a),tt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Q(Q(Q({},a),tt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return HM},fm=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Go(l),Go(u)):l},[]);return o.length>0?o:t&&t.length&&ue(a)&&ue(s)?t.slice(a,s+1):[]};function GM(e){return e==="number"?[0,"auto"]:void 0}var $x=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=fm(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=oy(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Go(c),[RR(u,h)]):c},[])},Vk=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=vve(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Qoe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$x(t,r,d,f),m=yve(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},xve=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=ER(d,s);return n.reduce(function(v,y){var p,b=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,g=b.type,x=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,A=b[o];if(v[A])return v;var O=fm(t.data,{graphicalItems:a.filter(function(te){var ce,pe=o in te.props?te.props[o]:(ce=te.type.defaultProps)===null||ce===void 0?void 0:ce[o];return pe===A}),dataStartIndex:c,dataEndIndex:u}),P=O.length,T,z,E;qge(b.domain,_,g)&&(T=Ky(b.domain,null,_),m&&(g==="number"||S!=="auto")&&(E=hc(O,x,"category")));var R=GM(g);if(!T||T.length===0){var D,$=(D=b.domain)!==null&&D!==void 0?D:R;if(x){if(T=hc(O,x,g),g==="category"&&m){var C=zH(T);j&&C?(z=T,T=_h(0,P)):j||(T=mN($,T,y).reduce(function(te,ce){return te.indexOf(ce)>=0?te:[].concat(Go(te),[ce])},[]))}else if(g==="category")j?T=T.filter(function(te){return te!==""&&!Me(te)}):T=mN($,T,y).reduce(function(te,ce){return te.indexOf(ce)>=0||ce===""||Me(ce)?te:[].concat(Go(te),[ce])},[]);else if(g==="number"){var M=nle(O,a.filter(function(te){var ce,pe,J=o in te.props?te.props[o]:(ce=te.type.defaultProps)===null||ce===void 0?void 0:ce[o],ne="hide"in te.props?te.props.hide:(pe=te.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return J===A&&(k||!ne)}),x,s,d);M&&(T=M)}m&&(g==="number"||S!=="auto")&&(E=hc(O,x,"category"))}else m?T=_h(0,P):l&&l[A]&&l[A].hasStack&&g==="number"?T=h==="expand"?[0,1]:$R(l[A].stackGroups,c,u):T=CR(O,a.filter(function(te){var ce=o in te.props?te.props[o]:te.type.defaultProps[o],pe="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return ce===A&&(k||!pe)}),g,d,!0);if(g==="number")T=Px(f,T,A,s,N),$&&(T=Ky($,T,_));else if(g==="category"&&$){var q=$,Z=T.every(function(te){return q.indexOf(te)>=0});Z&&(T=q)}}return Q(Q({},v),{},we({},A,Q(Q({},b),{},{axisType:s,domain:T,categoricalDomain:E,duplicateDomain:z,originalDomain:(p=b.domain)!==null&&p!==void 0?p:R,isCategorical:m,layout:d})))},{})},bve=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=fm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=ER(d,s),y=-1;return n.reduce(function(p,b){var g=b.type.defaultProps!==void 0?Q(Q({},b.type.defaultProps),b.props):b.props,x=g[o],_=GM("number");if(!p[x]){y++;var j;return v?j=_h(0,m):l&&l[x]&&l[x].hasStack?(j=$R(l[x].stackGroups,c,u),j=Px(f,j,x,s)):(j=Ky(_,CR(h,n.filter(function(S){var N,k,A=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],O="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return A===x&&!O}),"number",d),a.defaultProps.allowDataOverflow),j=Px(f,j,x,s)),Q(Q({},p),{},we({},x,Q(Q({axisType:s},a.defaultProps),{},{hide:!0,orientation:$r(mve,"".concat(s,".").concat(y%2),null),domain:j,originalDomain:_,isCategorical:v,layout:d})))}return p},{})},wve=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Gr(d,s),m={};return h&&h.length?m=xve(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=bve(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},_ve=function(t){var r=Da(t),n=ta(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ub(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uh(r,n)}},qk=function(t){var r=t.children,n=t.defaultShowTooltip,a=Nr(r,Lo),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},jve=function(t){return!t||!t.length?!1:t.some(function(r){var n=ia(r&&r.type);return n&&n.indexOf("Bar")>=0})},Hk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sve=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Nr(f,Lo),v=Nr(f,Vi),y=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?Q(Q({},j),{},we({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),p=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?Q(Q({},j),{},we({},k,$r(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=Q(Q({},p),y),g=b.bottom;m&&(b.bottom+=m.props.height||Lo.defaultProps.height),v&&r&&(b=tle(b,a,n,r));var x=u-b.left-b.right,_=d-b.top-b.bottom;return Q(Q({brushBottom:g},b),{},{width:Math.max(x,0),height:Math.max(_,0)})},Nve=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},KM=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,g){var x=g.graphicalItems,_=g.stackGroups,j=g.offset,S=g.updateId,N=g.dataStartIndex,k=g.dataEndIndex,A=b.barSize,O=b.layout,P=b.barGap,T=b.barCategoryGap,z=b.maxBarSize,E=Hk(O),R=E.numericAxisName,D=E.cateAxisName,$=jve(x),C=[];return x.forEach(function(M,q){var Z=fm(b.data,{graphicalItems:[M],dataStartIndex:N,dataEndIndex:k}),te=M.type.defaultProps!==void 0?Q(Q({},M.type.defaultProps),M.props):M.props,ce=te.dataKey,pe=te.maxBarSize,J=te["".concat(R,"Id")],ne=te["".concat(D,"Id")],H={},I=c.reduce(function(Kt,fr){var hr=g["".concat(fr.axisType,"Map")],W=te["".concat(fr.axisType,"Id")];hr&&hr[W]||fr.axisType==="zAxis"||ls();var oe=hr[W];return Q(Q({},Kt),{},we(we({},fr.axisType,oe),"".concat(fr.axisType,"Ticks"),ta(oe)))},H),F=I[D],B=I["".concat(D,"Ticks")],G=_&&_[J]&&_[J].hasStack&&fle(M,_[J].stackGroups),V=ia(M.type).indexOf("Bar")>=0,de=uh(F,B),U=[],Y=$&&Zoe({barSize:A,stackGroups:_,totalSize:Nve(I,D)});if(V){var ae,xe,Le=Me(pe)?z:pe,Rt=(ae=(xe=uh(F,B,!0))!==null&&xe!==void 0?xe:Le)!==null&&ae!==void 0?ae:0;U=ele({barGap:P,barCategoryGap:T,bandSize:Rt!==de?Rt:de,sizeList:Y[ne],maxBarSize:Le}),Rt!==de&&(U=U.map(function(Kt){return Q(Q({},Kt),{},{position:Q(Q({},Kt.position),{},{offset:Kt.position.offset-Rt/2})})}))}var Zr=M&&M.type&&M.type.getComposedData;Zr&&C.push({props:Q(Q({},Zr(Q(Q({},I),{},{displayedData:Z,props:b,dataKey:ce,item:M,bandSize:de,barPosition:U,offset:j,stackedData:G,layout:O,dataStartIndex:N,dataEndIndex:k}))),{},we(we(we({key:M.key||"item-".concat(q)},R,I[R]),D,I[D]),"animationId",S)),childIndex:eG(M,b.children),item:M})}),C},m=function(b,g){var x=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!l1({props:x}))return null;var N=x.children,k=x.layout,A=x.stackOffset,O=x.data,P=x.reverseStackOrder,T=Hk(k),z=T.numericAxisName,E=T.cateAxisName,R=Gr(N,n),D=ule(O,R,"".concat(z,"Id"),"".concat(E,"Id"),A,P),$=c.reduce(function(te,ce){var pe="".concat(ce.axisType,"Map");return Q(Q({},te),{},we({},pe,wve(x,Q(Q({},ce),{},{graphicalItems:R,stackGroups:ce.axisType===z&&D,dataStartIndex:_,dataEndIndex:j}))))},{}),C=Sve(Q(Q({},$),{},{props:x,graphicalItems:R}),g?.legendBBox);Object.keys($).forEach(function(te){$[te]=d(x,$[te],C,te.replace("Map",""),r)});var M=$["".concat(E,"Map")],q=_ve(M),Z=h(x,Q(Q({},$),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:R,stackGroups:D,offset:C}));return Q(Q({formattedGraphicalItems:Z,graphicalItems:R,offset:C,stackGroups:D},q),$)},v=function(p){function b(g){var x,_,j;return ave(this,b),j=ove(this,b,[g]),we(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(j,"accessibilityManager",new Vge),we(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,A=N.dataEndIndex,O=N.updateId;j.setState(Q({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:A,updateId:O},Q(Q({},j.state),{},{legendBBox:S}))))}}),we(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),we(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return Q({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),we(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=Q(Q({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var A=j.props.onMouseEnter;ke(A)&&A(k,S)}}),we(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?Q(Q({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var A=j.props.onMouseMove;ke(A)&&A(k,S)}),we(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),we(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),we(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),we(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;ke(k)&&k(N,S)}),we(j,"handleOuterEvent",function(S){var N=ZH(S),k=$r(j.props,"".concat(N));if(N&&ke(k)){var A,O;/.*touch.*/i.test(N)?O=j.getMouseInfo(S.changedTouches[0]):O=j.getMouseInfo(S),k((A=O)!==null&&A!==void 0?A:{},S)}}),we(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=Q(Q({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var A=j.props.onClick;ke(A)&&A(k,S)}}),we(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(ke(N)){var k=j.getMouseInfo(S);N(k,S)}}),we(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(ke(N)){var k=j.getMouseInfo(S);N(k,S)}}),we(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),we(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),we(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),we(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(ke(N)){var k=j.getMouseInfo(S);N(k,S)}}),we(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(ke(N)){var k=j.getMouseInfo(S);N(k,S)}}),we(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Og.emit(Tg,j.props.syncId,S,j.eventEmitterSymbol)}),we(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,A=N.syncMethod,O=j.state.updateId,P=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(Q({dataStartIndex:P,dataEndIndex:T},m({props:j.props,dataStartIndex:P,dataEndIndex:T,updateId:O},j.state)));else if(S.activeTooltipIndex!==void 0){var z=S.chartX,E=S.chartY,R=S.activeTooltipIndex,D=j.state,$=D.offset,C=D.tooltipTicks;if(!$)return;if(typeof A=="function")R=A(C,S);else if(A==="value"){R=-1;for(var M=0;M<C.length;M++)if(C[M].value===S.activeLabel){R=M;break}}var q=Q(Q({},$),{},{x:$.left,y:$.top}),Z=Math.min(z,q.x+q.width),te=Math.min(E,q.y+q.height),ce=C[R]&&C[R].value,pe=$x(j.state,j.props.data,R),J=C[R]?{x:k==="horizontal"?C[R].coordinate:Z,y:k==="horizontal"?te:C[R].coordinate}:HM;j.setState(Q(Q({},S),{},{activeLabel:ce,activeCoordinate:J,activePayload:pe,activeTooltipIndex:R}))}else j.setState(S)}),we(j,"renderCursor",function(S){var N,k=j.state,A=k.isTooltipActive,O=k.activeCoordinate,P=k.activePayload,T=k.offset,z=k.activeTooltipIndex,E=k.tooltipAxisBandSize,R=j.getTooltipEventType(),D=(N=S.props.active)!==null&&N!==void 0?N:A,$=j.props.layout,C=S.key||"_recharts-cursor";return L.createElement(Jge,{key:C,activeCoordinate:O,activePayload:P,activeTooltipIndex:z,chartName:r,element:S,isActive:D,layout:$,offset:T,tooltipAxisBandSize:E,tooltipEventType:R})}),we(j,"renderPolarAxis",function(S,N,k){var A=$r(S,"type.axisType"),O=$r(j.state,"".concat(A,"Map")),P=S.type.defaultProps,T=P!==void 0?Q(Q({},P),S.props):S.props,z=O&&O[T["".concat(A,"Id")]];return w.cloneElement(S,Q(Q({},z),{},{className:Oe(A,z.className),key:S.key||"".concat(N,"-").concat(k),ticks:ta(z,!0)}))}),we(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,A=N.polarAngles,O=N.polarRadius,P=j.state,T=P.radiusAxisMap,z=P.angleAxisMap,E=Da(T),R=Da(z),D=R.cx,$=R.cy,C=R.innerRadius,M=R.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(A)?A:ta(R,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(O)?O:ta(E,!0).map(function(q){return q.coordinate}),cx:D,cy:$,innerRadius:C,outerRadius:M,key:S.key||"polar-grid",radialLines:k})}),we(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,A=N.width,O=N.height,P=j.props.margin||{},T=A-(P.left||0)-(P.right||0),z=NR({children:k,formattedGraphicalItems:S,legendWidth:T,legendContent:u});if(!z)return null;var E=z.item,R=zk(z,Qge);return w.cloneElement(E,Q(Q({},R),{},{chartWidth:A,chartHeight:O,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),we(j,"renderTooltip",function(){var S,N=j.props,k=N.children,A=N.accessibilityLayer,O=Nr(k,ln);if(!O)return null;var P=j.state,T=P.isTooltipActive,z=P.activeCoordinate,E=P.activePayload,R=P.activeLabel,D=P.offset,$=(S=O.props.active)!==null&&S!==void 0?S:T;return w.cloneElement(O,{viewBox:Q(Q({},D),{},{x:D.left,y:D.top}),active:$,label:R,payload:$?E:[],coordinate:z,accessibilityLayer:A})}),we(j,"renderBrush",function(S){var N=j.props,k=N.margin,A=N.data,O=j.state,P=O.offset,T=O.dataStartIndex,z=O.dataEndIndex,E=O.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Ed(j.handleBrushChange,S.props.onChange),data:A,x:ue(S.props.x)?S.props.x:P.left,y:ue(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:ue(S.props.width)?S.props.width:P.width,startIndex:T,endIndex:z,updateId:"brush-".concat(E)})}),we(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var A=j,O=A.clipPathId,P=j.state,T=P.xAxisMap,z=P.yAxisMap,E=P.offset,R=S.type.defaultProps||{},D=S.props,$=D.xAxisId,C=$===void 0?R.xAxisId:$,M=D.yAxisId,q=M===void 0?R.yAxisId:M;return w.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:T[C],yAxis:z[q],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:O})}),we(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,A=S.basePoint,O=S.childIndex,P=S.isRange,T=[],z=N.props.key,E=N.item.type.defaultProps!==void 0?Q(Q({},N.item.type.defaultProps),N.item.props):N.item.props,R=E.activeDot,D=E.dataKey,$=Q(Q({index:O,dataKey:D,cx:k.x,cy:k.y,r:4,fill:hw(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Se(R,!1)),Df(R));return T.push(b.renderActiveDot(R,$,"".concat(z,"-activePoint-").concat(O))),A?T.push(b.renderActiveDot(R,Q(Q({},$),{},{cx:A.x,cy:A.y}),"".concat(z,"-basePoint-").concat(O))):P&&T.push(null),T}),we(j,"renderGraphicChild",function(S,N,k){var A=j.filterFormatItem(S,N,k);if(!A)return null;var O=j.getTooltipEventType(),P=j.state,T=P.isTooltipActive,z=P.tooltipAxis,E=P.activeTooltipIndex,R=P.activeLabel,D=j.props.children,$=Nr(D,ln),C=A.props,M=C.points,q=C.isRange,Z=C.baseLine,te=A.item.type.defaultProps!==void 0?Q(Q({},A.item.type.defaultProps),A.item.props):A.item.props,ce=te.activeDot,pe=te.hide,J=te.activeBar,ne=te.activeShape,H=!!(!pe&&T&&$&&(ce||J||ne)),I={};O!=="axis"&&$&&$.props.trigger==="click"?I={onClick:Ed(j.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(I={onMouseLeave:Ed(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Ed(j.handleItemMouseEnter,S.props.onMouseEnter)});var F=w.cloneElement(S,Q(Q({},A.props),I));function B(fr){return typeof z.dataKey=="function"?z.dataKey(fr.payload):null}if(H)if(E>=0){var G,V;if(z.dataKey&&!z.allowDuplicatedCategory){var de=typeof z.dataKey=="function"?B:"payload.".concat(z.dataKey.toString());G=oy(M,de,R),V=q&&Z&&oy(Z,de,R)}else G=M?.[E],V=q&&Z&&Z[E];if(ne||J){var U=S.props.activeIndex!==void 0?S.props.activeIndex:E;return[w.cloneElement(S,Q(Q(Q({},A.props),I),{},{activeIndex:U})),null,null]}if(!Me(G))return[F].concat(Go(j.renderActivePoints({item:A,activePoint:G,basePoint:V,childIndex:E,isRange:q})))}else{var Y,ae=(Y=j.getItemByXY(j.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:F},xe=ae.graphicalItem,Le=xe.item,Rt=Le===void 0?S:Le,Zr=xe.childIndex,Kt=Q(Q(Q({},A.props),I),{},{activeIndex:Zr});return[w.cloneElement(Rt,Kt),null,null]}return q?[F,null,null]:[F,null]}),we(j,"renderCustomized",function(S,N,k){return w.cloneElement(S,Q(Q({key:"recharts-customized-".concat(k)},j.props),j.state))}),we(j,"renderMap",{CartesianGrid:{handler:$d,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:$d},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:$d},YAxis:{handler:$d},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Bu("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=S$(j.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return uve(b,p),sve(b,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,j=x.data,S=x.height,N=x.layout,k=Nr(_,ln);if(k){var A=k.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=$x(this.state,j,A,O),T=this.state.tooltipTicks[A].coordinate,z=(this.state.offset.top+S)/2,E=N==="horizontal",R=E?{x:T,y:z}:{y:T,x:z},D=this.state.formattedGraphicalItems.find(function(C){var M=C.item;return M.type.name==="Scatter"});D&&(R=Q(Q({},R),D.props.points[A].tooltipPosition),P=D.props.points[A].tooltipPayload);var $={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:R};this.setState($),this.renderCursor(k),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){cy([Nr(x.children,ln)],[Nr(this.props.children,ln)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Nr(this.props.children,ln);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=kne(j),N={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},k=j.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,k);if(!A)return null;var O=this.state,P=O.xAxisMap,T=O.yAxisMap,z=this.getTooltipEventType(),E=Vk(this.state,this.props.data,this.props.layout,A);if(z!=="axis"&&P&&T){var R=Da(P).scale,D=Da(T).scale,$=R&&R.invert?R.invert(N.chartX):null,C=D&&D.invert?D.invert(N.chartY):null;return Q(Q({},N),{},{xValue:$,yValue:C},E)}return E?Q(Q({},N),E):null}},{key:"inRange",value:function(x,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=x/j,k=_/j;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,O=N>=A.left&&N<=A.left+A.width&&k>=A.top&&k<=A.top+A.height;return O?{x:N,y:k}:null}var P=this.state,T=P.angleAxisMap,z=P.radiusAxisMap;if(T&&z){var E=Da(T);return yN({x:N,y:k},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),j=Nr(x,ln),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Df(this.props,this.handleOuterEvent);return Q(Q({},N),S)}},{key:"addListener",value:function(){Og.on(Tg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Og.removeListener(Tg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var A=S[N];if(A.item===x||A.props.key===x.key||_===ia(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,j){var S=Bk(j,2),N=S[0],k=S[1];return Q(Q({},_),{},we({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,j){var S=Bk(j,2),N=S[0],k=S[1];return Q(Q({},_),{},we({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var A=j[N],O=A.props,P=A.item,T=P.type.defaultProps!==void 0?Q(Q({},P.type.defaultProps),P.props):P.props,z=ia(P.type);if(z==="Bar"){var E=(O.data||[]).find(function(C){return lde(x,C)});if(E)return{graphicalItem:A,payload:E}}else if(z==="RadialBar"){var R=(O.data||[]).find(function(C){return yN(x,C)});if(R)return{graphicalItem:A,payload:R}}else if(nm(A,S)||am(A,S)||xu(A,S)){var D=Yfe({graphicalItem:A,activeTooltipItem:S,itemData:T.data}),$=T.activeIndex===void 0?D:T.activeIndex;return{graphicalItem:Q(Q({},A),{},{childIndex:$}),payload:xu(A,S)?T.data[D]:A.props.data[D]}}}return null}},{key:"render",value:function(){var x=this;if(!l1(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,A=_.style,O=_.compact,P=_.title,T=_.desc,z=zk(_,Zge),E=Se(z,!1);if(O)return L.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(dy,Qs({},E,{width:N,height:k,title:P,desc:T}),this.renderClipPath(),u1(j,this.renderMap)));if(this.props.accessibilityLayer){var R,D;E.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,E.role=(D=this.props.role)!==null&&D!==void 0?D:"application",E.onKeyDown=function(C){x.accessibilityManager.keyboardEvent(C)},E.onFocus=function(){x.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return L.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Qs({className:Oe("recharts-wrapper",S),style:Q({position:"relative",cursor:"default",width:N,height:k},A)},$,{ref:function(M){x.container=M}}),L.createElement(dy,Qs({},E,{width:N,height:k,title:P,desc:T,style:gve}),this.renderClipPath(),u1(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);we(v,"displayName",r),we(v,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(v,"getDerivedStateFromProps",function(p,b){var g=p.dataKey,x=p.data,_=p.children,j=p.width,S=p.height,N=p.layout,k=p.stackOffset,A=p.margin,O=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var T=qk(p);return Q(Q(Q({},T),{},{updateId:0},m(Q(Q({props:p},T),{},{updateId:0}),b)),{},{prevDataKey:g,prevData:x,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:A,prevChildren:_})}if(g!==b.prevDataKey||x!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!co(A,b.prevMargin)){var z=qk(p),E={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},R=Q(Q({},Vk(b,x,N)),{},{updateId:b.updateId+1}),D=Q(Q(Q({},z),E),R);return Q(Q(Q({},D),m(Q({props:p},D),b)),{},{prevDataKey:g,prevData:x,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:A,prevChildren:_})}if(!cy(_,b.prevChildren)){var $,C,M,q,Z=Nr(_,Lo),te=Z&&($=(C=Z.props)===null||C===void 0?void 0:C.startIndex)!==null&&$!==void 0?$:O,ce=Z&&(M=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&M!==void 0?M:P,pe=te!==O||ce!==P,J=!Me(x),ne=J&&!pe?b.updateId:b.updateId+1;return Q(Q({updateId:ne},m(Q(Q({props:p},b),{},{updateId:ne,dataStartIndex:te,dataEndIndex:ce}),b)),{},{prevChildren:_,dataStartIndex:te,dataEndIndex:ce})}return null}),we(v,"renderActiveDot",function(p,b,g){var x;return w.isValidElement(p)?x=w.cloneElement(p,b):ke(p)?x=p(b):x=L.createElement(mw,b),L.createElement(qe,{className:"recharts-active-dot",key:g},x)});var y=w.forwardRef(function(b,g){return L.createElement(v,Qs({},b,{ref:g}))});return y.displayName=v.displayName,y},kve=KM({chartName:"BarChart",GraphicalChild:bs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:um},{axisType:"yAxis",AxisComp:dm}],formatAxisMap:Epe}),Cve=KM({chartName:"PieChart",GraphicalChild:ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rm},{axisType:"radiusAxis",AxisComp:em}],formatAxisMap:_le,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Eve=(e,t)=>t===0?e>0?100:0:(e-t)/t*100,Ave=(e,t,r)=>t.map(n=>{const a=e.filter(c=>c.agent_id===n.id),s=a.filter(c=>c.stage==="deployed").length,o=a.length>0?s/a.length*100:0,l=r.filter(c=>a.some(u=>u.id===c.candidate_id)).reduce((c,u)=>c+u.amount*(n.commission_rate||.1),0);return{name:n.agency_name||n.name,placements:s,success_rate:Math.round(o),earnings:Math.round(l),candidates:a.length}}).sort((n,a)=>a.placements-n.placements),Gk=e=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX"}).format(e),Pve=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,s]=w.useState(null),[o,l]=w.useState(""),[c,u]=w.useState([]),[d,f]=w.useState(null),[h,m]=w.useState("overview"),[v,y]=w.useState(!1),[p,b]=w.useState({key:null,direction:"asc"}),[g,x]=w.useState(1),[_,j]=w.useState(25),[S,N]=w.useState({}),[k,A]=w.useState(new Set),[O,P]=w.useState(!1),[T,z]=w.useState(!1),[E,R]=w.useState(null),[D,$]=w.useState(null),[C,M]=w.useState(!1),q=B=>B.toLowerCase().includes("id")?"100px":B.toLowerCase().includes("email")?"160px":B.toLowerCase().includes("phone")?"120px":B.toLowerCase().includes("name")?"140px":B.toLowerCase().includes("address")?"180px":B.toLowerCase().includes("url")||B.toLowerCase().includes("photo")?"120px":B.toLowerCase().includes("date")||B.toLowerCase().includes("created")||B.toLowerCase().includes("updated")?"100px":B.toLowerCase().includes("active")||B.toLowerCase().includes("is_")?"80px":B.toLowerCase().includes("stage")||B.toLowerCase().includes("status")?"100px":B.toLowerCase().includes("gender")?"80px":"120px",Z=async()=>{try{y(!0),s(null);const B=Date.now(),V=await new Bc().executeSQLQuery(o),de=Date.now();f(de-B),u(V.data||[]),x(1),N({}),A(new Set),b({key:null,direction:"asc"})}catch(B){s(B instanceof Error?B.message:"Query execution failed"),u([])}finally{y(!1)}},te=(B,G)=>{if(!G||G.length===0)return"text";const V=G.slice(0,10).map(Y=>Y[B]).filter(Y=>Y!=null);if(V.length===0)return"text";const de=V[0];if(typeof de=="number")return"number";if(typeof de=="boolean")return"boolean";if(de instanceof Date)return"date";const U=String(de);return!isNaN(parseFloat(U))&&isFinite(U)?"number":"text"},ce=(B,G)=>{const V=te(B,G);return V==="number"?"text-right":V==="boolean"?"text-center":"text-left"},pe=B=>{let G="asc";p.key===B&&p.direction==="asc"&&(G="desc"),b({key:B,direction:G})},J=()=>{if(!c)return[];let B=[...c];return Object.entries(S).forEach(([G,V])=>{V&&typeof V=="string"&&(B=B.filter(de=>String(de[G]||"").toLowerCase().includes(V.toLowerCase())))}),p.key&&B.sort((G,V)=>{const de=G[p.key],U=V[p.key];if(de==null)return 1;if(U==null)return-1;const Y=parseFloat(String(de)),ae=parseFloat(String(U));if(!isNaN(Y)&&!isNaN(ae))return p.direction==="asc"?Y-ae:ae-Y;const xe=String(de).toLowerCase(),Le=String(U).toLowerCase();return p.direction==="asc"?xe<Le?-1:xe>Le?1:0:xe>Le?-1:xe<Le?1:0}),B},ne=(B,G,V)=>{if(B==null)return i.jsx("span",{className:"text-muted-foreground italic",children:"null"});const de=String(B),U=G.toLowerCase();if(U.includes("id")||U.includes("phone")||U.includes("created")||U.includes("updated"))return i.jsx("span",{className:"font-mono text-sm",children:de});if(te(G,V)==="number"){const ae=parseFloat(de);if(!isNaN(ae)){const xe=ae<0,Le=ae===0;return i.jsx("span",{className:`font-mono ${xe?"text-red-600":Le?"text-muted-foreground":"text-foreground"}`,children:ae.toLocaleString()})}}return de.toLowerCase().includes("error")||de.toLowerCase().includes("failed")?i.jsx("span",{className:"text-red-600",children:de}):de.toLowerCase().includes("success")||de.toLowerCase().includes("completed")?i.jsx("span",{className:"text-green-600",children:de}):de.toLowerCase().includes("pending")||de.toLowerCase().includes("waiting")?i.jsx("span",{className:"text-orange-600",children:de}):de},H=()=>{const B=J();if(!B||B.length===0)return;const V=Object.keys(B[0]).filter(Kt=>!k.has(Kt)),de=V.join(","),U=B.map(Kt=>V.map(fr=>{const hr=Kt[fr];if(hr==null)return"";const W=String(hr);return W.includes(",")?`"${W.replace(/"/g,'""')}"`:W}).join(",")),Y=[de,...U].join(`
`),xe=`sql_query_results_${new Date().toISOString().split("T")[0]}.csv`,Le=new Blob([Y],{type:"text/csv;charset=utf-8;"}),Rt=document.createElement("a"),Zr=URL.createObjectURL(Le);Rt.setAttribute("href",Zr),Rt.setAttribute("download",xe),Rt.style.visibility="hidden",document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt)},I=B=>{const G=new Set(k);G.has(B)?G.delete(B):G.add(B),A(G)},F=async()=>{try{n(!0),s(null);const B=new Bc,[G,V,de,U]=await Promise.all([B.getCandidates(),B.getAgents(),B.getEmployers(),B.getFinancials()]),Y=G.candidates?.length||0,ae=G.candidates?.filter(be=>be.stage==="deployed").length||0,xe=U.financials?.reduce((be,ze)=>be+(ze.amount||0),0)||0,Rt=new Date().getMonth()-1,Zr=ae,Kt=Math.floor(ae*.8),fr=Eve(Zr,Kt),hr=["passport","interview","medical","training","visa","deployed"].map(be=>({stage:be,count:G.candidates?.filter(ze=>ze.stage===be).length||0})),W=Ave(G.candidates||[],V.agents||[],U.financials||[]),oe={total_candidates:Y,deployed_candidates:ae,total_revenue:xe,placements_trend:fr,stage_distribution:hr,agent_performance:W,pipeline_health:{conversion_rate:Y>0?(ae/Y*100).toFixed(1):"0",average_processing_time:"45 days"}};t(oe)}catch(B){s("Failed to load reports data"),console.error("Reports fetch error:",B)}finally{n(!1)}};return w.useEffect(()=>{F()},[]),r?i.jsxs("div",{className:"flex items-center justify-center h-64",children:[i.jsx($e,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading reports..."})]}):a?i.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Or,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-red-600 font-medium",children:"Error"})]}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:a})]}):i.jsxs("div",{className:"p-3 max-w-full mx-auto space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold",children:"Reports & Analytics"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Comprehensive recruitment analytics and custom queries"})]}),i.jsxs(K,{onClick:F,disabled:r,size:"sm",children:[r?i.jsx($e,{className:"h-3 w-3 mr-1 animate-spin"}):i.jsx($e,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),i.jsxs(il,{value:h,onValueChange:m,className:"space-y-3",children:[i.jsxs(sl,{className:"grid w-full grid-cols-4",children:[i.jsx(xt,{value:"overview",children:"Overview"}),i.jsx(xt,{value:"agents",children:"Agents"}),i.jsx(xt,{value:"employers",children:"Employers"}),i.jsx(xt,{value:"sql",children:"Custom SQL"})]}),i.jsxs(bt,{value:"overview",className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[i.jsx(ie,{children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Candidates"}),i.jsx("p",{className:"text-lg font-bold",children:e?.total_candidates||0})]}),i.jsx(Ft,{className:"h-6 w-6 text-blue-600"})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(Ar,{className:"h-3 w-3 text-green-600 mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"+12% from last month"})]})]})}),i.jsx(ie,{children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Deployed"}),i.jsx("p",{className:"text-lg font-bold",children:e?.deployed_candidates||0})]}),i.jsx(gr,{className:"h-6 w-6 text-green-600"})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(Ar,{className:"h-3 w-3 text-green-600 mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"+8% from last month"})]})]})}),i.jsx(ie,{children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Revenue"}),i.jsx("p",{className:"text-lg font-bold",children:Gk(e?.total_revenue||0)})]}),i.jsx(cr,{className:"h-6 w-6 text-green-600"})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(Ar,{className:"h-3 w-3 text-green-600 mr-1"}),i.jsx("span",{className:"text-xs text-green-600",children:"+15% from last month"})]})]})}),i.jsx(ie,{children:i.jsxs(se,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Conversion Rate"}),i.jsxs("p",{className:"text-lg font-bold",children:[e?.pipeline_health?.conversion_rate||0,"%"]})]}),i.jsx(YE,{className:"h-6 w-6 text-orange-600"})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(tj,{className:"h-3 w-3 text-red-600 mr-1"}),i.jsx("span",{className:"text-xs text-red-600",children:"-2% from last month"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ie,{children:[i.jsxs(Ne,{className:"pb-2",children:[i.jsx(_e,{className:"text-base",children:"Candidate Pipeline"}),i.jsx(Fe,{className:"text-xs",children:"Distribution by stage"})]}),i.jsx(se,{children:i.jsx(oS,{width:"100%",height:250,children:i.jsxs(kve,{data:e?.stage_distribution||[],children:[i.jsx($M,{strokeDasharray:"3 3"}),i.jsx(um,{dataKey:"stage"}),i.jsx(dm,{}),i.jsx(ln,{}),i.jsx(bs,{dataKey:"count",fill:"#8884d8"})]})})})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{className:"pb-2",children:[i.jsx(_e,{className:"text-base",children:"Agent Performance"}),i.jsx(Fe,{className:"text-xs",children:"Top performing agents"})]}),i.jsx(se,{children:i.jsx(oS,{width:"100%",height:250,children:i.jsxs(Cve,{children:[i.jsx(ja,{data:e?.agent_performance?.slice(0,5).map((B,G)=>({name:B.name,value:B.placements,fill:G===0?"#eab308":G===1?"#6b7280":G===2?"#f97316":G===3?"#3b82f6":"#10b981"}))||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:G,percent:V})=>`${B}: ${G} (${(V*100).toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value"}),i.jsx(ln,{}),i.jsx(Vi,{})]})})})]})]})]}),i.jsx(bt,{value:"agents",className:"space-y-3",children:i.jsxs(ie,{children:[i.jsxs(Ne,{className:"pb-3",children:[i.jsx(_e,{className:"text-base",children:"Agent Performance Leaderboard"}),i.jsx(Fe,{className:"text-xs",children:"Performance metrics and earnings by agent"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-3",children:e?.agent_performance?.map((B,G)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full",children:i.jsxs("span",{className:"text-xs font-bold text-blue-600",children:["#",G+1]})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:B.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[B.placements," placements"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium",children:Gk(B.earnings)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[B.success_rate,"% success rate"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"earned"})]})]},G))||i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No agent performance data available"})})})]})}),i.jsx(bt,{value:"employers",className:"space-y-3",children:i.jsxs(ie,{children:[i.jsxs(Ne,{className:"pb-3",children:[i.jsx(_e,{className:"text-base",children:"Employer Analytics"}),i.jsx(Fe,{className:"text-xs",children:"Performance metrics by receiving company"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-center py-6 text-muted-foreground text-sm",children:"Employer analytics coming soon..."})})]})}),i.jsx(bt,{value:"sql",className:"space-y-3",children:i.jsxs(ie,{children:[i.jsxs(Ne,{className:"pb-3",children:[i.jsxs(_e,{className:"flex items-center space-x-2 text-lg",children:[i.jsx(Ja,{className:"h-4 w-4"}),i.jsx("span",{children:"SQL Query Runner"})]}),i.jsx(Fe,{className:"text-xs",children:"Execute custom SQL queries against your recruitment database"})]}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium",children:"SQL Query"}),i.jsx(Du,{value:o,onChange:B=>l(B.target.value),placeholder:"SELECT * FROM candidates WHERE stage = 'deployed' LIMIT 10;",className:"min-h-[120px] font-mono text-xs"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{onClick:Z,disabled:v||!o.trim(),children:[v?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(U0,{className:"h-4 w-4 mr-2"}),v?"Executing...":"Execute Query"]}),i.jsx(K,{variant:"outline",onClick:()=>{l(""),u([]),s(null),f(null)},disabled:v,children:"Clear"})]}),v&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx($e,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Executing query..."})]}),d&&!v&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[i.jsx(gr,{className:"h-4 w-4"}),i.jsxs("span",{children:["Query completed in ",d,"ms"]})]})]}),a&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md mb-4",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Or,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-red-600 font-medium",children:"SQL Query Error"}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"text-red-600 hover:text-red-700 hover:bg-red-100 h-6 w-6 p-0",children:""})]}),i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsx("p",{className:"text-red-700 text-sm font-mono bg-red-100 p-2 rounded border overflow-x-auto",children:a}),i.jsxs("details",{className:"text-xs text-red-600",children:[i.jsx("summary",{className:"cursor-pointer hover:text-red-700 font-medium",children:" Common Solutions"}),i.jsxs("div",{className:"mt-2 space-y-1 pl-4 border-l-2 border-red-200",children:[i.jsxs("p",{children:[" Check table names: ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:"candidates"}),", ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:"agents"}),", ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:"receiving_companies"}),", ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:"positions"})]}),i.jsx("p",{children:" Verify column names exist in the selected tables"}),i.jsx("p",{children:" Ensure proper SQL syntax (semicolon at end, quotes around strings)"}),i.jsxs("p",{children:[" Use ",i.jsx("code",{className:"bg-red-100 px-1 rounded",children:"LIMIT 10"})," for testing large queries"]}),i.jsx("p",{children:" Check for typos in WHERE clauses and JOIN conditions"})]})]})]})]})]})}),c&&c.length>0&&i.jsx("div",{className:`${C?"fixed inset-0 z-50 bg-background":""}`,children:i.jsxs(ie,{className:`${C?"h-full flex flex-col":"w-full"} mt-6`,children:[i.jsxs(Ne,{className:"pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qt,{className:"h-5 w-5"}),i.jsx(_e,{children:"Query Results"}),d&&i.jsxs(Ce,{variant:"secondary",className:"ml-2",children:[d,"ms"]}),i.jsxs(Ce,{variant:"outline",className:"ml-2",children:[J().length," rows"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>z(!T),className:"flex items-center space-x-2",children:[i.jsx(Dc,{className:"h-4 w-4"}),i.jsx("span",{children:"Columns"})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:H,className:"flex items-center space-x-2",children:[i.jsx(Dn,{className:"h-4 w-4"}),i.jsx("span",{children:"Export CSV"})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>M(!C),className:"flex items-center space-x-2",title:C?"Exit Full Screen":"Enter Full Screen",children:[C?i.jsx(HE,{className:"h-4 w-4"}):i.jsx(qE,{className:"h-4 w-4"}),i.jsx("span",{children:C?"Exit":"Full Screen"})]})]})]}),T&&c.length>0&&i.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:"Column Visibility"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>A(new Set),children:"Show All"}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>A(new Set(Object.keys(c[0]||{}))),children:"Hide All"})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:Object.keys(c[0]||{}).map(B=>i.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:!k.has(B),onChange:()=>I(B),className:"rounded border-gray-300"}),i.jsx("span",{className:"truncate",children:B.replace(/_/g," ")})]},B))})]})]}),i.jsxs(se,{className:`${C?"flex-1 overflow-hidden":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-xs font-medium",children:"Rows:"}),i.jsxs("select",{value:_,onChange:B=>{j(Number(B.target.value)),x(1)},className:"border rounded px-1 py-0.5 text-xs",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]})]})}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((g-1)*_+1,J().length)," to"," ",Math.min(g*_,J().length)," of"," ",J().length," results"]})})]}),i.jsx("div",{className:`${C?"overflow-auto h-full":"overflow-x-auto overflow-y-auto max-h-[400px]"} border rounded-lg`,children:i.jsx("div",{className:"min-w-max",children:i.jsx("div",{className:"bg-muted/30 sticky top-0 z-10 overflow-x-auto",children:i.jsxs(ny,{className:"table-fixed w-full min-w-full",children:[i.jsx("colgroup",{children:Object.keys(c[0]||{}).filter(B=>!k.has(B)).map(B=>i.jsx("col",{style:{width:q(B),maxWidth:q(B),minWidth:q(B)}},B))}),i.jsx(ay,{children:i.jsx($i,{className:"border-b-2 border-border hover:bg-transparent",children:Object.keys(c[0]||{}).filter(B=>!k.has(B)).map(B=>i.jsx(sy,{className:"border-r border-border last:border-r-0 px-4 py-3 font-semibold text-xs uppercase tracking-wide bg-muted/50 sticky top-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:text-primary",onClick:()=>pe(B),children:[i.jsx("span",{children:B.replace(/_/g," ")}),i.jsx("div",{className:"flex items-center",children:p.key===B&&(p.direction==="asc"?i.jsx(Ar,{className:"h-3 w-3 ml-1"}):i.jsx(tj,{className:"h-3 w-3 ml-1"}))})]}),i.jsx("input",{type:"text",placeholder:"Filter...",value:S[B]||"",onChange:G=>{N(V=>({...V,[B]:G.target.value})),x(1)},className:"w-full px-2 py-1 text-xs border rounded bg-background",onClick:G=>G.stopPropagation()})]})},B))})}),i.jsx(iy,{children:J().slice((g-1)*_,g*_).map((B,G)=>i.jsx($i,{className:`
                                    border-b hover:bg-muted/30 transition-colors
                                    ${G%2===0?"bg-muted/20":"bg-background"}
                                    ${E===G?"bg-muted/40":""}
                                  `,onMouseEnter:()=>R(G),onMouseLeave:()=>R(null),children:Object.entries(B).filter(([V])=>!k.has(V)).map(([V,de])=>i.jsx(Zd,{className:`
                                        border-r border-border last:border-r-0 px-2 py-2
                                        ${ce(V,c)}
                                        ${D===V?"bg-muted/50":""}
                                        max-w-0 overflow-hidden
                                      `,style:{width:q(V),maxWidth:q(V),minWidth:q(V)},onMouseEnter:()=>$(V),onMouseLeave:()=>$(null),children:i.jsxs("div",{className:"relative group/cell truncate overflow-hidden whitespace-nowrap text-ellipsis",title:String(de||""),children:[ne(de,V,c),String(de||"").length>20&&i.jsx("div",{className:"absolute bottom-full left-0 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-lg border opacity-0 group-hover/cell:opacity-100 transition-opacity duration-200 z-20 max-w-xs break-words pointer-events-none",children:String(de)})]})},V))},G))})]})})})}),J().length>_&&i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:g===1,children:"First"}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(B=>Math.max(1,B-1)),disabled:g===1,children:"Previous"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",g," of ",Math.ceil(J().length/_)]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(B=>Math.min(Math.ceil(J().length/_),B+1)),disabled:g===Math.ceil(J().length/_),children:"Next"}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>x(Math.ceil(J().length/_)),disabled:g===Math.ceil(J().length/_),children:"Last"})]})]})]})]})}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-blue-600 font-medium",children:"Database Connection"})]}),i.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Queries execute against your live Supabase database. Basic SQL operations (SELECT, WHERE, GROUP BY, ORDER BY) are supported."})]})]})]})})]})]})},Ove=()=>{const[e,t]=w.useState({}),[r,n]=w.useState([]),[a,s]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState("profile"),[h,m]=w.useState(""),[v,y]=w.useState(""),[p,b]=w.useState(""),[g,x]=w.useState([]),[_,j]=w.useState({}),[S,N]=w.useState(null),[k,A]=w.useState(!1),[O,P]=w.useState(!1),[T,z]=w.useState(!1),[E,R]=w.useState({email:"",full_name:"",role:"staff",organization_id:"",organization_type:"",permissions:{candidates:"read",agents:"read",employers:"read",jobs:"read",financials:"read",documents:"read",settings:"none"}}),[D,$]=w.useState({agencies:[],employers:[]}),[C,M]=w.useState(""),[q,Z]=w.useState(!1),[te,ce]=w.useState(!1),[pe,J]=w.useState({});w.useEffect(()=>{ne(),I(),H()},[]),w.useEffect(()=>{E.role!=="agency_staff"&&E.role!=="employer_staff"&&R(W=>({...W,organization_id:"",organization_type:""})),J({})},[E.role]);const ne=async()=>{try{s(!0),l(null);const W=await Te.getSettings();n(W.data||[]);const oe={};W.data?.forEach(ze=>{oe[ze.setting_key]=ze.setting_value});const be={userName:oe.user_name||"Admin User",userEmail:oe.user_email||"admin@jawalinternational.com",userPhone:oe.user_phone||"+256784123456",userRole:oe.user_role||"Operations Manager",companyName:oe.company_name||"Jawal International",companyAddress:oe.company_address||"Kampala, Uganda",companyPhone:oe.company_phone||"+256701234567",companyEmail:oe.company_email||"info@jawalinternational.com",defaultCurrency:oe.default_currency||"UGX",defaultLanguage:oe.default_language||"English",timezone:oe.timezone||"Africa/Kampala",dateFormat:oe.date_format||"DD/MM/YYYY",serviceFee:parseInt(oe.service_fee)||1e5,investmentAmount:parseInt(oe.investment_amount)||2469e3,employerFee:parseInt(oe.employer_fee)||35e5,agentCommissionRate:parseFloat(oe.agent_commission_rate)||10,refundAmount:parseInt(oe.refund_amount)||5e5,emailNotifications:oe.email_notifications==="true"||!0,smsNotifications:oe.sms_notifications==="true"||!0,systemAlerts:oe.system_alerts==="true"||!0,weeklyReports:oe.weekly_reports==="true"||!0,monthlyReports:oe.monthly_reports==="true"||!0,twoFactorAuth:oe.two_factor_auth==="true"||!1,sessionTimeout:parseInt(oe.session_timeout)||60,passwordExpiry:parseInt(oe.password_expiry)||90,loginAttempts:parseInt(oe.login_attempts)||5};t(be),await I()}catch(W){console.error("Failed to fetch settings:",W),l("Failed to load settings data")}finally{s(!1)}},H=async()=>{try{Z(!0);const W=await ee.from("agents").select("id, agency_name, agency_country, phone, email, is_active").eq("is_active",!0).order("agency_name"),oe=await ee.from("receiving_companies").select("id, company_name, country, phone, email, is_active").eq("is_active",!0).order("company_name");if(W.error)throw W.error;if(oe.error)throw oe.error;$({agencies:W.data||[],employers:oe.data||[]})}catch(W){console.error("Failed to fetch organizations:",W),me.error("Failed to load organizations")}finally{Z(!1)}},I=async()=>{try{P(!0),console.log("Fetching users from database..."),console.log("Current auth user:",await ee.auth.getUser());const W=await ee.from("profiles").select(`
          id,
          full_name,
          role,
          phone,
          photo_url,
          created_at,
          updated_at
        `).order("created_at",{ascending:!1});if(console.log("Users query result:",W),console.log("Users query error details:",W.error),W.error){console.error("Users query error:",W.error),console.error("Error code:",W.error.code),console.error("Error message:",W.error.message),console.error("Error details:",W.error.details),console.error("Error hint:",W.error.hint),x([]),l(`Failed to load users: ${W.error.message}`);return}const oe=W.data||[];console.log("Fetched users:",oe),x(oe);let be={data:[],error:null};try{if(be=await ee.from("permissions").select("*"),console.log("Permissions query result:",be),be.error&&(console.error("Permissions query error:",be.error),be.error.code!=="PGRST116"))throw be.error}catch(Bt){console.log("Permissions table not accessible, using empty permissions:",Bt),be={data:[],error:null}}const ze={};oe.forEach(Bt=>{ze[Bt.id]={}}),(be.data||[]).forEach(Bt=>{ze[Bt.user_id]||(ze[Bt.user_id]={}),ze[Bt.user_id][Bt.module]=Bt.access_level}),console.log("Processed permissions:",ze),j(ze)}catch(W){console.error("Failed to fetch users:",W),console.error("Error details:",JSON.stringify(W,null,2)),l(`Failed to load users: ${W.message}`),x([])}finally{P(!1)}},F=(W,oe)=>{t(be=>({...be,[W]:oe}))},B=async W=>{u(!0);try{const oe=[];Object.entries(e).forEach(([be,ze])=>{const Bt=be.replace(/([A-Z])/g,"_$1").toLowerCase();oe.push({key:Bt,value:String(ze),description:`${W} setting: ${be}`})});for(const be of oe)try{await Te.updateSetting(be.key,be.value)}catch{await Te.createSetting({key:be.key,value:be.value,description:be.description})}me.success(`${W} settings saved successfully!`),await ne()}catch(oe){console.error("Failed to save settings:",oe),me.error("Failed to save settings. Please try again.")}finally{u(!1)}},G=async(W,oe,be)=>{try{const{error:ze}=await ee.from("permissions").upsert({user_id:W,module:oe,access_level:be},{onConflict:"user_id,module"});if(ze)throw ze;j(Bt=>({...Bt,[W]:{...Bt[W],[oe]:be}})),me.success("Permission updated successfully")}catch(ze){console.error("Failed to update permission:",ze),me.error("Failed to update permission")}},V=async W=>{const oe=g.find(be=>be.id===W);if(oe&&oe.role==="admin"){alert(` Administrator accounts cannot be deleted for security reasons.

Admin users are protected to ensure system access is maintained.`);return}if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await ee.from("permissions").delete().eq("user_id",W);const{error:be}=await ee.from("profiles").delete().eq("id",W);if(be)throw be;await ee.auth.admin.deleteUser(W),I(),me.success("User deleted successfully")}catch(be){console.error("Failed to delete user:",be),me.error("Failed to delete user")}},de=W=>{N(W),A(!0)},U=async()=>{try{const W={};if(E.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email)||(W.email="Please enter a valid email address"):W.email="Email is required",E.full_name||(W.full_name="Full name is required"),(E.role==="agency_staff"||E.role==="agency_owner")&&!E.organization_id&&(W.organization="Please select an agency"),E.role==="employer_staff"&&!E.organization_id&&(W.organization="Please select an employer"),Object.keys(W).length>0){J(W);return}const{data:oe}=await ee.from("profiles").select("id").eq("email",E.email).single();if(oe){J({email:"A user with this email already exists"});return}const{data:be,error:ze}=await ee.auth.admin.createUser({email:E.email,password:"TempPassword123!",email_confirm:!0});if(ze){me.error("Failed to create user: "+ze.message);return}const{error:Bt}=await ee.from("profiles").insert([{id:be.user.id,email:E.email,full_name:E.full_name,role:E.role}]);if(Bt){me.error("Failed to create user profile: "+Bt.message);return}if(E.role==="agency_staff"||E.role==="agency_owner"){const{error:Nw}=await ee.rpc("add_user_to_agency",{agency_id:E.organization_id,user_id:be.user.id});Nw&&(console.error("Failed to add user to agency:",Nw),me.error("User created but failed to link to agency"))}await ee.from("audit_logs").insert([{table_name:"profiles",operation:"CREATE",record_id:be.user.id,old_data:null,new_data:{email:E.email,full_name:E.full_name,role:E.role,organization_id:E.organization_id,organization_type:E.organization_type},user_id:be.user.id}]),me.success("User created successfully! They can login with the temporary password."),z(!1),R({email:"",full_name:"",role:"staff",organization_id:"",organization_type:"",permissions:{candidates:"read",agents:"read",employers:"read",jobs:"read",financials:"read",documents:"read",settings:"none"}}),J({}),M(""),I()}catch(W){console.error("Failed to create user:",W),me.error(`Failed to create user: ${W.message}`)}},Y=(W,oe)=>{R(be=>({...be,organization_id:W,organization_type:oe})),J(be=>({...be,organization:""}))},ae=()=>{const W=E.role==="agency_staff"||E.role==="agency_owner"?"agencies":"employers",oe=D[W]||[];return C?oe.filter(be=>(W==="agencies"?be.agency_name:be.company_name).toLowerCase().includes(C.toLowerCase())):oe},xe=()=>{if(!E.organization_id)return null;const W=E.role==="agency_staff"||E.role==="agency_owner"?"agencies":"employers";return(D[W]||[]).find(be=>be.id===E.organization_id)},Le=W=>{switch(W){case"admin":return"Full system access with all permissions across all modules";case"staff":return"System-wide access with read/write permissions on most modules";case"agency_owner":return"Full agency management access including staff management, candidate operations, and financial oversight for the selected agency";case"agency_staff":return"Limited access to records and operations related to the selected agency only";case"employer":return"Full employer access including job posting, candidate review, and hiring management";case"employer_staff":return"Limited access to records and operations related to the selected employer only";default:return"Standard user permissions based on role assignment"}},Rt=W=>{switch(W){case"admin":return{candidates:"write",agents:"write",employers:"write",jobs:"write",financials:"write",documents:"write",settings:"write"};case"staff":return{candidates:"write",agents:"write",employers:"write",jobs:"write",financials:"read",documents:"write",settings:"read"};case"agency_owner":return{candidates:"write",agents:"read",employers:"none",jobs:"read",financials:"write",documents:"write",settings:"none"};case"agency_staff":return{candidates:"write",agents:"read",employers:"none",jobs:"read",financials:"read",documents:"write",settings:"none"};case"employer":return{candidates:"read",agents:"none",employers:"write",jobs:"write",financials:"read",documents:"read",settings:"none"};case"employer_staff":return{candidates:"read",agents:"none",employers:"read",jobs:"read",financials:"read",documents:"read",settings:"none"};default:return{candidates:"read",agents:"read",employers:"read",jobs:"read",financials:"none",documents:"read",settings:"none"}}},Zr=(W,oe)=>{R(be=>({...be,permissions:{...be.permissions,[W]:oe}}))},Kt=W=>{switch(W){case"approve":return"text-green-600 bg-green-50";case"delete":return"text-red-600 bg-red-50";case"write":return"text-blue-600 bg-blue-50";case"read":return"text-yellow-600 bg-yellow-50";case"none":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},fr=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),hr=W=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(W);return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(_e,{className:"text-2xl flex items-center",children:[i.jsx(Tv,{className:"h-6 w-6 mr-3"}),"System Settings"]}),i.jsx(Fe,{className:"mt-1",children:"Configure system preferences and operational parameters"})]}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx($e,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})]})})}),i.jsxs(il,{value:d,onValueChange:f,className:"space-y-6",children:[i.jsxs(sl,{className:"bg-muted p-1 h-12 rounded-lg",children:[i.jsx(xt,{value:"profile",className:"px-6 py-2 rounded-md",children:"Profile"}),i.jsx(xt,{value:"company",className:"px-6 py-2 rounded-md",children:"Company"}),i.jsx(xt,{value:"financial",className:"px-6 py-2 rounded-md",children:"Financial"}),i.jsx(xt,{value:"notifications",className:"px-6 py-2 rounded-md",children:"Notifications"}),i.jsx(xt,{value:"security",className:"px-6 py-2 rounded-md",children:"Security"}),i.jsx(xt,{value:"access-control",className:"px-6 py-2 rounded-md",children:"Access Control"})]}),i.jsx(bt,{value:"profile",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center",children:[i.jsx(Fc,{className:"h-5 w-5 mr-2"}),"User Profile"]}),i.jsx(Fe,{children:"Manage your personal account information"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"userName",children:"Full Name"}),i.jsx(fe,{id:"userName",value:e.userName,onChange:W=>F("userName",W.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"userRole",children:"Role"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-input rounded-md text-sm bg-background",value:e.userRole,onChange:W=>F("userRole",W.target.value),children:[i.jsx("option",{value:"Operations Manager",children:"Operations Manager"}),i.jsx("option",{value:"HR Manager",children:"HR Manager"}),i.jsx("option",{value:"Finance Manager",children:"Finance Manager"}),i.jsx("option",{value:"System Administrator",children:"System Administrator"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"userEmail",children:"Email Address"}),i.jsx(fe,{id:"userEmail",type:"email",value:e.userEmail,onChange:W=>F("userEmail",W.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"userPhone",children:"Phone Number"}),i.jsx(fe,{id:"userPhone",value:e.userPhone,onChange:W=>F("userPhone",W.target.value)})]})]}),i.jsx("div",{className:"pt-4",children:i.jsxs(K,{onClick:()=>B("Profile"),disabled:c,children:[c?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})]})]})}),i.jsx(bt,{value:"company",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center",children:[i.jsx(An,{className:"h-5 w-5 mr-2"}),"Company Information"]}),i.jsx(Fe,{children:"Configure company details and business settings"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"companyName",children:"Company Name"}),i.jsx(fe,{id:"companyName",value:e.companyName,onChange:W=>F("companyName",W.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"defaultCurrency",children:"Default Currency"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-input rounded-md text-sm bg-background",value:e.defaultCurrency,onChange:W=>F("defaultCurrency",W.target.value),children:[i.jsx("option",{value:"UGX",children:"UGX - Ugandan Shilling"}),i.jsx("option",{value:"KES",children:"KES - Kenyan Shilling"}),i.jsx("option",{value:"USD",children:"USD - US Dollar"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"companyEmail",children:"Company Email"}),i.jsx(fe,{id:"companyEmail",type:"email",value:e.companyEmail,onChange:W=>F("companyEmail",W.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"companyPhone",children:"Company Phone"}),i.jsx(fe,{id:"companyPhone",value:e.companyPhone,onChange:W=>F("companyPhone",W.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"companyAddress",children:"Company Address"}),i.jsx(Du,{id:"companyAddress",value:e.companyAddress,onChange:W=>F("companyAddress",W.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"timezone",children:"Timezone"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-input rounded-md text-sm bg-background",value:e.timezone,onChange:W=>F("timezone",W.target.value),children:[i.jsx("option",{value:"Africa/Kampala",children:"Africa/Kampala (EAT)"}),i.jsx("option",{value:"Africa/Nairobi",children:"Africa/Nairobi (EAT)"}),i.jsx("option",{value:"UTC",children:"UTC"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"dateFormat",children:"Date Format"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-input rounded-md text-sm bg-background",value:e.dateFormat,onChange:W=>F("dateFormat",W.target.value),children:[i.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),i.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),i.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),i.jsx("div",{className:"pt-4",children:i.jsxs(K,{onClick:()=>B("Company"),disabled:c,children:[c?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Company Settings"]})})]})]})}),i.jsx(bt,{value:"financial",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center",children:[i.jsx(cr,{className:"h-5 w-5 mr-2"}),"Financial Configuration"]}),i.jsx(Fe,{children:"Set default financial parameters and fee structures"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"serviceFee",children:"Service Fee (UGX)"}),i.jsx(fe,{id:"serviceFee",type:"number",value:e.serviceFee,onChange:W=>F("serviceFee",parseInt(W.target.value))}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",hr(e.serviceFee)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"investmentAmount",children:"Total Investment (UGX)"}),i.jsx(fe,{id:"investmentAmount",type:"number",value:e.investmentAmount,onChange:W=>F("investmentAmount",parseInt(W.target.value))}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",hr(e.investmentAmount)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"employerFee",children:"Employer Fee (UGX)"}),i.jsx(fe,{id:"employerFee",type:"number",value:e.employerFee,onChange:W=>F("employerFee",parseInt(W.target.value))}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",hr(e.employerFee)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"refundAmount",children:"Success Refund (UGX)"}),i.jsx(fe,{id:"refundAmount",type:"number",value:e.refundAmount,onChange:W=>F("refundAmount",parseInt(W.target.value))}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",hr(e.refundAmount)]})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(re,{htmlFor:"agentCommissionRate",children:"Agent Commission Rate (%)"}),i.jsx(fe,{id:"agentCommissionRate",type:"number",min:"0",max:"100",value:e.agentCommissionRate,onChange:W=>F("agentCommissionRate",parseFloat(W.target.value))}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",e.agentCommissionRate,"% of employer fee"]})]})]}),i.jsx("div",{className:"pt-4",children:i.jsxs(K,{onClick:()=>B("Financial"),disabled:c,children:[c?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Financial Settings"]})})]})]})}),i.jsx(bt,{value:"notifications",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center",children:[i.jsx(Gs,{className:"h-5 w-5 mr-2"}),"Notification Preferences"]}),i.jsx(Fe,{children:"Configure how you receive system notifications and alerts"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Email Notifications"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),i.jsx(Ei,{checked:e.emailNotifications,onCheckedChange:W=>F("emailNotifications",W)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"SMS Notifications"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive urgent notifications via SMS"})]}),i.jsx(Ei,{checked:e.smsNotifications,onCheckedChange:W=>F("smsNotifications",W)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"System Alerts"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Get notified about system events and errors"})]}),i.jsx(Ei,{checked:e.systemAlerts,onCheckedChange:W=>F("systemAlerts",W)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Weekly Reports"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive automated weekly performance reports"})]}),i.jsx(Ei,{checked:e.weeklyReports,onCheckedChange:W=>F("weeklyReports",W)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Monthly Reports"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Receive comprehensive monthly business reports"})]}),i.jsx(Ei,{checked:e.monthlyReports,onCheckedChange:W=>F("monthlyReports",W)})]})]}),i.jsx("div",{className:"pt-4",children:i.jsxs(K,{onClick:()=>B("Notifications"),disabled:c,children:[c?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})]})}),i.jsx(bt,{value:"security",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center",children:[i.jsx(ej,{className:"h-5 w-5 mr-2"}),"Security Settings"]}),i.jsx(Fe,{children:"Manage security policies and access controls"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Two-Factor Authentication"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),i.jsx(Ei,{checked:e.twoFactorAuth,onCheckedChange:W=>F("twoFactorAuth",W)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),i.jsx(fe,{id:"sessionTimeout",type:"number",min:"15",max:"480",value:e.sessionTimeout,onChange:W=>F("sessionTimeout",parseInt(W.target.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"passwordExpiry",children:"Password Expiry (days)"}),i.jsx(fe,{id:"passwordExpiry",type:"number",min:"30",max:"365",value:e.passwordExpiry,onChange:W=>F("passwordExpiry",parseInt(W.target.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"loginAttempts",children:"Maximum Failed Login Attempts"}),i.jsx(fe,{id:"loginAttempts",type:"number",min:"3",max:"10",value:e.loginAttempts,onChange:W=>F("loginAttempts",parseInt(W.target.value)),className:"w-32"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Account will be locked after this many failed attempts"})]})]}),i.jsxs("div",{className:"pt-4 space-y-2",children:[i.jsxs(K,{onClick:()=>B("Security"),disabled:c,children:[c?i.jsx($e,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Save Security Settings"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx($5,{className:"h-4 w-4 mr-2"}),"Change Password"]}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Backup Data"]})]})]})]})]})}),i.jsx(bt,{value:"access-control",className:"space-y-6",children:i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ft,{className:"h-5 w-5 mr-2"}),"User Access Control"]}),i.jsxs(K,{onClick:()=>z(!0),size:"sm",children:[i.jsx(ii,{className:"h-4 w-4 mr-1"}),"Add User"]})]}),i.jsx(Fe,{children:"Manage user permissions and access rights for different modules"})]}),i.jsx(se,{children:O?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx($e,{className:"h-6 w-6 animate-spin mr-2"}),i.jsx("span",{children:"Loading users..."})]}):i.jsx("div",{className:"space-y-4",children:g.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ft,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No users found"})]}):i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-4 font-medium",children:"User"}),i.jsx("th",{className:"text-left p-4 font-medium",children:"Role"}),i.jsx("th",{className:"text-left p-4 font-medium",children:"Created"}),i.jsx("th",{className:"text-left p-4 font-medium",children:"Permissions"}),i.jsx("th",{className:"text-right p-4 font-medium",children:"Actions"})]})}),i.jsx("tbody",{children:g.map((W,oe)=>i.jsxs("tr",{className:oe%2===0?"bg-background":"bg-muted/20",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:W.full_name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:W.email})]})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.role==="admin"?"bg-red-100 text-red-800":W.role==="staff"?"bg-blue-100 text-blue-800":W.role==="agency_owner"?"bg-green-100 text-green-800":W.role==="employer"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:W.role.replace("_"," ").toUpperCase()})}),i.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:fr(W.created_at)}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[Object.entries(_[W.id]||{}).slice(0,3).map(([be,ze])=>i.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${Kt(String(ze))}`,children:[be,": ",String(ze)]},be)),Object.keys(_[W.id]||{}).length>3&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",Object.keys(_[W.id]||{}).length-3," more"]})]})}),i.jsx("td",{className:"p-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>de(W),children:[i.jsx(ep,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>V(W.id),disabled:W.role==="admin",className:W.role==="admin"?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-700 hover:bg-red-50",title:W.role==="admin"?"Administrator accounts cannot be deleted":"Delete user",children:[i.jsx(fs,{className:"h-4 w-4 mr-1"}),W.role==="admin"?"Protected":"Delete"]})]})})]},W.id))})]})})})})]})})]}),i.jsx(na,{open:k,onOpenChange:A,children:i.jsxs(aa,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(ps,{children:i.jsxs(ms,{className:"flex items-center",children:[i.jsx(Fc,{className:"h-5 w-5 mr-2"}),"Edit User Permissions - ",S?.full_name]})}),S&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:"Full Name"}),i.jsx("p",{className:"text-sm",children:S.full_name})]}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:"Email"}),i.jsx("p",{className:"text-sm",children:S.email})]}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:"Role"}),i.jsx("p",{className:"text-sm capitalize",children:S.role.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx(re,{className:"text-sm font-medium",children:"Created"}),i.jsx("p",{className:"text-sm",children:fr(S.created_at)})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Module Permissions"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["candidates","agents","employers","positions","payments","documents","reports","settings","users","analytics"].map(W=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(re,{className:"font-medium capitalize",children:W}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Kt(_[S.id]?.[W]||"none")}`,children:_[S.id]?.[W]||"none"})]}),i.jsxs(lt,{value:_[S.id]?.[W]||"none",onValueChange:oe=>G(S.id,W,oe),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select access level"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"none",children:"None"}),i.jsx(ye,{value:"read",children:"Read Only"}),i.jsx(ye,{value:"write",children:"Read & Write"}),i.jsx(ye,{value:"delete",children:"Read, Write & Delete"}),i.jsx(ye,{value:"approve",children:"Full Access (Approve)"})]})]})]},W))})]})]}),i.jsx(a7,{children:i.jsx(K,{variant:"outline",onClick:()=>A(!1),children:"Close"})})]})}),T&&i.jsxs("div",{className:"fixed inset-0 z-50 bg-background",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-background",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[i.jsx(ii,{className:"h-6 w-6 mr-2"}),"Add New User"]}),i.jsx("p",{className:"text-muted-foreground",children:"Create a new user account with role-based permissions"})]}),i.jsx("button",{onClick:()=>{z(!1),R({email:"",full_name:"",role:"staff",organization_id:"",organization_type:"",permissions:{candidates:"read",agents:"read",employers:"read",jobs:"read",financials:"read",documents:"read",settings:"none"}}),J({}),M("")},className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] hover:bg-accent hover:text-accent-foreground size-9 rounded-md",children:i.jsx(X,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"email",children:"Email Address *"}),i.jsx(fe,{id:"email",type:"email",value:E.email,onChange:W=>R(oe=>({...oe,email:W.target.value})),placeholder:"user@example.com",className:pe.email?"border-red-500":""}),pe.email&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:pe.email})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"full_name",children:"Full Name *"}),i.jsx(fe,{id:"full_name",value:E.full_name,onChange:W=>R(oe=>({...oe,full_name:W.target.value})),placeholder:"John Doe",className:pe.full_name?"border-red-500":""}),pe.full_name&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:pe.full_name})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"role",children:"Role *"}),i.jsxs(lt,{value:E.role,onValueChange:W=>{R(oe=>({...oe,role:W,permissions:Rt(W)})),W==="agency_staff"||W==="agency_owner"?R(oe=>({...oe,organization_type:"agency"})):W==="employer_staff"&&R(oe=>({...oe,organization_type:"employer"}))},children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"admin",children:"Administrator"}),i.jsx(ye,{value:"staff",children:"Staff"}),i.jsx(ye,{value:"agency_owner",children:"Agency Owner"}),i.jsx(ye,{value:"agency_staff",children:"Agency Staff"}),i.jsx(ye,{value:"employer",children:"Employer"}),i.jsx(ye,{value:"employer_staff",children:"Employer Staff"})]})]})]}),(E.role==="agency_staff"||E.role==="agency_owner"||E.role==="employer_staff")&&i.jsxs("div",{children:[i.jsx(re,{htmlFor:"organization",children:E.role==="agency_staff"||E.role==="agency_owner"?"Select Agency *":"Select Employer *"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{placeholder:`Search ${E.role==="agency_staff"||E.role==="agency_owner"?"agencies":"employers"}...`,value:C,onChange:W=>M(W.target.value),className:"mb-2"}),i.jsx("div",{className:`border rounded-lg max-h-48 overflow-y-auto ${pe.organization?"border-red-500":""}`,children:q?i.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[i.jsx($e,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),"Loading organizations..."]}):ae().length===0?i.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:["No ",E.role==="agency_staff"||E.role==="agency_owner"?"agencies":"employers"," found",i.jsx(K,{variant:"link",size:"sm",onClick:()=>ce(!0),className:"ml-2",children:"+ Add New"})]}):ae().map(W=>{const oe=E.organization_id===W.id,be=E.role==="agency_staff"||E.role==="agency_owner"?W.agency_name:W.company_name,ze=E.role==="agency_staff"||E.role==="agency_owner"?W.agency_country:W.country;return i.jsx("div",{className:`p-3 border-b cursor-pointer hover:bg-muted/50 ${oe?"bg-blue-50 border-blue-200":""}`,onClick:()=>Y(W.id,E.role==="agency_staff"||E.role==="agency_owner"?"agency":"employer"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium flex items-center",children:[E.role==="agency_staff"||E.role==="agency_owner"?i.jsx(An,{className:"h-4 w-4 mr-2 text-green-600"}):i.jsx(An,{className:"h-4 w-4 mr-2 text-blue-600"}),be]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ze,"  ",W.email]})]}),oe&&i.jsx("div",{className:"text-blue-600",children:" Selected"})]})},W.id)})}),pe.organization&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:pe.organization}),xe()&&i.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(An,{className:"h-4 w-4 mr-2 text-green-600"}),i.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",E.role==="agency_staff"||E.role==="agency_owner"?xe()?.agency_name:xe()?.company_name]})]})})]})]}),i.jsx("div",{className:"bg-amber-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(ej,{className:"h-4 w-4 mr-2 text-amber-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Role Permissions"}),i.jsx("p",{className:"text-sm text-amber-700 mt-1",children:Le(E.role)})]})]})}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Tv,{className:"h-4 w-4 mr-2 text-slate-600"}),i.jsx("h4",{className:"text-sm font-medium text-slate-800",children:"Module Access Permissions"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(E.permissions).map(([W,oe])=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm font-medium text-slate-700 capitalize min-w-[100px]",children:W})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>Zr(W,oe==="read"||oe==="write"?"none":"read"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${oe==="read"||oe==="write"?"bg-blue-600":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${oe==="read"||oe==="write"?"translate-x-6":"translate-x-1"}`})}),i.jsx("span",{className:"text-xs font-medium text-slate-600",children:"View"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>Zr(W,oe==="write"?"read":"write"),disabled:oe==="none",className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${oe==="write"?"bg-green-600":oe==="none"?"bg-gray-100 cursor-not-allowed":"bg-gray-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${oe==="write"?"translate-x-6":"translate-x-1"}`})}),i.jsx("span",{className:`text-xs font-medium ${oe==="none"?"text-gray-400":"text-slate-600"}`,children:"Edit"})]}),i.jsx("div",{className:"min-w-[70px]",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${oe==="write"?"bg-green-100 text-green-800":oe==="read"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:oe==="write"?"Full Access":oe==="read"?"View Only":"No Access"})})]})]},W))}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-xs text-blue-700",children:[i.jsx("strong",{children:"How it works:"}),' Toggle "View" to grant read-only access. Toggle "Edit" to grant full read/write permissions. Edit access automatically includes view access.']})})]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Note:"}),' A temporary password "TempPassword123!" will be assigned. The user should change it on first login.']})})]})}),i.jsx("div",{className:"border-t bg-background p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto flex justify-end space-x-4",children:[i.jsx(K,{variant:"outline",onClick:()=>{z(!1),R({email:"",full_name:"",role:"staff",organization_id:"",organization_type:"",permissions:{candidates:"read",agents:"read",employers:"read",jobs:"read",financials:"read",documents:"read",settings:"none"}}),J({}),M("")},children:"Cancel"}),i.jsx(K,{onClick:U,disabled:!E.email||!E.full_name||(E.role==="agency_staff"||E.role==="agency_owner"||E.role==="employer_staff")&&!E.organization_id,children:"Create User"})]})})]})]})},Kk=new Bc,Tve=({job:e,onClose:t,onSave:r,companies:n})=>{const[a,s]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState([]),[d,f]=w.useState({}),[h,m]=w.useState(!1),v=async()=>{try{m(!0);const E=[{name:"Fixer.io (Free)",url:"https://api.fixer.io/latest?base=USD&access_key=YOUR_FREE_KEY",disabled:!0},{name:"ExchangeRate-API (Free)",url:"https://open.er-api.com/v6/latest/USD",disabled:!1},{name:"CurrencyAPI (Free)",url:"https://api.currencyapi.com/v3/latest?apikey=YOUR_FREE_KEY&base_currency=USD",disabled:!0}],D=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(D.result==="success"&&D.rates){const $={},C=D.rates.UGX||3700;Object.keys(D.rates).forEach(M=>{M==="UGX"?$[M]=1:$[M]=C/D.rates[M]}),$.UGX=1,f($),console.log("Exchange rates updated successfully")}else throw new Error("Invalid API response")}catch(E){console.error("Failed to fetch exchange rates:",E),f({UGX:1,USD:3700,EUR:4e3,GBP:4600,AED:1007,SAR:987,KES:28,TZS:1.6,RWF:3.2,CAD:2700,AUD:2450,JPY:25,CHF:4100,CNY:520,INR:44,ZAR:200,NGN:2.4,GHS:310,EGP:120,MAD:370,QAR:1016,KWD:12e3,BHD:9800,OMR:9600,JOD:5220,ILS:1e3,TRY:110,RUB:39,BRL:670,MXN:220,SGD:2750,HKD:475,NOK:350,SEK:350,DKK:540,PLN:920,CZK:160,HUF:10,RON:800,BGN:2050,HRK:530,THB:105,MYR:790,IDR:.24,PHP:66,VND:.15,KRW:2.8,TWD:115,ARS:4.2,CLP:3.9,COP:.9,PEN:980,LBP:.04}),console.log("Using fallback exchange rates")}finally{m(!1)}},y=(E,R)=>{if(R==="UGX")return E;const D=d[R];return D?E*D:E},p=E=>{if(!E||E==="")return"";const R=E.replace(/[^0-9]/g,"");return R===""?"":R.replace(/\B(?=(\d{3})+(?!\d))/g,",")},b=E=>!E||E===""?"0":E.replace(/,/g,""),g=(E,R)=>{const D=p(E);_($=>({...$,[R]:D})),setTimeout(()=>{},0)},[x,_]=w.useState({position_name:"",receiving_company_id:"",work_country:"",requested_headcount:"1",salary:"",salary_currency:"USD",input_fee:"",input_fee_currency:"UGX",markup_agency:"0",markup_agency_type:"flat",markup_company:"0",markup_company_type:"flat",contract_period:"24",probation_period:"3",min_age:"18",max_age:"65",accommodation:!1,food:!1,air_ticket:!1,transport:!1,medical_insurance:!1,employment_visa:!1,working_hours:"",payment_type:"",is_active:!0}),j=E=>n.find(R=>R.id===E)||null,S=E=>{const R=j(E);l(R);const D={...x,receiving_company_id:E,payment_type:R?.payment_type||""};switch(R?.payment_type){case"employer_funded":D.input_fee="0",D.markup_company="0";break;case"candidate_funded":D.markup_agency="0",D.input_fee==="0"&&(D.input_fee=""),D.markup_company==="0"&&(D.markup_company="");break;case"hybrid":D.input_fee==="0"&&(D.input_fee=""),D.markup_agency==="0"&&(D.markup_agency=""),D.markup_company==="0"&&(D.markup_company="");break}_(D)},N=E=>{if(!o?.payment_type)return!1;switch(o.payment_type){case"employer_funded":return E==="input_fee"||E==="markup_company";case"candidate_funded":return E==="markup_agency";case"hybrid":return!1;default:return!1}},k=E=>{if(!o?.payment_type)return!1;switch(o.payment_type){case"candidate_funded":case"hybrid":return E==="input_fee";default:return!1}},A=()=>{try{const E=(x.input_fee||"").replace(/[^0-9]/g,""),R=(x.markup_agency||"").replace(/[^0-9]/g,""),D=(x.markup_company||"").replace(/[^0-9]/g,""),$=parseInt(E)||0,C=parseInt(R)||0,M=parseInt(D)||0,q=y($,x.input_fee_currency);let Z=0;x.markup_agency_type==="percentage"?Z=q*(C/100):Z=C;let te=0;x.markup_company_type==="percentage"?te=q*(M/100):te=M,console.log("Enhanced markup calculation:",{inputFeeOriginal:$,inputFeeInUGX:q,agencyMarkupOriginal:C,agencyMarkupType:x.markup_agency_type,agencyMarkupInUGX:Z,companyMarkupOriginal:M,companyMarkupType:x.markup_company_type,companyMarkupInUGX:te});let ce=0;if(!o?.payment_type)ce=q+Z+te;else switch(o.payment_type){case"employer_funded":ce=Z;break;case"candidate_funded":ce=q+te;break;case"hybrid":ce=q+Z+te;break;default:ce=q+Z+te}return ce===0?"0":Math.round(ce).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(E){return console.error("Error in calculateFinalFee:",E),"0"}},O=E=>({"United States":"USD",USA:"USD","United Kingdom":"GBP",UK:"GBP",Germany:"EUR",France:"EUR",Italy:"EUR",Spain:"EUR",Netherlands:"EUR",Belgium:"EUR",Austria:"EUR",Portugal:"EUR",Ireland:"EUR",Finland:"EUR",Luxembourg:"EUR",UAE:"AED","United Arab Emirates":"AED",Dubai:"AED","Abu Dhabi":"AED","Saudi Arabia":"SAR",KSA:"SAR",Riyadh:"SAR",Jeddah:"SAR",Uganda:"UGX",Canada:"CAD",Australia:"AUD",Japan:"JPY","South Korea":"KRW",Singapore:"SGD","Hong Kong":"HKD",Switzerland:"CHF",Norway:"NOK",Sweden:"SEK",Denmark:"DKK",Poland:"PLN","Czech Republic":"CZK",Hungary:"HUF",Romania:"RON",Bulgaria:"BGN",Croatia:"HRK",India:"INR",China:"CNY",Thailand:"THB",Malaysia:"MYR",Indonesia:"IDR",Philippines:"PHP",Vietnam:"VND","South Africa":"ZAR",Nigeria:"NGN",Kenya:"KES",Ghana:"GHS",Egypt:"EGP",Morocco:"MAD",Turkey:"TRY",Russia:"RUB",Brazil:"BRL",Mexico:"MXN",Argentina:"ARS",Chile:"CLP",Colombia:"COP",Peru:"PEN",Israel:"ILS",Jordan:"JOD",Lebanon:"LBP",Kuwait:"KWD",Qatar:"QAR",Bahrain:"BHD",Oman:"OMR"})[E]||"USD",P=async()=>{try{const{data:E}=await ee.from("positions").select("work_country, salary_currency, input_fee_currency").not("work_country","is",null),R=new Set;if(E?.forEach($=>{if($.salary_currency&&R.add($.salary_currency),$.input_fee_currency&&R.add($.input_fee_currency),$.work_country){const C=O($.work_country);R.add(C)}}),["USD","EUR","GBP","AED","SAR","UGX"].forEach($=>R.add($)),x.work_country){const $=O(x.work_country);R.add($)}u(Array.from(R).sort())}catch(E){console.error("Error fetching currencies:",E),u(["USD","EUR","GBP","AED","SAR","UGX"])}},T=E=>{const R={...x,work_country:E},D=O(E);x.salary_currency||(R.salary_currency=D),x.input_fee_currency||(R.input_fee_currency=D),_(R),c.includes(D)||u($=>[...$,D].sort())};w.useEffect(()=>{P(),v()},[]),w.useEffect(()=>{x.input_fee_currency&&x.input_fee_currency!=="UGX"&&(d[x.input_fee_currency]||v())},[x.input_fee_currency]),w.useEffect(()=>{if(e){_({position_name:e.position_name,receiving_company_id:e.receiving_company_id,work_country:e.work_country,requested_headcount:e.requested_headcount?.toString()||"1",salary:e.salary?.toString()||"",salary_currency:e.salary_currency||"USD",input_fee:e.input_fee?.toString()||"",input_fee_currency:e.input_fee_currency||"UGX",markup_agency:e.markup_agency?.toString()||"0",markup_agency_type:e.markup_agency_type||"flat",markup_company:e.markup_company?.toString()||"0",markup_company_type:e.markup_company_type||"flat",contract_period:e.contract_period?.toString()||"24",probation_period:e.probation_period?.toString()||"3",min_age:e.min_age?.toString()||"18",max_age:e.max_age?.toString()||"65",accommodation:e.accommodation||!1,food:e.food||!1,air_ticket:e.air_ticket||!1,transport:e.transport||!1,medical_insurance:e.medical_insurance||!1,employment_visa:e.employment_visa||!1,working_hours:e.working_hours||"",payment_type:e.payment_type||"",is_active:e.is_active??!0});const E=j(e.receiving_company_id);l(E)}},[e,n]);const z=async E=>{E.preventDefault(),s(!0);try{const R={...x,requested_headcount:parseInt(x.requested_headcount)||1,salary:parseFloat(b(x.salary))||0,input_fee:parseFloat(b(x.input_fee))||0,markup_agency:parseFloat(b(x.markup_agency))||0,markup_company:parseFloat(b(x.markup_company))||0,contract_period:parseInt(x.contract_period)||24,probation_period:parseInt(x.probation_period)||3,min_age:parseInt(x.min_age)||18,max_age:parseInt(x.max_age)||65};e?(await Kk.updateJob(e.id,R),me.success("Job updated successfully!")):(await Kk.createJob(R),me.success("Job created successfully!")),r(),t()}catch(R){console.error("Error saving job:",R),me.error("Failed to save job. Please try again.")}finally{s(!1)}};return i.jsxs("div",{className:"fixed inset-0 bg-background z-50 overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-background",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:e?"Edit Job":"Create New Job"}),i.jsx("p",{className:"text-muted-foreground",children:"Add a new job position"})]}),i.jsx(K,{variant:"ghost",size:"icon",onClick:t,children:i.jsx(gn,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("form",{onSubmit:z,className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6 p-6 bg-blue-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Basic Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"position_name",children:"Position Name *"}),i.jsx(fe,{id:"position_name",required:!0,value:x.position_name,onChange:E=>_(R=>({...R,position_name:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"work_country",children:"Work Country *"}),i.jsx(fe,{id:"work_country",required:!0,placeholder:"e.g., UAE, Saudi Arabia, Uganda",value:x.work_country,onChange:E=>T(E.target.value)})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"receiving_company_id",children:"Company *"}),i.jsxs(lt,{value:x.receiving_company_id,onValueChange:S,children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"Select a company"})}),i.jsx(dt,{children:n.map(E=>i.jsx(ye,{value:E.id,children:E.company_name},E.id))})]}),o?.payment_type&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-100 rounded text-sm",children:[i.jsxs("strong",{children:["Payment Type: ",o.payment_type.toUpperCase().replace("_"," ")]}),i.jsx("br",{}),o.payment_type==="employer_funded"&&"Candidate pays nothing; company margin: commission breakdown.",o.payment_type==="candidate_funded"&&"Candidate pays service charge; company margin: commission breakdown.",o.payment_type==="hybrid"&&"Shared payment; candidate pays service + company margin; commission breakdown."]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"requested_headcount",children:"Positions Needed *"}),i.jsx(fe,{id:"requested_headcount",type:"number",min:"1",required:!0,value:x.requested_headcount,onChange:E=>_(R=>({...R,requested_headcount:E.target.value}))})]})]})]}),i.jsxs("div",{className:"space-y-6 p-6 bg-purple-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-purple-900",children:"Compensation Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(re,{htmlFor:"salary",children:"Monthly Salary"}),i.jsx(fe,{id:"salary",placeholder:"e.g., 2,500",value:x.salary,onChange:E=>g(E.target.value,"salary")}),x.salary&&x.salary_currency!=="UGX"&&d[x.salary_currency]&&i.jsxs("p",{className:"text-xs text-green-600",children:[" ",Math.round((parseFloat(b(x.salary))||0)*d[x.salary_currency]).toLocaleString()," UGX/month"]}),x.salary&&x.salary_currency==="UGX"&&i.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(parseFloat(b(x.salary))||0).toLocaleString()," UGX/month"]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"salary_currency",children:"Salary Currency"}),i.jsxs(lt,{value:x.salary_currency,onValueChange:E=>_(R=>({...R,salary_currency:E})),children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsx(dt,{children:c.map(E=>i.jsx(ye,{value:E,children:E},E))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(re,{htmlFor:"input_fee",children:["Input Fee ",k("input_fee")?"*":""]}),i.jsx(fe,{id:"input_fee",placeholder:"3,000",value:x.input_fee,onChange:E=>g(E.target.value,"input_fee"),disabled:N("input_fee"),className:N("input_fee")?"bg-gray-100 cursor-not-allowed":"",readOnly:N("input_fee"),required:k("input_fee")}),x.input_fee&&x.input_fee_currency!=="UGX"&&d[x.input_fee_currency]&&i.jsxs("p",{className:"text-xs text-blue-600",children:[" ",Math.round((parseFloat(b(x.input_fee))||0)*d[x.input_fee_currency]).toLocaleString()," UGX"]}),x.input_fee&&x.input_fee_currency==="UGX"&&i.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(parseFloat(b(x.input_fee))||0).toLocaleString()," UGX"]})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"input_fee_currency",children:"Input Fee Currency"}),i.jsxs(lt,{value:x.input_fee_currency,onValueChange:E=>_(R=>({...R,input_fee_currency:E})),children:[i.jsx(ut,{children:i.jsx(ct,{})}),i.jsx(dt,{children:c.map(E=>i.jsx(ye,{value:E,children:E},E))})]})]}),o?.payment_type&&i.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[i.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Payment Breakdown - ",o.payment_type.toUpperCase().replace("_"," ")]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[o.payment_type==="employer_funded"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Who pays:"}),i.jsx("span",{className:"font-medium",children:"Employer"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Service charge:"}),i.jsx("span",{className:"text-gray-500",children:"Covered by employer"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Company margin:"}),i.jsx("span",{className:"text-gray-500",children:"Commission breakdown"})]})]}),o.payment_type==="candidate_funded"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Who pays:"}),i.jsx("span",{className:"font-medium",children:"Candidate"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Service charge:"}),i.jsx("span",{className:"text-blue-600",children:"Paid by candidate"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Company margin:"}),i.jsx("span",{className:"text-blue-600",children:"Commission breakdown"})]})]}),o.payment_type==="hybrid"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Who pays:"}),i.jsx("span",{className:"font-medium",children:"Shared"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Service charge:"}),i.jsx("span",{className:"text-blue-600",children:"Paid by candidate"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Company margin:"}),i.jsx("span",{className:"text-blue-600",children:"Commission breakdown"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(re,{htmlFor:"markup_agency",children:"Agency Markup"}),N("markup_agency")&&i.jsxs("div",{className:"group relative",children:[i.jsx(Y_,{className:"h-4 w-4 text-blue-500 cursor-help"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:["Auto-disabled for ",o?.payment_type?.replace("_"," ")," payment type.",i.jsx("br",{}),"Candidate pays service charge; agency gets no markup.",i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(lt,{value:x.markup_agency_type,onValueChange:E=>_(R=>({...R,markup_agency_type:E})),disabled:N("markup_agency"),children:[i.jsx(ut,{className:"w-24",children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"flat",children:"UGX"}),i.jsx(ye,{value:"percentage",children:"%"})]})]}),i.jsx(fe,{id:"markup_agency",placeholder:x.markup_agency_type==="percentage"?"e.g., 15":"e.g., 50,000",value:x.markup_agency,onChange:E=>g(E.target.value,"markup_agency"),disabled:N("markup_agency"),className:N("markup_agency")?"bg-gray-100 cursor-not-allowed":"",readOnly:N("markup_agency")})]}),x.markup_agency_type==="percentage"&&x.markup_agency&&i.jsxs("p",{className:"text-xs text-blue-600",children:[x.markup_agency,"% of input fee = ",Math.round((parseFloat(b(x.input_fee))||0)*y(1,x.input_fee_currency)*(parseFloat(x.markup_agency)||0)/100).toLocaleString()," UGX"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(re,{htmlFor:"markup_company",children:"Company Markup"}),N("markup_company")&&i.jsxs("div",{className:"group relative",children:[i.jsx(Y_,{className:"h-4 w-4 text-blue-500 cursor-help"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:["Auto-disabled for ",o?.payment_type?.replace("_"," ")," payment type.",i.jsx("br",{}),"Employer covers all costs; no company markup charged.",i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(lt,{value:x.markup_company_type,onValueChange:E=>_(R=>({...R,markup_company_type:E})),disabled:N("markup_company"),children:[i.jsx(ut,{className:"w-24",children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"flat",children:"UGX"}),i.jsx(ye,{value:"percentage",children:"%"})]})]}),i.jsx(fe,{id:"markup_company",placeholder:x.markup_company_type==="percentage"?"e.g., 10":"e.g., 50,000",value:x.markup_company,onChange:E=>g(E.target.value,"markup_company"),disabled:N("markup_company"),className:N("markup_company")?"bg-gray-100 cursor-not-allowed":"",readOnly:N("markup_company")})]}),x.markup_company_type==="percentage"&&x.markup_company&&i.jsxs("p",{className:"text-xs text-blue-600",children:[x.markup_company,"% of input fee = ",Math.round((parseFloat(b(x.input_fee))||0)*y(1,x.input_fee_currency)*(parseFloat(x.markup_company)||0)/100).toLocaleString()," UGX"]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(re,{htmlFor:"final_fee",children:"Final Fee (Auto-calculated in UGX)"}),i.jsxs("div",{className:"relative",children:[i.jsx(fe,{id:"final_fee",type:"text",value:A(),disabled:!0,className:"bg-gray-100 pr-12"}),i.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:"UGX"}),h&&i.jsx("span",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 text-xs text-blue-500",children:"Loading rates..."})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o?.payment_type==="employer_funded"&&"Formula: Agency Markup only",o?.payment_type==="candidate_funded"&&"Formula: Input Fee (converted to UGX) + Company Markup",o?.payment_type==="hybrid"&&"Formula: Input Fee (converted to UGX) + Company Markup + Agency Markup",!o?.payment_type&&"Formula: Input Fee (converted to UGX) + Agency Markup + Company Markup"]}),x.input_fee_currency!=="UGX"&&d[x.input_fee_currency]&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Exchange rate: 1 ",x.input_fee_currency," = ",Math.round(d[x.input_fee_currency]).toLocaleString()," UGX",i.jsx("span",{className:"text-gray-500 ml-2",children:"(Updated daily)"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-6 p-6 bg-green-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Contract Terms"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"contract_period",children:"Contract Period (months)"}),i.jsx(fe,{id:"contract_period",type:"number",min:"1",value:x.contract_period,onChange:E=>_(R=>({...R,contract_period:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"probation_period",children:"Probation Period (months)"}),i.jsx(fe,{id:"probation_period",type:"number",min:"0",value:x.probation_period,onChange:E=>_(R=>({...R,probation_period:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"min_age",children:"Minimum Age"}),i.jsx(fe,{id:"min_age",type:"number",min:"18",max:"65",value:x.min_age,onChange:E=>_(R=>({...R,min_age:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx(re,{htmlFor:"max_age",children:"Maximum Age"}),i.jsx(fe,{id:"max_age",type:"number",min:"18",max:"65",value:x.max_age,onChange:E=>_(R=>({...R,max_age:E.target.value}))})]})]})]}),i.jsxs("div",{className:"space-y-6 p-6 bg-yellow-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-900",children:"Benefits & Additional Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(re,{htmlFor:"working_hours",children:"Working Hours"}),i.jsx(fe,{id:"working_hours",placeholder:"e.g., 8 hours/day, 6 days/week",value:x.working_hours,onChange:E=>_(R=>({...R,working_hours:E.target.value}))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{className:"text-base font-medium",children:"Benefits Provided"}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{key:"accommodation",label:"Accommodation"},{key:"food",label:"Food"},{key:"air_ticket",label:"Air Ticket"},{key:"transport",label:"Transport"},{key:"medical_insurance",label:"Medical Insurance"},{key:"employment_visa",label:"Employment Visa"}].map(E=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vc,{id:`form_${E.key}`,checked:x[E.key],onCheckedChange:R=>_(D=>({...D,[E.key]:R}))}),i.jsx(re,{htmlFor:`form_${E.key}`,className:"text-sm",children:E.label})]},E.key))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vc,{id:"is_active",checked:x.is_active,onCheckedChange:E=>_(R=>({...R,is_active:E}))}),i.jsx(re,{htmlFor:"is_active",className:"text-sm",children:"Job is Active"})]})]})]})]})})}),i.jsx("div",{className:"sticky bottom-0 z-10 bg-background border-t px-6 py-4",children:i.jsxs("div",{className:"flex justify-end gap-3 max-w-6xl mx-auto",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(K,{type:"submit",disabled:a,onClick:z,className:"flex items-center gap-2",children:[i.jsx(gn,{className:"h-4 w-4"}),a?"Saving...":e?"Update Job":"Create Job"]})]})})]})},$ve=({job:e,isOpen:t,onClose:r})=>{const[n,a]=w.useState(!0),[s,o]=w.useState("portrait"),[l,c]=w.useState(!1),u=w.useRef(null);if(!t)return null;const d=(b,g)=>b*({USD:3700,EUR:4e3,GBP:4500,UGX:1,SAR:987,AED:1007,QAR:1016}[g]||1),h=(()=>{const b=e.input_fee?d(e.input_fee,e.input_fee_currency):0;let g=0;e.markup_agency&&(e.markup_agency_type==="percentage"?g=b*(e.markup_agency/100):g=e.markup_agency);let x=0;e.markup_company&&(e.markup_company_type==="percentage"?x=b*(e.markup_company/100):x=e.markup_company);let _=0;switch(e.payment_type){case"employer_funded":_=g;break;case"candidate_funded":_=b+x;break;case"hybrid":default:_=b+g+x}return{inputFeeUGX:b,agencyMarkupUGX:g,companyMarkupUGX:x,finalFeeUGX:_,totalRevenue:_*e.requested_headcount,perCandidateMargin:_*.3,totalMargin:_*e.requested_headcount*.3}})(),m=()=>{window.print()},v=async()=>{try{const b=window.open("","_blank");b&&(b.document.write(`
          <html>
            <head>
              <title>Job Order - ${e.position_name}</title>
              <style>
                ${y()}
              </style>
            </head>
            <body>
              ${u.current?.innerHTML||""}
            </body>
          </html>
        `),b.document.close(),b.print()),me.success("PDF generation initiated")}catch{me.error("Failed to generate PDF")}},y=()=>`
    @media print {
      body { 
        font-family: Arial, sans-serif;
        font-size: 12pt;
        line-height: 1.4;
        color: #000;
        background: white;
      }
      .no-print { display: none !important; }
      .page-break { page-break-before: always; }
      .avoid-break { page-break-inside: avoid; }
      table { 
        border-collapse: collapse;
        width: 100%;
        margin: 10px 0;
      }
      th, td { 
        border: 1px solid #000;
        padding: 8px;
        text-align: left;
      }
      th { 
        background-color: #f0f0f0;
        font-weight: bold;
      }
      h1 { font-size: 18pt; margin: 20px 0 10px 0; }
      h2 { font-size: 14pt; margin: 15px 0 8px 0; }
      h3 { font-size: 12pt; margin: 10px 0 5px 0; }
      .header { text-align: center; margin-bottom: 30px; }
      .footer { 
        position: fixed;
        bottom: 0;
        width: 100%;
        text-align: center;
        font-size: 10pt;
        border-top: 1px solid #000;
        padding: 10px 0;
      }
    }
  `,p=(b,g="UGX")=>`${b.toLocaleString()} ${g}`;return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:[i.jsxs("div",{className:`bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden ${s==="landscape"?"landscape-mode":""}`,children:[i.jsxs("div",{className:"no-print flex justify-between items-center p-6 border-b bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("h2",{className:"text-2xl font-semibold",children:["Job Order - ",e.position_name]}),i.jsx(Ce,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vc,{id:"financial-detail",checked:n,onCheckedChange:a}),i.jsx(re,{htmlFor:"financial-detail",className:"text-sm",children:"Include Financial Detail"})]}),i.jsxs(lt,{value:s,onValueChange:b=>o(b),children:[i.jsx(ut,{className:"w-32",children:i.jsx(ct,{})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"portrait",children:"Portrait"}),i.jsx(ye,{value:"landscape",children:"Landscape"})]})]}),i.jsx(K,{variant:"outline",onClick:()=>c(!l),children:l?"Normal View":"Print View"}),i.jsxs(K,{variant:"outline",onClick:m,children:[i.jsx(Ov,{className:"h-4 w-4 mr-2"}),"Print"]}),i.jsxs(K,{onClick:v,children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),i.jsx(K,{variant:"outline",onClick:r,children:i.jsx(gn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:u,className:`overflow-y-auto max-h-[calc(90vh-80px)] p-6 ${l?"print-optimized":""}`,children:[i.jsx("div",{className:"header text-center mb-8 avoid-break",children:i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"text-left",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"JOB ORDER"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",e.id]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Generated: ",new Date().toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-semibold",children:e.receiving_company_name}),i.jsx(Ce,{variant:e.payment_type==="employer_funded"?"default":e.payment_type==="candidate_funded"?"secondary":"outline",className:"mt-2",children:e.payment_type?.replace("_"," ").toUpperCase()||"HYBRID"})]})]})}),i.jsxs("section",{className:"mb-8 avoid-break",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(qt,{className:"h-5 w-5"}),"Executive Summary"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Position:"}),i.jsx("p",{className:"text-lg",children:e.position_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Work Country:"}),i.jsx("p",{children:e.work_country})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Employer:"}),i.jsx("p",{children:e.receiving_company_name})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Headcount:"}),i.jsxs("p",{className:"text-lg font-semibold",children:[e.requested_headcount," positions"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Contract Period:"}),i.jsxs("p",{children:[e.contract_period," months"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-medium text-gray-700",children:"Status:"}),i.jsx(Ce,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})]})]})]})]}),i.jsxs("section",{className:"mb-8 avoid-break",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5"}),"Talent & Operational Summary"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Candidate Profile"}),i.jsxs("ul",{className:"space-y-1 text-sm",children:[i.jsxs("li",{children:["Age Range: ",e.min_age," - ",e.max_age," years"]}),i.jsxs("li",{children:["Working Hours: ",e.working_hours]}),i.jsxs("li",{children:["Probation Period: ",e.probation_period," months"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2",children:"Recruitment Progress"}),i.jsxs("ul",{className:"space-y-1 text-sm",children:[i.jsxs("li",{children:["Candidates Sourced: ",e.candidates_sourced||0]}),i.jsxs("li",{children:["Shortlisted: ",e.candidates_shortlisted||0]}),i.jsxs("li",{children:["Assigned: ",e.candidates_assigned||0]})]})]})]})]}),i.jsxs("section",{className:"mb-8 avoid-break",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Benefits & Allowances"}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{key:"accommodation",label:"Accommodation",value:e.accommodation},{key:"food",label:"Food",value:e.food},{key:"air_ticket",label:"Air Ticket",value:e.air_ticket},{key:"transport",label:"Transport",value:e.transport},{key:"medical_insurance",label:"Medical Insurance",value:e.medical_insurance},{key:"employment_visa",label:"Employment Visa",value:e.employment_visa}].map(b=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded border ${b.value?"bg-green-500":"bg-gray-300"}`}),i.jsx("span",{className:"text-sm",children:b.label})]},b.key))})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"page-break"}),i.jsxs("section",{className:"mb-8 avoid-break",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(cr,{className:"h-5 w-5"}),"Compensation & Financial Breakdown"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Candidate Compensation"}),i.jsx("table",{className:"w-full border border-gray-300",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Monthly Salary"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.salary?p(e.salary,e.salary_currency):"Not specified"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"In UGX"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.salary?p(d(e.salary,e.salary_currency)):"N/A"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Service Fees"}),i.jsx("table",{className:"w-full border border-gray-300",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Input Fee"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.input_fee?p(e.input_fee,e.input_fee_currency):"Not specified"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Input Fee (UGX)"}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.inputFeeUGX)})]})]})})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Markup Calculations"}),i.jsxs("table",{className:"w-full border border-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Component"}),i.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Type"}),i.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Value"}),i.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Amount (UGX)"}),i.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Formula"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2",children:"Agency Markup"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.markup_agency_type||"flat"}),i.jsxs("td",{className:"border border-gray-300 p-2",children:[e.markup_agency||0,e.markup_agency_type==="percentage"?"%":" UGX"]}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.agencyMarkupUGX)}),i.jsx("td",{className:"border border-gray-300 p-2 text-xs",children:e.markup_agency_type==="percentage"?`${p(h.inputFeeUGX)}  ${e.markup_agency}%`:`${e.markup_agency} UGX`})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2",children:"Company Markup"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.markup_company_type||"flat"}),i.jsxs("td",{className:"border border-gray-300 p-2",children:[e.markup_company||0,e.markup_company_type==="percentage"?"%":" UGX"]}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.companyMarkupUGX)}),i.jsx("td",{className:"border border-gray-300 p-2 text-xs",children:e.markup_company_type==="percentage"?`${p(h.inputFeeUGX)}  ${e.markup_company}%`:`${e.markup_company} UGX`})]}),i.jsxs("tr",{className:"bg-blue-50 font-semibold",children:[i.jsx("td",{className:"border border-gray-300 p-2",children:"Final Fee (per candidate)"}),i.jsx("td",{className:"border border-gray-300 p-2",children:"Calculated"}),i.jsx("td",{className:"border border-gray-300 p-2",children:"-"}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.finalFeeUGX)}),i.jsx("td",{className:"border border-gray-300 p-2 text-xs",children:e.payment_type==="employer_funded"?"Agency Markup Only":e.payment_type==="candidate_funded"?"Input Fee + Company Markup":"Input Fee + Agency Markup + Company Markup"})]})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Revenue Projections"}),i.jsx("table",{className:"w-full border border-gray-300",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Per Candidate Fee"}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.finalFeeUGX)})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Total Headcount"}),i.jsx("td",{className:"border border-gray-300 p-2",children:e.requested_headcount})]}),i.jsxs("tr",{className:"bg-green-50 font-semibold",children:[i.jsx("td",{className:"border border-gray-300 p-2",children:"Total Revenue"}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.totalRevenue)})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-gray-300 p-2 font-medium",children:"Estimated Margin (30%)"}),i.jsx("td",{className:"border border-gray-300 p-2",children:p(h.totalMargin)})]})]})})]})]})]}),i.jsxs("section",{className:"mb-8 avoid-break",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Kd,{className:"h-5 w-5"}),"Risks & Notes"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm",children:[" Ensure all candidates meet age requirements (",e.min_age,"-",e.max_age," years)"]}),i.jsxs("p",{className:"text-sm",children:[" Verify work permit requirements for ",e.work_country]}),i.jsxs("p",{className:"text-sm",children:[" Confirm payment terms with ",e.receiving_company_name]}),!e.is_active&&i.jsx("p",{className:"text-sm text-red-600",children:" This position is currently inactive"})]})]}),i.jsxs("footer",{className:"footer text-center text-xs text-gray-600 mt-8 pt-4 border-t",children:[i.jsxs("p",{children:["Generated on ",new Date().toLocaleString()," | Confidential Document"]}),i.jsx("p",{children:"Contact: recruitment@company.com | Page 1 of 1"})]})]})]}),i.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          .page-break { page-break-before: always; }
          .avoid-break { page-break-inside: avoid; }
          .landscape-mode { 
            width: 297mm;
            height: 210mm;
          }
          body { 
            font-size: 12pt;
            line-height: 1.4;
          }
        }
        .print-optimized {
          font-size: 14px;
          line-height: 1.6;
        }
        .print-optimized h1 { font-size: 24px; }
        .print-optimized h2 { font-size: 20px; }
        .print-optimized h3 { font-size: 16px; }
      `})]})},Rve=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState([]),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState(null),[v,y]=w.useState(!1),[p,b]=w.useState(null),[g,x]=w.useState({}),[_,j]=w.useState(""),[S,N]=w.useState("jobs"),[k,A]=w.useState(!1);w.useEffect(()=>{O(),P(),S==="analytics"&&T()},[]),w.useEffect(()=>{S==="analytics"&&T()},[S]);const O=async()=>{l(!0);try{const C=await Te.getJobs(g);t(C.jobs||[])}catch(C){console.error("Failed to fetch jobs:",C),me.error("Failed to load jobs")}finally{l(!1)}},P=async()=>{try{const C=await Te.getEmployers();n(C.employers||[])}catch(C){console.error("Failed to fetch companies:",C),me.error("Failed to load companies")}},T=async()=>{u(!0);try{const C=await Te.getJobAnalytics();s(C.data||[])}catch(C){console.error("Failed to fetch analytics:",C),me.error("Failed to load job analytics")}finally{u(!1)}},z=async()=>{try{await Te.refreshJobAnalytics(),await T(),me.success("Analytics refreshed successfully")}catch(C){console.error("Failed to refresh analytics:",C),me.error("Failed to refresh analytics")}};w.useEffect(()=>{O()},[g,_]);const E=()=>{m(null),f(!0)},R=C=>{m(C),f(!0)},D=C=>{b(C),y(!0)},$=async C=>{if(confirm("Are you sure you want to delete this job?"))try{await Te.deleteJob(C),me.success("Job deleted successfully"),O()}catch(M){console.error("Failed to delete job:",M),me.error("Failed to delete job")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Jobs Management"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage job positions and requirements"})]}),i.jsxs("div",{className:"flex gap-2",children:[S==="analytics"&&i.jsxs(K,{variant:"outline",onClick:z,disabled:c,className:"flex items-center gap-2",children:[i.jsx($e,{className:`h-4 w-4 ${c?"animate-spin":""}`}),"Refresh Analytics"]}),i.jsxs(K,{onClick:E,className:"flex items-center gap-2",children:[i.jsx(ii,{className:"h-4 w-4"}),"Create Job"]})]})]}),i.jsxs(il,{value:S,onValueChange:N,children:[i.jsxs(sl,{children:[i.jsxs(xt,{value:"jobs",className:"flex items-center gap-2",children:[i.jsx(Hd,{className:"h-4 w-4"}),"Jobs"]}),i.jsxs(xt,{value:"analytics",className:"flex items-center gap-2",children:[i.jsx(Dc,{className:"h-4 w-4"}),"Analytics"]})]}),i.jsxs(bt,{value:"jobs",className:"space-y-6",children:[i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(_e,{className:"flex items-center gap-2",children:[i.jsx(L0,{className:"h-5 w-5"}),"Search & Filters"]})}),i.jsxs(se,{className:"space-y-4",children:[i.jsx("div",{className:"flex gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx(re,{htmlFor:"search",children:"Search Jobs"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(fe,{id:"search",placeholder:"Search by position name...",value:_,onChange:C=>j(C.target.value),className:"pl-10"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(re,{children:"Status"}),i.jsxs(lt,{value:g.is_active?.toString()||"all",onValueChange:C=>x(M=>({...M,is_active:C==="all"?void 0:C==="true"})),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"All Status"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"all",children:"All Status"}),i.jsx(ye,{value:"true",children:"Active"}),i.jsx(ye,{value:"false",children:"Inactive"})]})]})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Country"}),i.jsx(fe,{placeholder:"Work country...",value:g.work_country||"",onChange:C=>x(M=>({...M,work_country:C.target.value||void 0}))})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Company"}),i.jsxs(lt,{value:g.receiving_company_id||"all",onValueChange:C=>x(M=>({...M,receiving_company_id:C==="all"?void 0:C})),children:[i.jsx(ut,{children:i.jsx(ct,{placeholder:"All Companies"})}),i.jsxs(dt,{children:[i.jsx(ye,{value:"all",children:"All Companies"}),r.map(C=>i.jsx(ye,{value:C.id,children:C.company_name},C.id))]})]})]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>A(!k),children:"Advanced Filters"}),i.jsx(K,{variant:"outline",onClick:()=>{x({}),j("")},children:"Clear Filters"})]})]}),k&&i.jsxs("div",{className:"border-t pt-4 space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"Advanced Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(re,{children:"Min Salary"}),i.jsx(fe,{type:"number",placeholder:"Minimum salary...",value:g.salary_min||"",onChange:C=>x(M=>({...M,salary_min:C.target.value?parseFloat(C.target.value):void 0}))})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Max Salary"}),i.jsx(fe,{type:"number",placeholder:"Maximum salary...",value:g.salary_max||"",onChange:C=>x(M=>({...M,salary_max:C.target.value?parseFloat(C.target.value):void 0}))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(re,{children:"Min Contract Period (months)"}),i.jsx(fe,{type:"number",placeholder:"Minimum contract period...",value:g.contract_period_min||"",onChange:C=>x(M=>({...M,contract_period_min:C.target.value?parseInt(C.target.value):void 0}))})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Max Contract Period (months)"}),i.jsx(fe,{type:"number",placeholder:"Maximum contract period...",value:g.contract_period_max||"",onChange:C=>x(M=>({...M,contract_period_max:C.target.value?parseInt(C.target.value):void 0}))})]})]}),i.jsxs("div",{children:[i.jsx(re,{className:"text-base font-medium",children:"Required Benefits"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-2",children:[{key:"accommodation",label:"Accommodation"},{key:"food",label:"Food"},{key:"air_ticket",label:"Air Ticket"},{key:"transport",label:"Transport"},{key:"medical_insurance",label:"Medical Insurance"},{key:"employment_visa",label:"Employment Visa"}].map(C=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vc,{id:C.key,checked:g[C.key]===!0,onCheckedChange:M=>x(q=>({...q,[C.key]:M?!0:void 0}))}),i.jsx(re,{htmlFor:C.key,className:"text-sm",children:C.label})]},C.key))})]})]})]})]}),i.jsxs("div",{className:"grid gap-4",children:[o&&i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsx("div",{className:"text-center",children:"Loading jobs..."})})}),!o&&e.length===0&&i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsx("div",{className:"text-center text-muted-foreground",children:"No jobs found. Create your first job to get started."})})}),!o&&e.map(C=>{const M=q=>{const Z=new Date(q),ce=Math.abs(new Date().getTime()-Z.getTime()),pe=Math.floor(ce/(1e3*60)),J=Math.floor(ce/(1e3*60*60)),ne=Math.floor(ce/(1e3*60*60*24));return pe<1?"Just now":pe<60?`${pe} minute${pe>1?"s":""} ago`:J<24?`${J} hour${J>1?"s":""} ago`:ne===1?"1 day ago":ne<7?`${ne} days ago`:ne<14?"1 week ago":ne<30?`${Math.floor(ne/7)} weeks ago`:ne<60?"1 month ago":ne<365?`${Math.floor(ne/30)} months ago`:`${Math.floor(ne/365)} year${Math.floor(ne/365)>1?"s":""} ago`};return i.jsx(ie,{children:i.jsxs(se,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"space-y-3 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"text-xl font-semibold",children:C.position_name}),i.jsx(Ce,{variant:C.is_active?"default":"secondary",children:C.is_active?"Active":"Inactive"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:C.receiving_company_name||"Unknown Company"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zh,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:C.work_country})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[C.requested_headcount," positions"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ic,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[C.contract_period," months"]})]})]}),C.salary&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[C.salary," ",C.salary_currency]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.accommodation&&i.jsx(Ce,{variant:"outline",children:"Accommodation"}),C.food&&i.jsx(Ce,{variant:"outline",children:"Food"}),C.air_ticket&&i.jsx(Ce,{variant:"outline",children:"Air Ticket"}),C.transport&&i.jsx(Ce,{variant:"outline",children:"Transport"}),C.medical_insurance&&i.jsx(Ce,{variant:"outline",children:"Medical Insurance"}),C.employment_visa&&i.jsx(Ce,{variant:"outline",children:"Employment Visa"})]})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>D(C),title:"View Job Order",children:i.jsx(qt,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>R(C),title:"Edit Job",children:i.jsx(ep,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>$(C.id),title:"Delete Job",children:i.jsx(fs,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mt-4 pt-3 border-t border-muted-foreground/20",children:i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ic,{className:"h-3 w-3"}),i.jsxs("span",{children:["Created ",M(C.created_at)]})]})})]})},C.id)})]})]}),i.jsxs(bt,{value:"analytics",className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Job Analytics Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Performance metrics and insights for job positions"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleString()]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Jobs"}),i.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),i.jsx(Hd,{className:"h-8 w-8 text-muted-foreground"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Jobs"}),i.jsx("p",{className:"text-2xl font-bold",children:e.filter(C=>C.is_active).length})]}),i.jsx(Ar,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Candidates"}),i.jsx("p",{className:"text-2xl font-bold",children:a.reduce((C,M)=>C+M.total_candidates,0)})]}),i.jsx(Ft,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(ie,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Success Rate"}),i.jsxs("p",{className:"text-2xl font-bold",children:[a.length>0?Math.round(a.reduce((C,M)=>C+M.success_rate,0)/a.length):0,"%"]})]}),i.jsx(Dc,{className:"h-8 w-8 text-purple-600"})]})})})]}),i.jsxs(ie,{children:[i.jsx(Ne,{children:i.jsxs(_e,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Job Performance Analytics"}),c&&i.jsx($e,{className:"h-4 w-4 animate-spin"})]})}),i.jsx(se,{children:c?i.jsx("div",{className:"text-center py-8",children:"Loading analytics..."}):a.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No analytics data available. Create some jobs and candidates to see insights."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left p-2",children:"Position"}),i.jsx("th",{className:"text-left p-2",children:"Company"}),i.jsx("th",{className:"text-left p-2",children:"Country"}),i.jsx("th",{className:"text-right p-2",children:"Candidates"}),i.jsx("th",{className:"text-right p-2",children:"Active"}),i.jsx("th",{className:"text-right p-2",children:"Deployed"}),i.jsx("th",{className:"text-right p-2",children:"Success Rate"}),i.jsx("th",{className:"text-right p-2",children:"Avg Payment"}),i.jsx("th",{className:"text-right p-2",children:"Processing Days"})]})}),i.jsx("tbody",{children:a.map(C=>i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"p-2 font-medium",children:C.position_name}),i.jsx("td",{className:"p-2",children:C.receiving_company_name}),i.jsx("td",{className:"p-2",children:C.work_country}),i.jsx("td",{className:"p-2 text-right",children:C.total_candidates}),i.jsx("td",{className:"p-2 text-right",children:C.active_candidates}),i.jsx("td",{className:"p-2 text-right",children:C.deployed_candidates}),i.jsx("td",{className:"p-2 text-right",children:i.jsxs(Ce,{variant:C.success_rate>=70?"default":C.success_rate>=40?"secondary":"destructive",children:[Math.round(C.success_rate),"%"]})}),i.jsx("td",{className:"p-2 text-right",children:C.average_payment>0?`$${C.average_payment.toLocaleString()}`:"-"}),i.jsxs("td",{className:"p-2 text-right",children:[Math.round(C.avg_processing_days)," days"]})]},C.position_id))})]})})})]})]})]}),d&&i.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:i.jsx(Tve,{job:h,onClose:()=>f(!1),onSave:O,companies:r})}),v&&p&&i.jsx($ve,{job:p,isOpen:v,onClose:()=>{y(!1),b(null)}})]})},Mve=()=>{const[e,t]=w.useState("name"),[r,n]=w.useState("asc"),[a,s]=w.useState(!1),[o,l]=w.useState(!0),c=[{id:1,name:"Agnes Nakimuli",photo_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",doc_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",email:"agnes@example.com",file_size:2547123,mime_type:"application/pdf",status:"active"},{id:2,name:"James Otim",photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",doc_url:"https://www.africau.edu/images/default/sample.pdf",email:"james@example.com",file_size:1234567,mime_type:"application/pdf",status:"inactive"},{id:3,name:"Grace Wanjiku",photo_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",doc_url:"https://www.clickdimensions.com/links/TestPDFfile.pdf",email:"grace@example.com",file_size:3456789,mime_type:"application/pdf",status:"active"}],u=(m,v)=>{t(m),n(v)},d=m=>{l(m),s(!0)},f=[...c].sort((m,v)=>{let y=m[e],p=v[e];return typeof y=="string"&&(y=y.toLowerCase(),p=p.toLowerCase()),r==="asc"?y>p?1:-1:y<p?1:-1}),h=[!0,"sm-down","md-down","lg-down","xl-down","xxl-down"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Smart Table Demo"}),i.jsx(Fe,{children:"Demonstrates automatic file detection and download functionality"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-purple-900 mb-3",children:"Fullscreen Modal Test:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((m,v)=>i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>d(m),children:["Full screen",typeof m=="string"&&` below ${m.split("-")[0]}`]},v))})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-blue-900",children:"Features Demonstrated:"}),i.jsxs("ul",{className:"mt-2 text-sm text-blue-800 space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Auto-detection:"})," Columns with 'url', 'photo', 'image', 'document', 'file' are detected as file columns"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Smart headers:"})," Column names, sorting, and file controls are grouped together for clarity"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Sorting:"})," Click column headers to sort data (arrows indicate sort direction)"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Individual downloads:"})," Click the download icon to download individual files"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Bulk selection:"})," Use checkboxes to select multiple files from the same column"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Bulk download:"})," Click the archive icon in the column header to download selected files"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"File previews:"})," Click the eye icon to preview images and documents"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"File metadata:"})," Shows file sizes and types when available"]})]})]}),i.jsx(Lu,{data:f,sortField:e,sortDirection:r,onSort:u,columns:[{key:"name",header:"Name",sortable:!0,render:m=>i.jsx("div",{className:"font-medium",children:m})},{key:"photo_url",header:"Profile Photo",isFileColumn:!0,fileType:"image",sortable:!1},{key:"doc_url",header:"Documents",isFileColumn:!0,fileType:"document",sortable:!1},{key:"email",header:"Email",sortable:!0},{key:"status",header:"Status",sortable:!0,render:m=>i.jsx("span",{className:`px-2 py-1 rounded text-xs ${m==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m})}],onRowClick:m=>{console.log("Row clicked:",m)}}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-yellow-900",children:"Try it out:"}),i.jsxs("ul",{className:"mt-2 text-sm text-yellow-800 space-y-1",children:[i.jsxs("li",{children:["1. ",i.jsx("strong",{children:"Sorting:"}),' Click "Name", "Email", or "Status" headers to sort the table']}),i.jsxs("li",{children:["2. ",i.jsx("strong",{children:"File Controls:"})," Notice how file column headers show the file count, select all, and download buttons grouped together"]}),i.jsxs("li",{children:["3. ",i.jsx("strong",{children:"Individual Downloads:"})," Click the download button next to any file"]}),i.jsxs("li",{children:["4. ",i.jsx("strong",{children:"Bulk Selection:"})," Use checkboxes to select files, then click the archive icon in the header"]}),i.jsxs("li",{children:["5. ",i.jsx("strong",{children:"File Preview:"})," Click the eye icon to preview files (opens in new tab)"]})]})]})]})})]}),a&&i.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",margin:0,padding:0},children:[i.jsxs("div",{className:"px-6 py-4 border-b flex-shrink-0",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Fullscreen Modal Test"}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Testing fullscreen modal functionality - Type: ",typeof o=="boolean"?"true fullscreen":`below ${o.split("-")[0]}`]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-h-0",children:i.jsx("div",{className:"container-fluid h-full",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Personal Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"John"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Doe"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),i.jsx("input",{type:"email",className:"w-full px-3 py-2 border rounded-md",placeholder:"john.doe@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full px-3 py-2 border rounded-md",placeholder:"+1 (555) 123-4567"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Contact Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Line 1"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"123 Main Street"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Line 2"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Apt 4B"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"New York"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),i.jsxs("select",{className:"w-full px-3 py-2 border rounded-md",children:[i.jsx("option",{children:"Select State"}),i.jsx("option",{children:"New York"}),i.jsx("option",{children:"California"}),i.jsx("option",{children:"Texas"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"ZIP Code"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"10001"})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Employment Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Job Title"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Software Engineer"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Tech Corp Inc."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),i.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Salary"}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-md",placeholder:"75000"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Department"}),i.jsxs("select",{className:"w-full px-3 py-2 border rounded-md",children:[i.jsx("option",{children:"Select Department"}),i.jsx("option",{children:"Engineering"}),i.jsx("option",{children:"Marketing"}),i.jsx("option",{children:"Sales"}),i.jsx("option",{children:"HR"})]})]})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b",children:"Additional Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Emergency Contact"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",placeholder:"Jane Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Emergency Phone"}),i.jsx("input",{type:"tel",className:"w-full px-3 py-2 border rounded-md",placeholder:"+1 (555) 987-6543"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skills"}),i.jsxs("select",{multiple:!0,className:"w-full px-3 py-2 border rounded-md",size:3,children:[i.jsx("option",{children:"JavaScript"}),i.jsx("option",{children:"Python"}),i.jsx("option",{children:"React"}),i.jsx("option",{children:"Node.js"}),i.jsx("option",{children:"SQL"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),i.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:3,placeholder:"Additional notes..."})]})]})]})]})})}),i.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end gap-3 flex-shrink-0",children:[i.jsx(K,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsx(K,{children:"Save Changes"})]})]})]})},Ive=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState("candidates"),a={candidates:[{id:1,full_name:"John Doe",email:"john.doe@email.com",phone:"+256701234567",age:28,nationality:"Ugandan",stage:"documents_submitted",photo_url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",passport_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",cv_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",investment_amount:2469e3,service_charge:1e5,application_date:"2024-01-15",created_at:"2024-01-15T10:30:00Z"},{id:2,full_name:"Jane Smith",email:"jane.smith@email.com",phone:"+256702345678",age:25,nationality:"Kenyan",stage:"deployed",photo_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",passport_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",cv_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",medical_certificate_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",investment_amount:2469e3,service_charge:1e5,application_date:"2024-01-20",created_at:"2024-01-20T14:15:00Z"},{id:3,full_name:"David Wilson",email:"david.wilson@email.com",phone:"+256703456789",age:30,nationality:"Tanzanian",stage:"training",photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",passport_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",investment_amount:2469e3,service_charge:1e5,application_date:"2024-02-01",created_at:"2024-02-01T09:00:00Z"}],documents:[{id:1,candidate_name:"John Doe",document_type:"Passport",file_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",upload_date:"2024-01-15",status:"approved",file_size:2048576,is_verified:!0},{id:2,candidate_name:"Jane Smith",document_type:"Medical Certificate",file_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",upload_date:"2024-01-20",status:"pending_review",file_size:1536e3,is_verified:!1},{id:3,candidate_name:"David Wilson",document_type:"CV",document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",upload_date:"2024-02-01",status:"approved",file_size:3072e3,is_verified:!0}],agents:[{id:1,agent_name:"Sarah Johnson",email:"sarah@jawal.com",phone:"+256704567890",region:"Central",profile_image_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",license_document:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",total_candidates:45,commission_rate:.15,is_active:!0,joined_date:"2023-06-15"},{id:2,agent_name:"Michael Brown",email:"michael@jawal.com",phone:"+256705678901",region:"Western",profile_image_url:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",license_document:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",contract_document_url:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",total_candidates:32,commission_rate:.12,is_active:!0,joined_date:"2023-08-20"}]},s=()=>{t(!0),setTimeout(()=>{t(!1)},1500)},o=a[r];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"SQL Results Table Demo"}),i.jsx("p",{className:"text-muted-foreground",children:"Automatically detects and handles media columns in SQL query results with bulk download capabilities."})]}),i.jsxs(ie,{className:"border-blue-200 bg-blue-50/30",children:[i.jsx(Ne,{children:i.jsxs(_e,{className:"text-lg text-blue-900 flex items-center gap-2",children:[i.jsx(p5,{className:"h-5 w-5"}),"How to Use"]})}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Basic Usage:"}),i.jsxs("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-lg text-sm font-mono",children:[i.jsx("div",{children:'import SQLResultsTable from "./components/SQLResultsTable";'}),i.jsx("div",{className:"mt-2",children:"<SQLResultsTable"}),i.jsx("div",{children:"  data={sqlQueryResults}"}),i.jsx("div",{children:'  title="Your Table Title"'}),i.jsx("div",{children:'  description="Optional description"'}),i.jsx("div",{children:"  onRefresh={() => refetchData()}"}),i.jsx("div",{children:"/>"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Auto-Detection Features:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 ml-4",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Media Columns:"})," Automatically detects columns with 'url', 'photo', 'image', 'document', 'file', etc."]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"File Types:"})," Determines if files are images, documents, videos, or audio"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Bulk Downloads:"})," Provides select-all and bulk download for each media column"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Data Formatting:"})," Formats currencies, dates, booleans, and long text automatically"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Smart Headers:"})," Converts snake_case to Title Case"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Sorting:"})," All non-media columns are sortable by default"]})]})]})]})]}),i.jsxs(ie,{children:[i.jsxs(Ne,{children:[i.jsx(_e,{children:"Sample Data Sets"}),i.jsx(Fe,{children:"Choose a sample data set to see the automatic media detection in action"})]}),i.jsx(se,{children:i.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(a).map(([l,c])=>i.jsxs(K,{variant:r===l?"default":"outline",onClick:()=>n(l),className:"capitalize",children:[i.jsx(Ja,{className:"h-4 w-4 mr-2"}),l," (",c.length," records)"]},l))})})]}),i.jsxs(ie,{className:"border-yellow-200 bg-yellow-50/30",children:[i.jsxs(Ne,{children:[i.jsxs(_e,{className:"text-yellow-900 flex items-center gap-2",children:[i.jsx(U0,{className:"h-5 w-5"}),"Interactive Demo"]}),i.jsx(Fe,{children:"Try the bulk download features on the media columns below:"})]}),i.jsx(se,{children:i.jsxs("ul",{className:"mb-4 text-sm text-yellow-800 space-y-1",children:[i.jsxs("li",{children:["1. ",i.jsx("strong",{children:"Media Detection:"})," Notice how columns with 'url', 'photo', 'image', 'document' are automatically detected"]}),i.jsxs("li",{children:["2. ",i.jsx("strong",{children:"File Counts:"})," Each media column shows the number of files available"]}),i.jsxs("li",{children:["3. ",i.jsx("strong",{children:"Individual Downloads:"})," Click download buttons next to individual files"]}),i.jsxs("li",{children:["4. ",i.jsx("strong",{children:"Bulk Selection:"})," Use checkboxes to select multiple files from the same column"]}),i.jsxs("li",{children:["5. ",i.jsx("strong",{children:"Bulk Download:"})," Use the archive icon in media column headers for ZIP downloads"]}),i.jsxs("li",{children:["6. ",i.jsx("strong",{children:"Sorting:"})," Click any non-media column header to sort the data"]})]})})]}),i.jsx(cT,{data:o,title:`${r.charAt(0).toUpperCase()+r.slice(1)} Data`,description:`Sample ${r} data showing automatic media column detection and bulk download capabilities`,loading:e,onRefresh:s}),i.jsxs(ie,{className:"border-green-200 bg-green-50/30",children:[i.jsx(Ne,{children:i.jsx(_e,{className:"text-green-900 flex items-center gap-2",children:i.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Auto-Detected Features"})})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:"Media Columns"}),i.jsx("div",{className:"text-green-700",children:"Columns containing 'url', 'photo', 'image', 'document', 'file'"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:"File Type Detection"}),i.jsx("div",{className:"text-green-700",children:"Automatic classification as image, document, video, or audio"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:"Data Formatting"}),i.jsx("div",{className:"text-green-700",children:"Currency, dates, booleans, and long text handled automatically"})]})]})})]})]})},Dve=[{name:"Dashboard",path:"/dashboard",icon:J_},{name:"Employers",path:"/employers",icon:An},{name:"Jobs",path:"/jobs",icon:LE},{name:"Agents",path:"/agents",icon:B0},{name:"Candidates",path:"/candidates",icon:Ft},{name:"Process Tracking",path:"/process",icon:d5},{name:"Documents",path:"/documents",icon:qt},{name:"Financials",path:"/financials",icon:cr},{name:"Reports",path:"/reports",icon:qt},{name:"Analytics",path:"/analytics",icon:Dc},{name:"Settings",path:"/settings",icon:Tv},{name:"Table Demo",path:"/demo",icon:qt},{name:"SQL Results",path:"/sql-demo",icon:J_}];function Lve({isCollapsed:e,onToggle:t}){const r=el();return i.jsxs("div",{className:`bg-sidebar border-r border-sidebar-border flex flex-col transition-all duration-200 ${e?"w-16":"w-64"}`,children:[i.jsx("div",{className:"p-4 border-b border-sidebar-border",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg p-2 flex-shrink-0",children:i.jsx(An,{className:"h-5 w-5"})}),!e&&i.jsxs("div",{children:[i.jsx("h1",{className:"font-semibold text-sidebar-foreground",children:"Jawal International"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff Portal"})]})]})}),i.jsx("nav",{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-1",children:Dve.map(n=>{const a=r.pathname===n.path;return i.jsxs(_L,{to:n.path,className:`flex items-center px-3 py-2 text-sm rounded-lg transition-colors ${a?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}`,children:[i.jsx(n.icon,{className:`h-4 w-4 flex-shrink-0 ${a?"text-primary":""}`}),!e&&i.jsx("span",{className:"ml-3",children:n.name})]},n.name)})})}),!e&&i.jsx("div",{className:"p-4 border-t border-sidebar-border",children:i.jsxs(K,{variant:"ghost",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",children:[i.jsx(VE,{className:"h-4 w-4 mr-3"}),"Logout"]})})]})}function Fve({onSidebarToggle:e}){const{user:t,signOut:r}=ZU(),n=async()=>{try{await r()}catch(a){console.error("Logout error:",a)}};return i.jsxs("header",{className:"bg-background border-b border-border px-6 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:e,className:"lg:hidden",children:i.jsx(W5,{className:"h-4 w-4"})}),i.jsx(LU,{})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(K,{variant:"ghost",size:"sm",className:"relative",children:[i.jsx(Gs,{className:"h-4 w-4"}),i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:"3"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium",children:t?.email||"Admin User"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Operations Manager"})]}),i.jsxs(A3,{className:"h-8 w-8",children:[i.jsx(P3,{src:"/api/placeholder/32/32",alt:"Admin"}),i.jsx(O3,{children:t?.email?.charAt(0).toUpperCase()||"AU"})]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:n,className:"text-muted-foreground hover:text-foreground",children:i.jsx(VE,{className:"h-4 w-4"})})]})]})]})}function Uve({onSidebarToggle:e}){return i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[i.jsx(Fve,{onSidebarToggle:e}),i.jsx("main",{className:"flex-1 overflow-auto bg-muted/30",children:i.jsx("div",{className:"p-6",children:i.jsxs(xE,{children:[i.jsx(zt,{path:"/",element:i.jsx(yE,{to:"/dashboard",replace:!0})}),i.jsx(zt,{path:"/dashboard",element:i.jsx(DB,{})}),i.jsx(zt,{path:"/candidates",element:i.jsx(i7,{})}),i.jsx(zt,{path:"/agents",element:i.jsx(K7,{})}),i.jsx(zt,{path:"/employers",element:i.jsx(Q7,{})}),i.jsx(zt,{path:"/jobs",element:i.jsx(Rve,{})}),i.jsx(zt,{path:"/financials",element:i.jsx(t9,{})}),i.jsx(zt,{path:"/process",element:i.jsx(n9,{})}),i.jsx(zt,{path:"/documents",element:i.jsx(o9,{})}),i.jsx(zt,{path:"/reports",element:i.jsx(Pve,{})}),i.jsx(zt,{path:"/analytics",element:i.jsx(c9,{})}),i.jsx(zt,{path:"/settings",element:i.jsx(Ove,{})}),i.jsx(zt,{path:"/demo",element:i.jsx(Mve,{})}),i.jsx(zt,{path:"/sql-demo",element:i.jsx(Ive,{})})]})})})]})}function Bve(){const[e,t]=w.useState(!1),r=()=>{t(!e)};return i.jsx(eB,{children:i.jsx(xL,{children:i.jsxs(xE,{children:[i.jsx(zt,{path:"/login",element:i.jsx(JU,{})}),i.jsx(zt,{path:"/*",element:i.jsx(QU,{children:i.jsxs("div",{className:"flex h-screen",children:[i.jsx(Lve,{isCollapsed:e,onToggle:r}),i.jsx(Uve,{onSidebarToggle:r})]})})})]})})})}oE(document.getElementById("root")).render(i.jsx(Bve,{}));
